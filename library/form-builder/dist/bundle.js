!function(e){var t={};function i(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)i.d(n,l,function(t){return e[t]}.bind(null,l));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./dist/",i(i.s=2)}([
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},
/*!********************************!*\
  !*** ./src/builder.ts-exposed ***!
  \********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./builder.ts */8)}).call(this,i(/*! ./../node_modules/webpack/buildin/global.js */0))},
/*!*****************************!*\
  !*** ./src/main.ts-exposed ***!
  \*****************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./main.ts */3)}).call(this,i(/*! ./../node_modules/webpack/buildin/global.js */0))},
/*!**********************************************!*\
  !*** ./node_modules/ts-loader!./src/main.ts ***!
  \**********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PixiumForm=void 0;const n=i(/*! ./section */4),l=i(/*! ./builder */1),s=i(/*! ./data.json */20);t.PixiumForm=class{constructor(e){if(this.sections=[],this.currentNode=0,e.div){if(this.div=e.div,this.mainNode=document.getElementById(this.div),console.log(this.mainNode),this.mainNode.setAttribute("class","container form-container"),e.data?this.json=e.data:this.json=s,this.json&&this.json.sections){this.json.sections.forEach(e=>{let t=new n.Section(this.mainNode,e,e=>this.moveSection(e));this.sections.push(t)})}else alert("Could not init the module."),console.log(this.json);e.debug?this.debug=e.debug:this.debug=!1,e.mode?this.mode=e.mode:this.mode="run","build"===this.mode?this.build():this.run()}else alert("Div not found. Cannot display the form")}build(){this.clear(),this.sections.forEach(e=>{e.build(this.mainNode);let t=l.Builder.createElement("button",{class:"btn btn-danger form-builder-btn",type:"button",id:"btn-delete-section-"+e.id});t.innerHTML='<i class="fa fa-trash" aria-hidden="true"></i>',t.onclick=t=>{this.mainNode.removeChild(e.node),this.sections=this.sections.filter((function(t){return t.id!=e.id}))},e.node.appendChild(t)});let e=l.Builder.createElement("button",{class:"btn btn-success form-builder-btn",type:"button"});e.innerText="+",e.onclick=e=>{let i=e.target,s=new n.Section(this.mainNode,null,e=>this.moveSection(e));this.sections.push(s),this.mainNode.removeChild(i),this.debug&&this.mainNode.removeChild(t),s.build(this.mainNode);let o=l.Builder.createElement("button",{class:"btn btn-danger form-builder-btn",type:"button",id:"btn-delete-section-"+s.id});o.innerHTML='<i class="fa fa-trash" aria-hidden="true"></i>',o.onclick=e=>{this.mainNode.removeChild(s.node),this.sections=this.sections.filter((function(e){return e.id!=s.id}))},s.node.appendChild(o),this.mainNode.appendChild(i),this.debug&&this.mainNode.appendChild(t)},this.mainNode.appendChild(e);let t=l.Builder.createElement("button",{class:"btn btn-primary form-builder-btn",type:"button"});t.innerText="GO TO RUN",t.onclick=()=>{this.run()},this.debug&&this.mainNode.appendChild(t)}run(){this.clear(),this.sections.forEach(e=>{e.run(this.mainNode)}),this.saveBtn=l.Builder.createElement("button",{class:"btn btn-success form-builder-btn",type:"submit",id:"form-builder-save-final-btn"}),this.saveBtn.innerText="Save",this.saveBtn.onclick=e=>{this.sections[this.currentNode].isCompleted()?this.compileJson():(e.preventDefault(),alert("Please complete the form"))},this.currentNode==this.sections.length-1&&(document.getElementById("btn-next-section-"+this.sections[this.currentNode].id).style.display="none",document.getElementById("btn-next-section-"+this.sections[this.currentNode].id).after(this.saveBtn));let e=l.Builder.createElement("button",{class:"btn btn-success form-builder-btn",type:"button",id:"form-builder-save-btn"});e.innerText="SAVE",e.onclick=()=>{this.compileJson()},this.debug&&this.mainNode.appendChild(e);let t=l.Builder.createElement("button",{class:"btn btn-primary form-builder-btn",type:"button"});t.innerText="GO TO BUILD MODE",t.onclick=()=>{this.build()},this.debug&&this.mainNode.appendChild(t),this.display()}result(){}clear(){this.mainNode&&(this.mainNode.innerHTML="",this.sections.forEach(e=>{e.clear()}),this.currentNode=0)}display(){this.currentNode>=0&&this.currentNode<this.sections.length&&this.sections[this.currentNode].show()}compileJson(){let e;e=[],this.sections.forEach(t=>{e.push(t.compileJson())});let t=JSON.stringify({sections:e});return console.log("finalOutput"),console.log(t),t}moveSection(e){e?this.currentNode>=0&&this.currentNode<this.sections.length-1?(this.sections[this.currentNode].hide(),this.currentNode++,this.sections[this.currentNode].show(),document.getElementById("btn-previous-section-"+this.sections[this.currentNode].id).style.display="inline-block",this.currentNode==this.sections.length-1?(document.getElementById("btn-next-section-"+this.sections[this.currentNode].id).style.display="none",document.getElementById("btn-next-section-"+this.sections[this.currentNode].id).after(this.saveBtn)):document.getElementById("btn-next-section-"+this.sections[this.currentNode].id).style.display="inline-block"):alert("You already are on the next slide"):this.currentNode>=1&&this.currentNode<this.sections.length?(this.sections[this.currentNode].hide(),this.currentNode--,this.sections[this.currentNode].show(),document.getElementById("btn-next-section-"+this.sections[this.currentNode].id).style.display="inline-block",0==this.currentNode&&(document.getElementById("btn-previous-section-"+this.sections[this.currentNode].id).style.display="none")):alert("You already are on the first slide")}}},
/*!********************************!*\
  !*** ./src/section.ts-exposed ***!
  \********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./section.ts */5)}).call(this,i(/*! ./../node_modules/webpack/buildin/global.js */0))},
/*!*************************************************!*\
  !*** ./node_modules/ts-loader!./src/section.ts ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Section=void 0;const n=i(/*! ./block/block */6),l=i(/*! ./builder */1);t.Section=class{constructor(e,t,i){this.parent=e,this.blocks=[],this.callback=i,this.title="Default Title",this.name="default_name",this.id=Math.random().toString(36).substring(7),t&&(t.title&&(this.title=t.title),t.name&&(this.name=t.name),t.blocks&&t.blocks.forEach(e=>{let t=new n.Block(e);this.blocks.push(t)}))}build(e){this.node=l.Builder.createElement("div",{class:"row pixium-box"});let t=l.Builder.createElement("div",{class:"row pixium-block-build pixium-block-build-header"});l.Builder.addBuilderInputText(t,this.id,this.title,"Title Section",e=>{this.title=e},"col-md-4"),l.Builder.addBuilderInputText(t,this.id,this.name,"Name Section",e=>{this.name=e},"col-md-4"),this.node.appendChild(t),this.blocks.forEach(e=>{e.build(this.node);let t=l.Builder.createElement("button",{class:"btn btn-danger form-builder-btn",type:"button"});t.innerHTML='<i class="fa fa-trash" aria-hidden="true"></i>',t.onclick=t=>{this.node.removeChild(e.node),this.blocks=this.blocks.filter((function(t){return t.id!=e.id}))},e.node.appendChild(t)});let i=l.Builder.createElement("button",{class:"btn btn-success form-builder-btn",type:"button"});i.innerHTML="+",i.onclick=e=>{let t=e.target,i=new n.Block(null);this.blocks.push(i),this.node.removeChild(t);let s=document.getElementById("btn-delete-section-"+this.id);this.node.removeChild(s),i.build(this.node);let o=l.Builder.createElement("button",{class:"btn btn-danger form-builder-btn",type:"button"});o.innerHTML='<i class="fa fa-trash" aria-hidden="true"></i>',o.onclick=e=>{this.node.removeChild(i.node),this.blocks=this.blocks.filter((function(e){return e.id!=i.id}))},i.node.appendChild(o),this.node.appendChild(t),this.node.appendChild(s)},this.node.appendChild(i),e.appendChild(this.node)}run(e){this.node=l.Builder.createElement("div",{class:"row pixium-box"});let t=document.createElement("h1");t.innerHTML=this.title;let i=document.createElement("hr");this.node.appendChild(t),this.node.appendChild(i),this.blocks.forEach(e=>{e.run(this.node)});let n=l.Builder.createElement("button",{class:"btn btn-info form-builder-btn",id:"btn-previous-section-"+this.id,type:"button"});n.innerText="Previous",n.style.display="none",n.onclick=()=>{this.callback&&this.callback(!1)},this.node.appendChild(n);let s=l.Builder.createElement("button",{class:"btn btn-info form-builder-btn",id:"btn-next-section-"+this.id,type:"button"});s.innerText="Next",s.onclick=()=>{this.isCompleted()?this.callback&&this.callback(!0):alert("Please complete the form")},this.node.appendChild(s),this.node.style.display="none",e.appendChild(this.node)}clear(){this.node&&(this.node.innerHTML=""),this.blocks.forEach(e=>{e.clear()})}getNode(){return alert(this.node),this.node}show(){this.node.style.display="block"}hide(){this.node.style.display="none"}isCompleted(){let e=!0;return this.blocks.forEach(t=>{t&&!t.answer&&t.type!==n.BlockType.NOANSWER&&(e=!1)}),e}compileJson(){let e;return e=[],this.blocks.forEach(t=>{e.push(t.compileJson())}),{title:this.title,name:this.name,blocks:e}}}},
/*!************************************!*\
  !*** ./src/block/block.ts-exposed ***!
  \************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./block.ts */7)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!*****************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/block.ts ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=t.BlockType=void 0;const n=i(/*! ../builder */1),l=i(/*! ./choice */9),s=i(/*! ./blockSlider */11),o=i(/*! ./blockFreetext */13),r=i(/*! ./blockRadio */15),d=i(/*! ./blockCheckbox */17),a=i(/*! ./blockLongtext */21);var c;!function(e){e[e.FREETEXT=1]="FREETEXT",e[e.RADIO=2]="RADIO",e[e.SLIDER=3]="SLIDER",e[e.CHECKBOX=4]="CHECKBOX",e[e.LONGTEXT=5]="LONGTEXT",e[e.NOANSWER=6]="NOANSWER"}(c=t.BlockType||(t.BlockType={}));t.Block=class{constructor(e=null){this.json=e,this.text="",this.type=1,this.min="",this.max="",this.step="",this.answer="",this.name="",this.choices=[],this.id=Math.random().toString(36).substring(7),e&&(e.text&&(this.text=e.text),e.type&&(this.type=e.type),this.answer="",e.answer&&(this.answer=e.answer),e.name&&(this.name=e.name),e.min&&(this.min=e.min),e.max&&(this.max=e.max),e.step&&(this.step=e.step),this.type!==c.RADIO&&this.type!==c.CHECKBOX||e.choices&&e.choices.forEach(e=>{let t=new l.Choice(e);this.choices.push(t)}))}clear(){this.node&&(this.node.innerHTML="")}build(e){this.node=n.Builder.createElement("div",{class:"row pixium-block-build"});let t=n.Builder.createElement("hr",{class:"pixium-hr col-md-12"});n.Builder.addBuilderInputText(this.node,this.id,this.text,"Text",e=>{this.text=e},"col-md-4"),n.Builder.addBuilderInputText(this.node,this.id,this.name,"Name",e=>{this.name=e},"col-md-4");let i=Object.keys(c).filter(e=>e.match(/^\D/)).map(e=>({name:e,value:c[e]}));n.Builder.addBuilderInputDropdown(this.node,this.id,this.type,"Type",e=>{this.type=Number(e),this.answer="",this.triggerSubElementBlock()},i,"col-md-4");let s="";this.type!==c.RADIO&&this.type!==c.CHECKBOX&&(s="display:none;");let o=n.Builder.createElement("div",{id:"choices_block_"+this.id,class:"row col-md-12",style:s}),r=n.Builder.createElement("label");r.innerHTML="Choices : ",o.appendChild(r),this.choices.length>0&&this.choices.forEach(e=>{e.build(o);let t=n.Builder.createElement("button",{class:"btn btn-danger form-builder-btn",type:"button"});t.innerText="-",t.onclick=t=>{o.removeChild(e.node),this.choices=this.choices.filter((function(t){return t.id!=e.id}))},e.node.appendChild(t)});let d=n.Builder.createElement("button",{class:"btn btn-success form-builder-btn",type:"button"});d.innerText="+",d.onclick=e=>{let t=e.target,i=new l.Choice(null);this.choices.push(i),o.removeChild(t),i.build(o);let s=n.Builder.createElement("button",{class:"btn btn-danger form-builder-btn",type:"button"});s.innerText="-",s.onclick=e=>{o.removeChild(i.node),this.choices=this.choices.filter((function(e){return e.id!=i.id}))},i.node.appendChild(s),o.appendChild(t)},o.appendChild(d),this.node.appendChild(o);let a="";this.type!==c.SLIDER&&(a="display:none;");let u=n.Builder.createElement("div",{id:"slider_block_"+this.id,class:"row col-md-12",style:a});n.Builder.addBuilderInputText(u,this.id,this.min,"Min",e=>{this.min=e},"col-md-4"),n.Builder.addBuilderInputText(u,this.id,this.max,"Max",e=>{this.max=e},"col-md-4"),n.Builder.addBuilderInputText(u,this.id,this.step,"Step",e=>{this.step=e},"col-md-4"),this.node.appendChild(u),this.node.appendChild(t),e.appendChild(this.node)}run(e){let t=n.Builder.createElement("p");switch(t.innerHTML=this.text,this.node=n.Builder.createElement("div"),this.node.appendChild(t),this.type){case c.RADIO:r.BlockRadio.run(this.node,this);break;case c.CHECKBOX:d.BlockCheckbox.run(this.node,this);break;case c.FREETEXT:o.BlockFreetext.run(this.node,this);break;case c.LONGTEXT:a.BlockLongtext.run(this.node,this);break;case c.NOANSWER:break;case c.SLIDER:s.BlockSlider.run(this.node,this)}let i=n.Builder.createElement("hr",{class:"pixium-hr"});this.node.appendChild(i),e.appendChild(this.node)}display(){}triggerSubElementBlock(){let e=null;(e=document.getElementById("slider_block_"+this.id))?this.type===c.SLIDER?e.style.display="block":e.style.display="none":alert("Node Silder not found");let t=null;(t=document.getElementById("choices_block_"+this.id))?this.type===c.RADIO||this.type===c.CHECKBOX?t.style.display="block":t.style.display="none":alert("Node Choice not found")}compileJson(){let e;return e=[],this.choices.forEach(t=>{e.push(t.compileJson())}),this.json={type:this.type,text:this.text,answer:this.answer,name:this.name,min:this.min,max:this.max,step:this.step,choices:e},this.json}}},
/*!*************************************************!*\
  !*** ./node_modules/ts-loader!./src/builder.ts ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Builder=void 0;class n{static createElement(e,t=null){if(!e)return void alert("Could not build the element");let i=document.createElement(e);if(t)for(var n in t){var l=t[n];i.setAttribute(n,l)}return i}static setAttributes(e,t=null){if(t)for(var i in t){var n=t[i];e.setAttribute(i,n)}}static addBuilderInputText(e,t,i,l,s,o="col-md-12"){let r=n.createElement("div",{class:"pixium-row-block "+o}),d=n.createElement("label");d.innerHTML=l+": ";let a=n.createElement("input",{class:"pixium-textbox",type:"text",value:i,name:l+"_"+t,style:"color:Red",placeholder:l});a.onblur=e=>{console.log(e.target),s(e.target.value)},r.appendChild(d),r.appendChild(a),e.appendChild(r)}static addBuilderInputDropdown(e,t,i,l,s,o,r="col-md-12"){let d=n.createElement("div",{class:"pixium-row-block "+r}),a=n.createElement("label");a.innerHTML=l+": ";let c=n.createElement("select",{class:"pixium-dropdown",value:i,name:l+"_"+t,style:"display:block"});c.onchange=e=>{s(e.target.value)},o.forEach(e=>{let t=n.createElement("option",{value:e.value});i===e.value&&n.setAttributes(t,{selected:"selected"}),t.innerHTML=e.name,c.appendChild(t)}),d.appendChild(a),d.appendChild(c),e.appendChild(d)}}t.Builder=n},
/*!*************************************!*\
  !*** ./src/block/choice.ts-exposed ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./choice.ts */10)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!******************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/choice.ts ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Choice=void 0;const n=i(/*! ../builder */1);t.Choice=class{constructor(e){this.id=Math.random().toString(36).substring(7),e&&(e.label&&(this.label=e.label),e.value&&(this.value=e.value))}build(e){this.node=n.Builder.createElement("div",{class:"pixium-row-block block-choices col-md-12"});let t=n.Builder.createElement("label",{for:"input_"+this.value+"_"+this.id});t.innerHTML="Value : ";let i=n.Builder.createElement("input",{class:"pixium-textbox",type:"text",value:this.value,id:"input_"+this.value+"_"+this.id,style:"color:Red;"});i.onblur=e=>{console.log(e.target),this.value=e.target.value};let l=n.Builder.createElement("label",{for:"input_"+this.label+"_"+this.id,style:"min-width: auto;"});l.innerHTML="Label : ";let s=n.Builder.createElement("input",{class:"pixium-textbox",type:"text",value:this.label,id:"input_"+this.label+"_"+this.id,style:"color:Red;"});s.onblur=e=>{console.log(e.target),this.label=e.target.value},this.node.appendChild(t),this.node.appendChild(i),this.node.appendChild(l),this.node.appendChild(s),e.appendChild(this.node)}compileJson(){return this.json={label:this.label,value:this.value},this.json}}},
/*!******************************************!*\
  !*** ./src/block/blockSlider.ts-exposed ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./blockSlider.ts */12)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!***********************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/blockSlider.ts ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSlider=void 0;const n=i(/*! ../builder */1);t.BlockSlider=class{static run(e,t){let i=document.createElement("div");i.setAttribute("class","element-form-container");let l=document.createElement("input"),s=n.Builder.createElement("span",{class:"_left"});s.innerHTML=t.min;let o=n.Builder.createElement("span",{class:"_right"});o.innerHTML=t.max,console.log("block.answer"),console.log(t.answer),n.Builder.setAttributes(l,{class:"pixium-slider",type:"range",value:t.answer,min:t.min,max:t.max,name:t.name,id:"inputrange_"+t.name}),t.step&&l.setAttribute("step",t.step),l.onchange=()=>{t.answer=parseFloat(l.value),console.log(l);document.getElementById("output_"+t.name).innerHTML=t.answer};let r=n.Builder.createElement("div");r.setAttribute("class","pixium-block-slider");let d=n.Builder.createElement("output",{id:"output_"+t.name});d.innerHTML=t.answer,r.appendChild(d),r.appendChild(l),r.appendChild(s),r.appendChild(o),i.appendChild(r),e.appendChild(i)}}},
/*!********************************************!*\
  !*** ./src/block/blockFreetext.ts-exposed ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./blockFreetext.ts */14)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!*************************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/blockFreetext.ts ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockFreetext=void 0;const n=i(/*! ../builder */1);t.BlockFreetext=class{static run(e,t){let i=document.createElement("div");i.setAttribute("class","element-form-container");let l=document.createElement("input");n.Builder.setAttributes(l,{class:"pixium-textbox",type:"text",value:t.answer,name:this.name,style:"color:Red"}),l.onblur=()=>{t.answer=l.value,console.log(t.answer)},i.appendChild(l),e.appendChild(i)}}},
/*!*****************************************!*\
  !*** ./src/block/blockRadio.ts-exposed ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./blockRadio.ts */16)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!**********************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/blockRadio.ts ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockRadio=void 0;const n=i(/*! ../builder */1);t.BlockRadio=class{static run(e,t){let i=document.createElement("div");i.setAttribute("class","element-form-container"),t.choices.forEach(e=>{let l=n.Builder.createElement("input",{type:"radio",name:t.name,value:e.value+""}),s=n.Builder.createElement("label");s.innerHTML=e.label;let o=n.Builder.createElement("div");o.appendChild(l),o.appendChild(s),i.appendChild(o),l.onclick=e=>{console.log(e.target),t.answer=e.target.value,console.log(t.answer)}}),e.appendChild(i)}}},
/*!********************************************!*\
  !*** ./src/block/blockCheckbox.ts-exposed ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./blockCheckbox.ts */18)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!*************************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/blockCheckbox.ts ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockCheckbox=void 0;const n=i(/*! ../builder */1);t.BlockCheckbox=class{static run(e,t){let i=document.createElement("div");i.setAttribute("class","element-form-container"),t.choices.forEach(e=>{let l=n.Builder.createElement("input",{type:"checkbox",name:t.name,value:e.value+"",id:e.value+""});for(var s=0;s<t.answer.length;s++)e.value+""===t.answer[s]&&n.Builder.setAttributes(l,{checked:!0});let o=n.Builder.createElement("label");o.innerHTML=e.label;let r=n.Builder.createElement("div");r.appendChild(l),r.appendChild(o),i.appendChild(r),l.onclick=e=>{let i=document.querySelectorAll('input[type=checkbox][name="'+t.name+'"]:checked'),n=[];i.forEach(e=>{n.push(e.value)}),t.answer=n}}),e.appendChild(i)}}},
/*!***********************!*\
  !*** ./src/data.json ***!
  \***********************/
/*! exports provided: sections, default */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */,function(e){e.exports=JSON.parse('{"sections":[{"title":"Section 1","name":"S1","blocks":[{"text":"BLABLA: <br> <br> How BLALBAty to delegate?","name":"q3","type":3,"min":"1","max":"100","step":"1","label":"Delegation"},{"text":"Test Ludo?","name":"q3bis","type":3,"min":"1","max":"10","step":"1","label":"Delegation"}]},{"name":"Block Test Checkbox","blocks":[{"type":2,"name":"q2","text":"How do you feel about meeting new people?","choices":[{"value":1,"label":"Extraverted"},{"value":2,"label":"Introverted"}]},{"type":4,"name":"q22","text":"How do you feel about meeting new people?","choices":[{"value":1,"label":"I love meeting new people!"},{"value":2,"label":"Sometimes I like to meet new people, if I\'m in the right mood."}]}]},{"name":"block 1","blocks":[{"text":"DDDDELEGATION: <br> <br> How skilled do you feel today about your ability to delegate?","name":"q1","type":1,"group":1,"label":"Delegation"},{"text":"TEST: <br> <br> How sity to delegate?","name":"q2","type":1,"group":1,"label":"Delegation"}]}]}')},
/*!********************************************!*\
  !*** ./src/block/blockLongtext.ts-exposed ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./blockLongtext.ts */22)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!*************************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/blockLongtext.ts ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockLongtext=void 0;const n=i(/*! ../builder */1);t.BlockLongtext=class{static run(e,t){let i=document.createElement("div");i.setAttribute("class","element-form-container");let l=document.createElement("textarea");n.Builder.setAttributes(l,{class:"pixium-textbox",rows:5,value:t.answer,name:this.name,style:"color:Red"}),l.onblur=()=>{t.answer=l.value,console.log(t.answer)},i.appendChild(l),e.appendChild(i)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYnVpbGRlci50cy1leHBvc2VkIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzLWV4cG9zZWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlY3Rpb24udHMtZXhwb3NlZCIsIndlYnBhY2s6Ly8vLi9zcmMvc2VjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svYmxvY2sudHMtZXhwb3NlZCIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svYmxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2J1aWxkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Nob2ljZS50cy1leHBvc2VkIiwid2VicGFjazovLy8uL3NyYy9ibG9jay9jaG9pY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Jsb2NrU2xpZGVyLnRzLWV4cG9zZWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Jsb2NrU2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9ibG9jay9ibG9ja0ZyZWV0ZXh0LnRzLWV4cG9zZWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Jsb2NrRnJlZXRleHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Jsb2NrUmFkaW8udHMtZXhwb3NlZCIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svYmxvY2tSYWRpby50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svYmxvY2tDaGVja2JveC50cy1leHBvc2VkIiwid2VicGFjazovLy8uL3NyYy9ibG9jay9ibG9ja0NoZWNrYm94LnRzIiwid2VicGFjazovLy8uL3NyYy9ibG9jay9ibG9ja0xvbmd0ZXh0LnRzLWV4cG9zZWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Jsb2NrTG9uZ3RleHQudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsImRhdGEiLCJwYXJhbXMiLCJzZWN0aW9ucyIsImN1cnJlbnROb2RlIiwiZGl2IiwibWFpbk5vZGUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29uc29sZSIsImxvZyIsInNldEF0dHJpYnV0ZSIsImpzb24iLCJmb3JFYWNoIiwic2VjIiwic2VjdGlvbk1vZGVsIiwiU2VjdGlvbiIsIm5leHRTbGlkZSIsIm1vdmVTZWN0aW9uIiwicHVzaCIsImFsZXJ0IiwiZGVidWciLCJidWlsZCIsInJ1biIsImNsZWFyIiwiZGVsQnRuIiwiQnVpbGRlciIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImlubmVySFRNTCIsIm9uY2xpY2siLCJldiIsInJlbW92ZUNoaWxkIiwibm9kZSIsImZpbHRlciIsImVsIiwiYXBwZW5kQ2hpbGQiLCJhZGRCdXR0b24iLCJpbm5lclRleHQiLCJidG5TZWNBZGQiLCJ0YXJnZXQiLCJzd2l0Y2hCdXR0b24iLCJidG5TZWNEZWwiLCJzYXZlQnRuIiwiaXNDb21wbGV0ZWQiLCJjb21waWxlSnNvbiIsInByZXZlbnREZWZhdWx0IiwibGVuZ3RoIiwic3R5bGUiLCJkaXNwbGF5IiwiYWZ0ZXIiLCJzYXZlQnV0dG9uIiwic2hvdyIsImFyciIsImZpbmFsT3V0cHV0IiwiSlNPTiIsInN0cmluZ2lmeSIsImhpZGUiLCJfcGFyZW50IiwiX2pzb24iLCJfY2FsbGJhY2siLCJwYXJlbnQiLCJibG9ja3MiLCJjYWxsYmFjayIsInRpdGxlIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiYiIsImJsb2NrTW9kZWwiLCJCbG9jayIsIm5vZGVIZWFkZXIiLCJhZGRCdWlsZGVySW5wdXRUZXh0IiwidmFsIiwiYmxrIiwiYnRuQmxrQWRkIiwiYnRuQmxrRGVsIiwibmFtZU5vZGUiLCJock5hbWUiLCJwcmV2QnV0dG9uIiwibmV4dEJ1dHRvbiIsImFuc3dlciIsInR5cGUiLCJCbG9ja1R5cGUiLCJOT0FOU1dFUiIsInRleHQiLCJtaW4iLCJtYXgiLCJzdGVwIiwiY2hvaWNlcyIsIlJBRElPIiwiQ0hFQ0tCT1giLCJjaG9pY2VKc29uIiwiY2hvaWNlIiwiQ2hvaWNlIiwiaHIiLCJlbnVtQXJyYXkiLCJrZXlzIiwiYSIsIm1hdGNoIiwibWFwIiwiYWRkQnVpbGRlcklucHV0RHJvcGRvd24iLCJOdW1iZXIiLCJ0cmlnZ2VyU3ViRWxlbWVudEJsb2NrIiwiYmxrQ2hvaWNlc1N0eWxlIiwibm9kZUNob2ljZXMiLCJsYWJUaXRsZSIsImNoIiwiYWRkQ2hvaWNlQnV0dG9uIiwiYnRuQ2hBZGQiLCJidG5DaERlbCIsImJsa1NsaWRlclN0eWxlIiwiU0xJREVSIiwibm9kZVNsaWRlciIsInRpdGxlTm9kZSIsIkJsb2NrUmFkaW8iLCJCbG9ja0NoZWNrYm94IiwiRlJFRVRFWFQiLCJCbG9ja0ZyZWV0ZXh0IiwiTE9OR1RFWFQiLCJCbG9ja0xvbmd0ZXh0IiwiQmxvY2tTbGlkZXIiLCJzbGlkZXJCbG9jayIsImNob2ljZUJsb2NrIiwiX3BhcmFtcyIsImVsZW0iLCJsYWJlbCIsImNsYXNzZXMiLCJsYWIiLCJpbnB1dCIsIm9uYmx1ciIsIm9wdGlvbnMiLCJvbmNoYW5nZSIsImVsZW1lbnQiLCJvcHQiLCJzZXRBdHRyaWJ1dGVzIiwibGFiVmFsdWUiLCJpbnB1dFZhbHVlIiwibGFiTGFiZWwiLCJpbnB1dExhYmVsIiwiYmxvY2siLCJob2xkZXIiLCJmaWVsZCIsInBhcnNlRmxvYXQiLCJpbnB1dERpdiIsIm91dHB1dCIsImYiLCJfZGl2IiwiY2hlY2tlZEJveGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImlkcyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVB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WixPQUFTLEtBQ1hVLEVBQU0zRCxPQUErQjZELEVBQU9sSyxNQUM1QzRCLFFBQVFDLElBQUltSSxFQUFNM0QsU0FFdEI0RCxFQUFPMUcsWUFBWTJHLEdBQ25COUcsRUFBS0csWUFBWTBHIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiLi9kaXN0L1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFtcIkxpYnJhcnlcIl0gPSByZXF1aXJlKFwiLSEvVXNlcnMvcGl4aXVtZGlnaXRhbC9Xb3Jrc3BhY2UvZm9ybS1idWlsZGVyL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanMhLi9idWlsZGVyLnRzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiTGlicmFyeVwiXSA9IHJlcXVpcmUoXCItIS9Vc2Vycy9waXhpdW1kaWdpdGFsL1dvcmtzcGFjZS9mb3JtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL21haW4udHNcIik7IiwiXG5pbXBvcnQge1NlY3Rpb259IGZyb20gJy4vc2VjdGlvbic7XG5pbXBvcnQge0J1aWxkZXJ9IGZyb20gJy4vYnVpbGRlcic7XG4vLyBpbXBvcnQgKiBhcyBkYXRhIGZyb20gJy4vZGF0YS5qc29uJztcblxuLy8gaW1wb3J0IENoYXJ0IGZyb20gJ2NoYXJ0anMnO1xuXG5pbXBvcnQge3NvcnRhYmxlfSBmcm9tICdodG1sNXNvcnRhYmxlJztcbi8vIGltcG9ydCBmb250YXdlc29tZSBmcm9tICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZSc7XG5cbmNvbnN0IGRhdGEgPSByZXF1aXJlKCcuL2RhdGEuanNvbicpO1xuLy8gY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5cbmV4cG9ydCBjbGFzcyBQaXhpdW1Gb3JtIHtcbiAgICBqc29uOkZvcm1EYXRhO1xuICAgIGRpdjpzdHJpbmc7XG4gICAgc2VjdGlvbnM6U2VjdGlvbltdO1xuICAgIG91dHB1dDogc3RyaW5nO1xuICAgIG1haW5Ob2RlOiBIVE1MRWxlbWVudDtcbiAgICB0aXRsZU5vZGU6IEhUTUxFbGVtZW50O1xuICAgIGN1cnJlbnROb2RlOiBudW1iZXI7XG4gICAgbW9kZTpzdHJpbmc7XG4gICAgZGVidWc6Ym9vbGVhbjtcbiAgICBzYXZlQnRuOiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmFtczpGb3JtRGF0YSkge1xuICAgICAgICB0aGlzLnNlY3Rpb25zID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSAwO1xuXG4gICAgICAgIGlmKCFwYXJhbXNbXCJkaXZcIl0pe1xuICAgICAgICAgICAgYWxlcnQoJ0RpdiBub3QgZm91bmQuIENhbm5vdCBkaXNwbGF5IHRoZSBmb3JtJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXYgPSBwYXJhbXNbXCJkaXZcIl07XG4gICAgICAgIHRoaXMubWFpbk5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdik7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMubWFpbk5vZGUpO1xuICAgICAgICB0aGlzLm1haW5Ob2RlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY29udGFpbmVyIGZvcm0tY29udGFpbmVyXCIpO1xuXG4gICAgICAgIGlmKHBhcmFtc1tcImRhdGFcIl0pe1xuICAgICAgICAgICAgdGhpcy5qc29uID0gcGFyYW1zW1wiZGF0YVwiXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuanNvbiA9IGRhdGE7Ly9KU09OLnBhcnNlKCBkYXRhICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCVUlMRCB0aGUgc2VjdGlvbiBzdWIgZWxlbWVudCAobm8gZ2VuZXJhdGVkIEhUTUwgYXQgdGhpcyBzdGFnZSB5ZXQpXG4gICAgICAgIGlmKHRoaXMuanNvbiAmJiB0aGlzLmpzb25bXCJzZWN0aW9uc1wiXSl7XG4gICAgICAgICAgICBsZXQgc2VjcyA9IHRoaXMuanNvbltcInNlY3Rpb25zXCJdO1xuICAgICAgICAgICAgc2Vjcy5mb3JFYWNoKCAoc2VjKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHNlY3Rpb25Nb2RlbCA9IG5ldyBTZWN0aW9uKHRoaXMubWFpbk5vZGUsIHNlYywgKCAobmV4dFNsaWRlOmJvb2xlYW4pID0+dGhpcy5tb3ZlU2VjdGlvbihuZXh0U2xpZGUpICkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VjdGlvbnMucHVzaChzZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgfSk7IFxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBhbGVydChcIkNvdWxkIG5vdCBpbml0IHRoZSBtb2R1bGUuXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5qc29uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICAtLS0tLS0tLS0tLS0gICAgU1RBUlQgVEhFIEFQUExJQ0FUSU9OIElOIGRlYnVnXG4gICAgICAgICBpZihwYXJhbXNbXCJkZWJ1Z1wiXSl7XG4gICAgICAgICAgICB0aGlzLmRlYnVnID0gcGFyYW1zW1wiZGVidWdcIl07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG4gICAgICAgIH0gICAgICAgXG5cbiAgICAgICAgLy8gIC0tLS0tLS0tLS0tLSAgICBTVEFSVCBUSEUgQVBQTElDQVRJT04gSU4gYnVpbGQgT1IgcnVuIE1PREVcbiAgICAgICAgaWYocGFyYW1zW1wibW9kZVwiXSl7XG4gICAgICAgICAgICB0aGlzLm1vZGUgPSBwYXJhbXNbXCJtb2RlXCJdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb2RlID0gJ3J1bic7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5tb2RlID09PSAnYnVpbGQnKXtcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBFbnRlciBCVUlMRCBNT0RFIGZvciB1c2VyIHRvIGVkaXQgdGhlIGZvcm1cbiAgICAgKi9cbiAgICBidWlsZCgpe1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5zZWN0aW9ucy5mb3JFYWNoKCAoc2VjKSA9PiB7XG4gICAgICAgICAgICBzZWMuYnVpbGQodGhpcy5tYWluTm9kZSk7XG4gICAgICAgICAgICAvLyBCVUlMRCBERUxFVEUgU0VDVElPTiBCVE5cbiAgICAgICAgICAgIGxldCBkZWxCdG4gPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1wiY2xhc3NcIjpcImJ0biBidG4tZGFuZ2VyIGZvcm0tYnVpbGRlci1idG5cIiwgXCJ0eXBlXCI6XCJidXR0b25cIiwgXCJpZFwiOlwiYnRuLWRlbGV0ZS1zZWN0aW9uLVwiK3NlYy5pZH0pO1xuICAgICAgICAgICAgZGVsQnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPic7ICBcbiAgICAgICAgICAgIGRlbEJ0bi5vbmNsaWNrID0gKGV2ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW5Ob2RlLnJlbW92ZUNoaWxkKHNlYy5ub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25zID0gdGhpcy5zZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLmlkICE9IHNlYy5pZDsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlYy5ub2RlLmFwcGVuZENoaWxkKGRlbEJ0bik7XG4gICAgICAgICAgICBcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBCVUlMRCBBREQgU0VDVElPTiBCVE5cbiAgICAgICAgbGV0IGFkZEJ1dHRvbiA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywge1wiY2xhc3NcIjpcImJ0biBidG4tc3VjY2VzcyBmb3JtLWJ1aWxkZXItYnRuXCIsIFwidHlwZVwiOlwiYnV0dG9uXCJ9KTsgIFxuICAgICAgICBhZGRCdXR0b24uaW5uZXJUZXh0ID0gJysnOyAgXG4gICAgICAgIGFkZEJ1dHRvbi5vbmNsaWNrID0gKGV2KSA9PiBcbiAgICAgICAgeyAgIFxuICAgICAgICAgICAgbGV0IGJ0blNlY0FkZCA9IDxIVE1MRWxlbWVudD5ldi50YXJnZXQ7XG4gICAgICAgICAgICBsZXQgc2VjID0gbmV3IFNlY3Rpb24odGhpcy5tYWluTm9kZSwgbnVsbCwgKCAobmV4dFNsaWRlOmJvb2xlYW4pID0+dGhpcy5tb3ZlU2VjdGlvbihuZXh0U2xpZGUpICkpO1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9ucy5wdXNoKHNlYyk7XG4gICAgICAgICAgICB0aGlzLm1haW5Ob2RlLnJlbW92ZUNoaWxkKGJ0blNlY0FkZCk7XG4gICAgICAgICAgICBpZih0aGlzLmRlYnVnKXtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW5Ob2RlLnJlbW92ZUNoaWxkKHN3aXRjaEJ1dHRvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWMuYnVpbGQodGhpcy5tYWluTm9kZSk7XG4gICAgICAgICAgICAvLyBCVUlMRCBERUxFVEUgU0VDVElPTiBCVE5cbiAgICAgICAgICAgIGxldCBidG5TZWNEZWwgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1wiY2xhc3NcIjpcImJ0biBidG4tZGFuZ2VyIGZvcm0tYnVpbGRlci1idG5cIiwgXCJ0eXBlXCI6XCJidXR0b25cIiwgXCJpZFwiOlwiYnRuLWRlbGV0ZS1zZWN0aW9uLVwiK3NlYy5pZH0pO1xuICAgICAgICAgICAgYnRuU2VjRGVsLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPmA7ICBcbiAgICAgICAgICAgIGJ0blNlY0RlbC5vbmNsaWNrID0gKGV2ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW5Ob2RlLnJlbW92ZUNoaWxkKHNlYy5ub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25zID0gdGhpcy5zZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLmlkICE9IHNlYy5pZDsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlYy5ub2RlLmFwcGVuZENoaWxkKGJ0blNlY0RlbCk7XG5cbiAgICAgICAgICAgIHRoaXMubWFpbk5vZGUuYXBwZW5kQ2hpbGQoYnRuU2VjQWRkKTtcbiAgICAgICAgICAgIGlmKHRoaXMuZGVidWcpe1xuICAgICAgICAgICAgICAgIHRoaXMubWFpbk5vZGUuYXBwZW5kQ2hpbGQoc3dpdGNoQnV0dG9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTsgIFxuICAgICAgICB0aGlzLm1haW5Ob2RlLmFwcGVuZENoaWxkKGFkZEJ1dHRvbik7XG5cbiAgICAgICAgLy8gQlVJTEQgVEhFIFNXSVRDSCBVSSBCVVRUT04gVE8gRE8gVE8gUlVOIE1PREUgSUYgREVCVUctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBsZXQgc3dpdGNoQnV0dG9uID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XCJjbGFzc1wiOlwiYnRuIGJ0bi1wcmltYXJ5IGZvcm0tYnVpbGRlci1idG5cIiwgXCJ0eXBlXCI6XCJidXR0b25cIn0pOyAgXG4gICAgICAgIHN3aXRjaEJ1dHRvbi5pbm5lclRleHQgPSBcIkdPIFRPIFJVTlwiOyAgXG4gICAgICAgIHN3aXRjaEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gXG4gICAgICAgIHsgICBcbiAgICAgICAgICAgIHRoaXMucnVuKCk7XG4gICAgICAgIH07ICBcbiAgICAgICAgaWYodGhpcy5kZWJ1Zyl7XG4gICAgICAgICAgICB0aGlzLm1haW5Ob2RlLmFwcGVuZENoaWxkKHN3aXRjaEJ1dHRvbik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cblxuXG5cbiAgICAvKipcbiAgICAgKiBSdW4gZm9yIHVzZXIgdG8gYW5zd2VyIHRoZSBxdWVzdGlvbnNcbiAgICAgKi9cbiAgICBydW4oKXtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuc2VjdGlvbnMuZm9yRWFjaCggKHNlYykgPT4ge1xuICAgICAgICAgICAgc2VjLnJ1bih0aGlzLm1haW5Ob2RlKTtcbiAgICAgICAgfSk7IFxuXG4gICAgICAgIC8vQ3JlYXRlIFNhdmUgYnRuXG4gICAgICAgIHRoaXMuc2F2ZUJ0biA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywge1wiY2xhc3NcIjpcImJ0biBidG4tc3VjY2VzcyBmb3JtLWJ1aWxkZXItYnRuXCIsIFwidHlwZVwiOlwic3VibWl0XCIsIFwiaWRcIjpcImZvcm0tYnVpbGRlci1zYXZlLWZpbmFsLWJ0blwifSk7ICBcbiAgICAgICAgdGhpcy5zYXZlQnRuLmlubmVyVGV4dCA9IFwiU2F2ZVwiOyAgXG4gICAgICAgIHRoaXMuc2F2ZUJ0bi5vbmNsaWNrID0gKGUpID0+IFxuICAgICAgICB7ICAgXG4gICAgICAgICAgICBpZih0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudE5vZGVdLmlzQ29tcGxldGVkKCkpe1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGlsZUpzb24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9OyAgXG4gICAgICAgIGlmKHRoaXMuY3VycmVudE5vZGUgPT0gdGhpcy5zZWN0aW9ucy5sZW5ndGgtMSl7XG4gICAgICAgICAgICAvL1JlbW92ZSBOZXh0IGJ0blxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1uZXh0LXNlY3Rpb24tJyt0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudE5vZGVdLmlkKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1uZXh0LXNlY3Rpb24tJyt0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudE5vZGVdLmlkKS5hZnRlcih0aGlzLnNhdmVCdG4pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tIERFQlVHIFNBVkUgQlVUVE9OIC0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGxldCBzYXZlQnV0dG9uID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XCJjbGFzc1wiOlwiYnRuIGJ0bi1zdWNjZXNzIGZvcm0tYnVpbGRlci1idG5cIiwgXCJ0eXBlXCI6XCJidXR0b25cIiwgXCJpZFwiOlwiZm9ybS1idWlsZGVyLXNhdmUtYnRuXCJ9KTsgIFxuICAgICAgICBzYXZlQnV0dG9uLmlubmVyVGV4dCA9IFwiU0FWRVwiOyAgXG4gICAgICAgIHNhdmVCdXR0b24ub25jbGljayA9ICgpID0+IFxuICAgICAgICB7ICAgXG4gICAgICAgICAgICB0aGlzLmNvbXBpbGVKc29uKCk7XG4gICAgICAgIH07ICBcbiAgICAgICAgaWYodGhpcy5kZWJ1Zyl7XG4gICAgICAgICAgICB0aGlzLm1haW5Ob2RlLmFwcGVuZENoaWxkKHNhdmVCdXR0b24pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBCVUlMRCBUSEUgU1dJVENIIFVJIEJVVFRPTiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBsZXQgc3dpdGNoQnV0dG9uID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XCJjbGFzc1wiOlwiYnRuIGJ0bi1wcmltYXJ5IGZvcm0tYnVpbGRlci1idG5cIiwgXCJ0eXBlXCI6XCJidXR0b25cIn0pOyAgXG4gICAgICAgIHN3aXRjaEJ1dHRvbi5pbm5lclRleHQgPSBcIkdPIFRPIEJVSUxEIE1PREVcIjsgICBcbiAgICAgICAgc3dpdGNoQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiBcbiAgICAgICAgeyAgIFxuICAgICAgICAgICAgdGhpcy5idWlsZCgpO1xuICAgICAgICB9OyAgXG4gICAgICAgIGlmKHRoaXMuZGVidWcpe1xuICAgICAgICAgICAgdGhpcy5tYWluTm9kZS5hcHBlbmRDaGlsZChzd2l0Y2hCdXR0b24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gICAgIHRoaXMubWFpbk5vZGUuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJsaXN0XCI+PCEtLSBTb3J0YWJsZSAtLT5cbiAgICAgICAgLy8gICAgIDxkaXYgY2xhc3M9XCJpdGVtXCI+IEl0ZW0gMVxuICAgICAgICAvLyAgICAgICA8ZGl2IGNsYXNzPVwic3VibGlzdFwiPjwhLS0gTmVzdGVkIFNvcnRhYmxlOyBXcmFwcGluZyBjb250YWluZXIgbmVlZGVkIC0tPlxuICAgICAgICAvLyAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJpdGVtXCI+U3ViaXRlbSAxPC9kaXY+XG4gICAgICAgIC8vICAgICAgICAgPGRpdiBjbGFzcz1cInN1Yml0ZW1cIj5TdWJpdGVtIDI8L2Rpdj5cbiAgICAgICAgLy8gICAgICAgPC9kaXY+XG4gICAgICAgIC8vICAgICA8L2Rpdj5cbiAgICAgICAgLy8gICAgIDxkaXYgY2xhc3M9XCJpdGVtXCI+IEl0ZW0gMiA8L2Rpdj5cbiAgICAgICAgLy8gICA8L2Rpdj5gO1xuXG4gICAgICAgIC8vIGxldCB0ZW1wID0gc29ydGFibGUodGhpcy5tYWluTm9kZSwge1xuICAgICAgICAvLyAgICAgY29weTp0cnVlIC8vIGRlZmF1bHQgdG8gZmFsc2VcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIC8vIHRoaXMubWFpbk5vZGUuYXBwZW5kQ2hpbGQodGVtcCk7XG5cbiAgICAgICAgdGhpcy5kaXNwbGF5KCk7XG4gICAgfVxuXG4gICAgcmVzdWx0KCl7XG4gICAgICAgIC8vIDxjYW52YXMgaWQ9XCJteUNoYXJ0XCIgd2lkdGg9XCI0MDBcIiBoZWlnaHQ9XCI0MDBcIj48L2NhbnZhXG4gICAgICAgIC8vIGxldCBjaGFydEhvbGRlciA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiLCB7XG4gICAgICAgIC8vICAgICBcImlkXCI6XCJjaGFydGRpdlwiLFxuICAgICAgICAvLyAgICAgXCJ3aWR0aFwiOiA0MDAsXG4gICAgICAgIC8vICAgICBcImhlaWdodFwiOiA0MDBcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIC8vIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgLy8gdGhpcy5tYWluTm9kZS5hcHBlbmRDaGlsZChjYW52YXMpO1xuXG4gICAgICAgIC8vIDtcblxuICAgICAgICAvLyB2YXIgbXlMaW5lQ2hhcnQgPSBuZXcgQ2hhcnQoY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSwge1xuICAgICAgICAvLyAgICAgdHlwZTogJ2xpbmUnLFxuICAgICAgICAvLyAgICAgZGF0YToge1xuICAgICAgICAvLyAgICAgICAgIGRhdGFzZXRzOiBbe1xuICAgICAgICAvLyAgICAgICAgICAgICBsYWJlbDogJ1Rlc3QgRGF0YXNldCcsXG4gICAgICAgIC8vICAgICAgICAgICAgIGRhdGE6IFt7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB4OiAtMTAsXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgIC8vICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB5OiAxMFxuICAgICAgICAvLyAgICAgICAgICAgICB9LCB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB4OiAxMCxcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHk6IDVcbiAgICAgICAgLy8gICAgICAgICAgICAgfV1cbiAgICAgICAgLy8gICAgICAgICB9XVxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIC8vb3B0aW9uczogb3B0aW9uc1xuICAgICAgICAvLyB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENsZWFyIEFMTCB0aGUgbm9kZXNcbiAgICAgKi9cbiAgICBjbGVhcigpe1xuICAgICAgICBpZih0aGlzLm1haW5Ob2RlKXtcbiAgICAgICAgICAgIHRoaXMubWFpbk5vZGUuaW5uZXJIVE1MID0gJyc7ICAvLyBjbGVhciBhbGwgdGhlIHN1YiBub2Rlc1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9ucy5mb3JFYWNoKCAoc2VjKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VjLmNsZWFyKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxuXG5cbiAgICBkaXNwbGF5KCl7XG4gICAgICAgIC8vIHRoaXMub3V0cHV0ID0gXCJcIjtcbiAgICAgICAgLy8gdGhpcy5zZWN0aW9ucy5mb3JFYWNoKCAoc2VjdGlvbikgPT4ge1xuICAgICAgICAvLyAgICAgdGhpcy5vdXRwdXQgKz0gc2VjdGlvbi5kaXNwbGF5KCk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgICAvLyB0aGlzLm1haW5Ob2RlLmlubmVySFRNTCA9IHRoaXMub3V0cHV0O1xuICAgICAgICBpZih0aGlzLmN1cnJlbnROb2RlPj0wICYmIHRoaXMuY3VycmVudE5vZGU8dGhpcy5zZWN0aW9ucy5sZW5ndGgpe1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9uc1t0aGlzLmN1cnJlbnROb2RlXS5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgY29tcGlsZUpzb24oKXtcbiAgICAgICAgbGV0IGFycjogYW55W107XG4gICAgICAgIGFyciA9IFtdO1xuICAgICAgICB0aGlzLnNlY3Rpb25zLmZvckVhY2goIChzZWM6U2VjdGlvbikgPT4ge1xuICAgICAgICAgICAgYXJyLnB1c2goc2VjLmNvbXBpbGVKc29uKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGZpbmFsT3V0cHV0ID0gSlNPTi5zdHJpbmdpZnkoIHtcInNlY3Rpb25zXCI6YXJyfSApO1xuICAgICAgICBjb25zb2xlLmxvZygnZmluYWxPdXRwdXQnKTtcbiAgICAgICAgY29uc29sZS5sb2coZmluYWxPdXRwdXQpO1xuICAgICAgICByZXR1cm4gZmluYWxPdXRwdXQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSBzbGlkZXIgb3IgZGlzcGxheSB0byB0aGUgbmV4dCBzZWN0aW9uXG4gICAgICovXG4gICAgbW92ZVNlY3Rpb24obmV4dFNsaWRlOmJvb2xlYW4pe1xuICAgICAgICAvLyBpZiBtb3ZlIGZvcndhcmRcbiAgICAgICAgaWYobmV4dFNsaWRlKXtcbiAgICAgICAgICAgIC8vIG1ha2luZyBzdXJlIEkgYW0gYWxsb3dlZCB0byBtb3ZlIHRvIHRoZSBuZXh0IHNsaWRlIGlmIHRoZXJlIGlzIG9uZVxuICAgICAgICAgICAgaWYodGhpcy5jdXJyZW50Tm9kZT49MCAmJiB0aGlzLmN1cnJlbnROb2RlPHRoaXMuc2VjdGlvbnMubGVuZ3RoLTEpe1xuICAgICAgICAgICAgICAgIHRoaXMuc2VjdGlvbnNbdGhpcy5jdXJyZW50Tm9kZV0uaGlkZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUrKztcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudE5vZGVdLnNob3coKTtcbiAgICAgICAgICAgICAgICAvL0Rpc3BsYXkgUHJldmlvdXMgYnRuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1wcmV2aW91cy1zZWN0aW9uLScrdGhpcy5zZWN0aW9uc1t0aGlzLmN1cnJlbnROb2RlXS5pZCkuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuY3VycmVudE5vZGUgPT0gdGhpcy5zZWN0aW9ucy5sZW5ndGgtMSl7XG4gICAgICAgICAgICAgICAgICAgIC8vUmVtb3ZlIE5leHQgYnRuXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tbmV4dC1zZWN0aW9uLScrdGhpcy5zZWN0aW9uc1t0aGlzLmN1cnJlbnROb2RlXS5pZCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLW5leHQtc2VjdGlvbi0nK3RoaXMuc2VjdGlvbnNbdGhpcy5jdXJyZW50Tm9kZV0uaWQpLmFmdGVyKHRoaXMuc2F2ZUJ0bik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy9EaXNwbGF5IE5leHQgYnRuXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tbmV4dC1zZWN0aW9uLScrdGhpcy5zZWN0aW9uc1t0aGlzLmN1cnJlbnROb2RlXS5pZCkuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZXtcbiAgICAgICAgICAgICAgICBhbGVydChcIllvdSBhbHJlYWR5IGFyZSBvbiB0aGUgbmV4dCBzbGlkZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAvLyBtYWtpbmcgc3VyZSBJIGFtIGFsbG93ZWQgdG8gbW92ZSB0byB0aGUgcHJldmlvdXMgc2xpZGUgaWYgdGhlcmUgaXMgb25lXG4gICAgICAgICAgICBpZih0aGlzLmN1cnJlbnROb2RlPj0xICYmIHRoaXMuY3VycmVudE5vZGU8dGhpcy5zZWN0aW9ucy5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIHRoaXMuc2VjdGlvbnNbdGhpcy5jdXJyZW50Tm9kZV0uaGlkZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUtLTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudE5vZGVdLnNob3coKTtcbiAgICAgICAgICAgICAgICAvL0Rpc3BsYXkgTmV4dCBidG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLW5leHQtc2VjdGlvbi0nK3RoaXMuc2VjdGlvbnNbdGhpcy5jdXJyZW50Tm9kZV0uaWQpLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgICAgICAgICBpZih0aGlzLmN1cnJlbnROb2RlPT0wKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vUmVtb3ZlIFByZXZpb3VzIGJ0blxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLXByZXZpb3VzLXNlY3Rpb24tJyt0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudE5vZGVdLmlkKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZXtcbiAgICAgICAgICAgICAgICBhbGVydChcIllvdSBhbHJlYWR5IGFyZSBvbiB0aGUgZmlyc3Qgc2xpZGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiTGlicmFyeVwiXSA9IHJlcXVpcmUoXCItIS9Vc2Vycy9waXhpdW1kaWdpdGFsL1dvcmtzcGFjZS9mb3JtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL3NlY3Rpb24udHNcIik7IiwiaW1wb3J0IHtCbG9jaywgQmxvY2tUeXBlfSBmcm9tIFwiLi9ibG9jay9ibG9ja1wiO1xuaW1wb3J0IHtCdWlsZGVyfSBmcm9tIFwiLi9idWlsZGVyXCI7XG5pbXBvcnQgeyBCbG9ja0ZhY3RvcnkgfSBmcm9tIFwiLi9ibG9jay9ibG9ja0ZhY3RvcnlcIjtcbmltcG9ydCB7IEJsb2NrU2xpZGVyIH0gZnJvbSBcIi4vYmxvY2svYmxvY2tTbGlkZXJcIjtcblxuLyoqXG4gKiBTRUNUSU9OIGNsYXNzIGNvbnRhaW5zIGEgcG90ZW50aWFsIGxpc3Qgb2YgcXVlc3Rpb24gdGhhdCBpcyBkaXNwbGF5ZWQgb24gdGhlIHNhbWUgcGFnZSBcbiAqL1xuZXhwb3J0IGNsYXNzIFNlY3Rpb257XG4gICAgYmxvY2tzOkJsb2NrW107IFxuICAgIHRpdGxlOiBzdHJpbmc7ICAgXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIG91dHB1dDogc3RyaW5nO1xuICAgIGlkOnN0cmluZztcbiAgICBwYXJlbnQ6IEhUTUxFbGVtZW50O1xuICAgIG5vZGU6IEhUTUxFbGVtZW50O1xuICAgIGNhbGxiYWNrOiBGdW5jdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKF9wYXJlbnQ6SFRNTEVsZW1lbnQsIF9qc29uOkZvcm1EYXRhLCBfY2FsbGJhY2s6RnVuY3Rpb24pe1xuICAgICAgICB0aGlzLnBhcmVudCA9IF9wYXJlbnQ7XG4gICAgICAgIHRoaXMuYmxvY2tzID0gW107XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBfY2FsbGJhY2s7XG4gICAgICAgIHRoaXMudGl0bGUgPSBcIkRlZmF1bHQgVGl0bGVcIjtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJkZWZhdWx0X25hbWVcIjtcbiAgICAgICAgdGhpcy5pZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KTtcblxuICAgICAgICBpZihfanNvbil7XG4gICAgICAgICAgICBpZihfanNvbltcInRpdGxlXCJdKXtcbiAgICAgICAgICAgICAgICB0aGlzLnRpdGxlID0gX2pzb25bXCJ0aXRsZVwiXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKF9qc29uW1wibmFtZVwiXSl7XG4gICAgICAgICAgICAgICAgdGhpcy5uYW1lID0gX2pzb25bXCJuYW1lXCJdO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYoX2pzb25bXCJibG9ja3NcIl0pe1xuICAgICAgICAgICAgICAgIF9qc29uW1wiYmxvY2tzXCJdLmZvckVhY2goIChiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBibG9ja01vZGVsID0gbmV3IEJsb2NrKGIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsb2Nrcy5wdXNoKGJsb2NrTW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICAvL2Jsb2NrTW9kZWwucnVuKHRoaXMubm9kZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIERpc3BsYXkgdGhlIGZvcm0gaW4gQlVJTERFUiBNT0RFIGZvciB0aGUgdXNlciB0byBlZGl0IHRoZSBmb3JtIGl0c2VsZlxuICAgICAqIEBwYXJhbSBub2RlIFxuICAgICAqL1xuICAgIGJ1aWxkKG5vZGUpe1xuICAgICAgICB0aGlzLm5vZGUgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgXCJjbGFzc1wiOiBcInJvdyBwaXhpdW0tYm94XCJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIHNlY3Rpb24gaGVhZGVyIGRpdiB3aXRoIHRpdGxlIGFuZCBuYW1lIGlucHV0XG4gICAgICAgIGxldCBub2RlSGVhZGVyID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcImNsYXNzXCI6IFwicm93IHBpeGl1bS1ibG9jay1idWlsZCBwaXhpdW0tYmxvY2stYnVpbGQtaGVhZGVyXCJ9KTtcbiAgICAgICAgQnVpbGRlci5hZGRCdWlsZGVySW5wdXRUZXh0KG5vZGVIZWFkZXIsIHRoaXMuaWQsIHRoaXMudGl0bGUsIFwiVGl0bGUgU2VjdGlvblwiLCAodmFsKSA9PiB7dGhpcy50aXRsZT12YWw7fSwgXCJjb2wtbWQtNFwiICk7XG4gICAgICAgIEJ1aWxkZXIuYWRkQnVpbGRlcklucHV0VGV4dChub2RlSGVhZGVyLCB0aGlzLmlkLCB0aGlzLm5hbWUsIFwiTmFtZSBTZWN0aW9uXCIsICh2YWwpID0+IHt0aGlzLm5hbWU9dmFsO30sIFwiY29sLW1kLTRcIiApO1xuICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQobm9kZUhlYWRlcik7XG5cbiAgICAgICAgdGhpcy5ibG9ja3MuZm9yRWFjaCggKGJsazpCbG9jaykgPT4ge1xuICAgICAgICAgICAgYmxrLmJ1aWxkKHRoaXMubm9kZSk7XG4gICAgICAgICAgICAvLyBCVUlMRCBERUxFVEUgQk9MQ0sgQlROXG4gICAgICAgICAgICBsZXQgZGVsQnRuID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcImNsYXNzXCI6XCJidG4gYnRuLWRhbmdlciBmb3JtLWJ1aWxkZXItYnRuXCIsIFwidHlwZVwiOlwiYnV0dG9uXCJ9KTtcbiAgICAgICAgICAgIGRlbEJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nOyAgXG4gICAgICAgICAgICBkZWxCdG4ub25jbGljayA9IChldiA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLnJlbW92ZUNoaWxkKGJsay5ub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJsb2NrcyA9IHRoaXMuYmxvY2tzLmZpbHRlcihmdW5jdGlvbihlbCkgeyByZXR1cm4gZWwuaWQgIT0gYmxrLmlkOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYmxrLm5vZGUuYXBwZW5kQ2hpbGQoZGVsQnRuKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBCVUlMRCBBREQgQk9MQ0sgQlROXG4gICAgICAgIGxldCBhZGRCdXR0b24gPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHtcImNsYXNzXCI6XCJidG4gYnRuLXN1Y2Nlc3MgZm9ybS1idWlsZGVyLWJ0blwiLCBcInR5cGVcIjpcImJ1dHRvblwifSk7ICBcbiAgICAgICAgYWRkQnV0dG9uLmlubmVySFRNTCA9ICcrJzsgIFxuICAgICAgICBhZGRCdXR0b24ub25jbGljayA9IChldikgPT4gXG4gICAgICAgIHsgICBcbiAgICAgICAgICAgIGxldCBidG5CbGtBZGQgPSA8SFRNTEVsZW1lbnQ+ZXYudGFyZ2V0O1xuICAgICAgICAgICAgLy8gQUREIE5FVyBCT0xDS1xuICAgICAgICAgICAgbGV0IGJsayA9IG5ldyBCbG9jayhudWxsKTtcbiAgICAgICAgICAgIHRoaXMuYmxvY2tzLnB1c2goYmxrKTtcbiAgICAgICAgICAgIHRoaXMubm9kZS5yZW1vdmVDaGlsZChidG5CbGtBZGQpO1xuICAgICAgICAgICAgbGV0IGJ0blNlY0RlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuLWRlbGV0ZS1zZWN0aW9uLVwiK3RoaXMuaWQpO1xuICAgICAgICAgICAgdGhpcy5ub2RlLnJlbW92ZUNoaWxkKGJ0blNlY0RlbCk7XG4gICAgICAgICAgICBibGsuYnVpbGQodGhpcy5ub2RlKTtcbiAgICAgICAgICAgIC8vIEJVSUxEIERFTEVURSBCT0xDSyBCVE5cbiAgICAgICAgICAgIGxldCBidG5CbGtEZWwgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1wiY2xhc3NcIjpcImJ0biBidG4tZGFuZ2VyIGZvcm0tYnVpbGRlci1idG5cIiwgXCJ0eXBlXCI6XCJidXR0b25cIn0pO1xuICAgICAgICAgICAgYnRuQmxrRGVsLmlubmVySFRNTCA9ICc8aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPic7ICBcbiAgICAgICAgICAgIGJ0bkJsa0RlbC5vbmNsaWNrID0gKGV2ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUucmVtb3ZlQ2hpbGQoYmxrLm5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tzID0gdGhpcy5ibG9ja3MuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbC5pZCAhPSBibGsuaWQ7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBibGsubm9kZS5hcHBlbmRDaGlsZChidG5CbGtEZWwpO1xuXG4gICAgICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoYnRuQmxrQWRkKTtcbiAgICAgICAgICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChidG5TZWNEZWwpO1xuICAgICAgICB9OyAgXG4gICAgICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChhZGRCdXR0b24pO1xuXG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogUnVuIHRoZSBmb3JtIGZvciB1c2VyIHRvIGFuc3dlclxuICAgICAqIEBwYXJhbSBub2RlIFxuICAgICAqL1xuICAgIHJ1bihub2RlKXtcblxuICAgICAgICB0aGlzLm5vZGUgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgXCJjbGFzc1wiOiBcInJvdyBwaXhpdW0tYm94XCJcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBuYW1lTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICAgICAgbmFtZU5vZGUuaW5uZXJIVE1MID0gdGhpcy50aXRsZTtcbiAgICAgICAgbGV0IGhyTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoclwiKTtcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKG5hbWVOb2RlKTtcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKGhyTmFtZSk7XG5cbiAgICAgICAgdGhpcy5ibG9ja3MuZm9yRWFjaCggKGIpID0+IHtcbiAgICAgICAgICAgIGIucnVuKHRoaXMubm9kZSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy8gQlVJTEQgVEhFIEJVVFRPTi4gUFJFVklPVVMgQlVUVE9OIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGxldCBwcmV2QnV0dG9uID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XCJjbGFzc1wiOlwiYnRuIGJ0bi1pbmZvIGZvcm0tYnVpbGRlci1idG5cIiwgXCJpZFwiOiBcImJ0bi1wcmV2aW91cy1zZWN0aW9uLVwiK3RoaXMuaWQsIFwidHlwZVwiOlwiYnV0dG9uXCJ9KTsgIFxuICAgICAgICBwcmV2QnV0dG9uLmlubmVyVGV4dCA9IFwiUHJldmlvdXNcIjtcbiAgICAgICAgcHJldkJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyAgXG4gICAgICAgIHByZXZCdXR0b24ub25jbGljayA9ICgpID0+IFxuICAgICAgICB7ICAgXG4gICAgICAgICAgICBpZih0aGlzLmNhbGxiYWNrKXtcbiAgICAgICAgICAgICAgICAvLyBUUlVFIEZPUiBORVhUIFNMSURFXG4gICAgICAgICAgICAgICAgLy8gRkFMU0UgRk9SIFBSRVYgU0xJREVcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTsgIFxuICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQocHJldkJ1dHRvbik7XG5cbiAgICAgICAgLy8gQlVJTEQgVEhFIEJVVFRPTi4gTkVYVCBCVVRUT04gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgbGV0IG5leHRCdXR0b24gPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHtcImNsYXNzXCI6XCJidG4gYnRuLWluZm8gZm9ybS1idWlsZGVyLWJ0blwiLCBcImlkXCI6IFwiYnRuLW5leHQtc2VjdGlvbi1cIit0aGlzLmlkLCBcInR5cGVcIjpcImJ1dHRvblwifSk7ICBcbiAgICAgICAgbmV4dEJ1dHRvbi5pbm5lclRleHQgPSBcIk5leHRcIjsgIFxuICAgICAgICBuZXh0QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiBcbiAgICAgICAgeyAgIFxuICAgICAgICAgICAgaWYodGhpcy5pc0NvbXBsZXRlZCgpKXtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmNhbGxiYWNrKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gVFJVRSBGT1IgTkVYVCBTTElERVxuICAgICAgICAgICAgICAgICAgICAvLyBGQUxTRSBGT1IgUFJFViBTTElERVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9OyAgXG4gICAgICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChuZXh0QnV0dG9uKTtcblxuICAgICAgICB0aGlzLm5vZGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcbiAgICB9XG5cblxuICAgIGNsZWFyKCl7XG4gICAgICAgIGlmKHRoaXMubm9kZSl7XG4gICAgICAgICAgICB0aGlzLm5vZGUuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ibG9ja3MuZm9yRWFjaCggKGJsaykgPT4ge1xuICAgICAgICAgICAgYmxrLmNsZWFyKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG5cbiAgICBnZXROb2RlKCl7XG4gICAgICAgIGFsZXJ0KHRoaXMubm9kZSk7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGlkZSB0aGUgY3VycmVudCBzZWN0aW9uXG4gICAgICovXG4gICAgc2hvdygpe1xuICAgICAgICB0aGlzLm5vZGUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwbGF5IHRoZSBjdXJyZW50IHNlY3Rpb24gb24gc2NyZWVuXG4gICAgICovXG4gICAgaGlkZSgpe1xuICAgICAgICB0aGlzLm5vZGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIHdoZXRoZXIgdGhlIEZPUk0gaGFzIGJlZW4gZnVsbHkgY29tcGxldGVkIC0gQWxsIGJsb2NrcyBoYXZlIGEgdmFsaWQgYW5zd2VyXG4gICAgICovXG4gICAgaXNDb21wbGV0ZWQoKXtcbiAgICAgICAgbGV0IGlzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibG9ja3MuZm9yRWFjaCggKGJsazpCbG9jayk9PntcbiAgICAgICAgICAgIGlmKGJsayAmJiAhYmxrLmFuc3dlciAmJiAoYmxrLnR5cGUgIT09IEJsb2NrVHlwZS5OT0FOU1dFUikpe1xuICAgICAgICAgICAgICAgIGlzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXNDb21wbGV0ZWQ7XG4gICAgfVxuXG5cbiAgICBjb21waWxlSnNvbigpe1xuICAgICAgICBsZXQgYXJyOmFueVtdO1xuICAgICAgICBhcnIgPSBbXTtcbiAgICAgICAgdGhpcy5ibG9ja3MuZm9yRWFjaCggKGJsazpCbG9jaykgPT4ge1xuICAgICAgICAgICAgYXJyLnB1c2goYmxrLmNvbXBpbGVKc29uKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHNlYyA9IHtcbiAgICAgICAgICAgIFwidGl0bGVcIjogdGhpcy50aXRsZSxcbiAgICAgICAgICAgIFwibmFtZVwiOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBcImJsb2Nrc1wiOmFyclxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWM7XG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiTGlicmFyeVwiXSA9IHJlcXVpcmUoXCItIS9Vc2Vycy9waXhpdW1kaWdpdGFsL1dvcmtzcGFjZS9mb3JtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL2Jsb2NrLnRzXCIpOyIsImltcG9ydCB7QnVpbGRlcn0gZnJvbSBcIi4uL2J1aWxkZXJcIjtcbmltcG9ydCB7Q2hvaWNlfSBmcm9tIFwiLi9jaG9pY2VcIjtcblxuaW1wb3J0IHtCbG9ja1NsaWRlcn0gZnJvbSBcIi4vYmxvY2tTbGlkZXJcIjtcbmltcG9ydCB7QmxvY2tGcmVldGV4dH0gZnJvbSBcIi4vYmxvY2tGcmVldGV4dFwiO1xuaW1wb3J0IHtCbG9ja1JhZGlvfSBmcm9tIFwiLi9ibG9ja1JhZGlvXCI7XG5pbXBvcnQgeyBCbG9ja0NoZWNrYm94IH0gZnJvbSBcIi4vYmxvY2tDaGVja2JveFwiO1xuaW1wb3J0IHtCbG9ja0xvbmd0ZXh0fSBmcm9tIFwiLi9ibG9ja0xvbmd0ZXh0XCI7XG4vLyBpbXBvcnQge0Jsb2NrTm9hbnN3ZXJ9IGZyb20gXCIuL2Jsb2NrTm9hbnN3ZXJcIjtcblxuZXhwb3J0IGVudW0gQmxvY2tUeXBlIHtcbiAgICBGUkVFVEVYVCA9IDEsXG4gICAgUkFESU8gPSAyLFxuICAgIFNMSURFUiA9IDMsXG4gICAgQ0hFQ0tCT1ggPSA0LFxuICAgIExPTkdURVhUID0gNSxcbiAgICBOT0FOU1dFUiA9IDZcbn1cblxuXG4vKipcbiAqIEEgQmxvY2sgaXMgYSBsaXN0IFxuICovXG5leHBvcnQgY2xhc3MgQmxvY2t7XG4gICAgdHlwZTpudW1iZXI7XG4gICAgdGV4dDpzdHJpbmc7XG4gICAgYW5zd2VyOmFueTtcbiAgICBuYW1lOnN0cmluZztcbiAgICBtaW46c3RyaW5nO1xuICAgIG1heDpzdHJpbmc7XG4gICAgc3RlcDpzdHJpbmc7XG4gICAgY2hvaWNlczpDaG9pY2VbXTtcblxuICAgIG91dHB1dDpzdHJpbmc7XG4gICAgaWQ6c3RyaW5nO1xuICAgIGpzb246YW55O1xuXG4gICAgbm9kZTogSFRNTEVsZW1lbnQ7XG5cbiAgICAvKlxuICAgIFwidGl0bGVcIjogXCJERUxFR0FUSU9OOiA8YnI+IDxicj4gSG93IHNraWxsZWQgZG8geW91IGZlZWwgdG9kYXkgYWJvdXQgeW91ciBhYmlsaXR5IHRvIGRlbGVnYXRlP1wiLFxuICAgIFwidHlwZVwiOiA0LFxuICAgIFwiZ3JvdXBcIjogMSxcbiAgICBcImxhYmVsXCI6IFxuICAgICovXG5cbiAgICBjb25zdHJ1Y3RvcihfanNvbjpGb3JtRGF0YSA9IG51bGwpe1xuICAgICAgICB0aGlzLmpzb24gPSBfanNvbjtcbiAgICAgICAgdGhpcy50ZXh0ID0gXCJcIjtcbiAgICAgICAgdGhpcy50eXBlID0gMTtcbiAgICAgICAgdGhpcy5taW4gPSBcIlwiO1xuICAgICAgICB0aGlzLm1heCA9IFwiXCI7XG4gICAgICAgIHRoaXMuc3RlcCA9IFwiXCI7XG4gICAgICAgIHRoaXMuYW5zd2VyID0gXCJcIjtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICAgICAgdGhpcy5jaG9pY2VzID0gW107XG5cbiAgICAgICAgdGhpcy5pZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KTtcblxuICAgICAgICBpZihfanNvbil7XG4gICAgICAgICAgICBpZihfanNvbltcInRleHRcIl0pe1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9IF9qc29uW1widGV4dFwiXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoX2pzb25bXCJ0eXBlXCJdKXtcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBfanNvbltcInR5cGVcIl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYW5zd2VyID0gXCJcIjtcbiAgICAgICAgICAgIGlmKF9qc29uW1wiYW5zd2VyXCJdKXtcbiAgICAgICAgICAgICAgICB0aGlzLmFuc3dlciA9IF9qc29uW1wiYW5zd2VyXCJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihfanNvbltcIm5hbWVcIl0pe1xuICAgICAgICAgICAgICAgIHRoaXMubmFtZSA9IF9qc29uW1wibmFtZVwiXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoX2pzb25bXCJtaW5cIl0pe1xuICAgICAgICAgICAgICAgIHRoaXMubWluID0gX2pzb25bXCJtaW5cIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihfanNvbltcIm1heFwiXSl7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXggPSBfanNvbltcIm1heFwiXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKF9qc29uW1wic3RlcFwiXSl7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGVwID0gX2pzb25bXCJzdGVwXCJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLnR5cGUgPT09IEJsb2NrVHlwZS5SQURJTyB8fCB0aGlzLnR5cGUgPT09IEJsb2NrVHlwZS5DSEVDS0JPWCl7XG4gICAgICAgICAgICAgICAgLy8gbG9hZCBhZGRpdGlvbmFsIGRhdGFcbiAgICAgICAgICAgICAgICBpZihfanNvbltcImNob2ljZXNcIl0pe1xuICAgICAgICAgICAgICAgICAgICBfanNvbltcImNob2ljZXNcIl0uZm9yRWFjaChjaG9pY2VKc29uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaG9pY2UgPSBuZXcgQ2hvaWNlKGNob2ljZUpzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaG9pY2VzLnB1c2goY2hvaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vdGhpcy5jaG9pY2VzID0gX2pzb25bXCJjaG9pY2VzXCJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBhbmQgcmVtb3ZlIGFsbCB0aGUgSFRNTCBOb2RlXG4gICAgICovXG4gICAgY2xlYXIoKXtcbiAgICAgICAgaWYodGhpcy5ub2RlKXtcbiAgICAgICAgICAgIHRoaXMubm9kZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gYnVpbGQgdGhlIGZvcm1cbiAgICAgKi9cbiAgICBidWlsZChub2RlKXtcbiAgICAgICAgdGhpcy5ub2RlID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICAgIFwiY2xhc3NcIiA6IFwicm93IHBpeGl1bS1ibG9jay1idWlsZFwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBociA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImhyXCIsIHtcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJwaXhpdW0taHIgY29sLW1kLTEyXCJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgQnVpbGRlci5hZGRCdWlsZGVySW5wdXRUZXh0KHRoaXMubm9kZSwgdGhpcy5pZCwgdGhpcy50ZXh0LCBcIlRleHRcIiwgKHZhbCkgPT4ge3RoaXMudGV4dD12YWw7fSwgXCJjb2wtbWQtNFwiICk7XG4gICAgICAgIEJ1aWxkZXIuYWRkQnVpbGRlcklucHV0VGV4dCh0aGlzLm5vZGUsIHRoaXMuaWQsIHRoaXMubmFtZSwgXCJOYW1lXCIsICh2YWwpID0+IHt0aGlzLm5hbWU9dmFsO30sIFwiY29sLW1kLTRcIiApO1xuICAgICAgICBsZXQgZW51bUFycmF5ID0gT2JqZWN0LmtleXMoQmxvY2tUeXBlKS5maWx0ZXIoYT0+YS5tYXRjaCgvXlxcRC8pKS5tYXAobmFtZT0+KHtuYW1lLCB2YWx1ZTogQmxvY2tUeXBlW25hbWVdIGFzIG51bWJlcn0pKTtcbiAgICAgICAgQnVpbGRlci5hZGRCdWlsZGVySW5wdXREcm9wZG93bih0aGlzLm5vZGUsIHRoaXMuaWQsIHRoaXMudHlwZSwgXCJUeXBlXCIsICh2YWwpID0+IHtcbiAgICAgICAgICAgIHRoaXMudHlwZT1OdW1iZXIodmFsKTtcbiAgICAgICAgICAgIHRoaXMuYW5zd2VyPScnO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyU3ViRWxlbWVudEJsb2NrKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSwgZW51bUFycmF5LCBcImNvbC1tZC00XCIgKTtcblxuICAgICAgICAvLyAtLS0tIEZpZWxkIGZvciBDaG9pY2VzIGJsb2NrXG4gICAgICAgIGxldCBibGtDaG9pY2VzU3R5bGUgPSBcIlwiO1xuICAgICAgICBpZigodGhpcy50eXBlICE9PSBCbG9ja1R5cGUuUkFESU8pICYmICh0aGlzLnR5cGUgIT09IEJsb2NrVHlwZS5DSEVDS0JPWCkpe1xuICAgICAgICAgICAgYmxrQ2hvaWNlc1N0eWxlID0gXCJkaXNwbGF5Om5vbmU7XCJcbiAgICAgICAgfVxuICAgICAgICBsZXQgbm9kZUNob2ljZXMgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgXCJpZFwiOiBcImNob2ljZXNfYmxvY2tfXCIrdGhpcy5pZCxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJyb3cgY29sLW1kLTEyXCIsXG4gICAgICAgICAgICBcInN0eWxlXCI6IGJsa0Nob2ljZXNTdHlsZVxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgbGFiVGl0bGUgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgbGFiVGl0bGUuaW5uZXJIVE1MID0gXCJDaG9pY2VzIDogXCI7XG4gICAgICAgIG5vZGVDaG9pY2VzLmFwcGVuZENoaWxkKGxhYlRpdGxlKTtcbiAgICAgICAgaWYodGhpcy5jaG9pY2VzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgdGhpcy5jaG9pY2VzLmZvckVhY2goIChjaDpDaG9pY2UpID0+IHtcbiAgICAgICAgICAgICAgICBjaC5idWlsZChub2RlQ2hvaWNlcyk7XG4gICAgICAgICAgICAgICAgLy8gQlVJTEQgREVMRVRFIEJPTENLIEJUTlxuICAgICAgICAgICAgICAgIGxldCBkZWxCdG4gPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1wiY2xhc3NcIjpcImJ0biBidG4tZGFuZ2VyIGZvcm0tYnVpbGRlci1idG5cIiwgXCJ0eXBlXCI6XCJidXR0b25cIn0pO1xuICAgICAgICAgICAgICAgIGRlbEJ0bi5pbm5lclRleHQgPSAnLSc7ICBcbiAgICAgICAgICAgICAgICBkZWxCdG4ub25jbGljayA9IChldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVDaG9pY2VzLnJlbW92ZUNoaWxkKGNoLm5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNob2ljZXMgPSB0aGlzLmNob2ljZXMuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbC5pZCAhPSBjaC5pZDsgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY2gubm9kZS5hcHBlbmRDaGlsZChkZWxCdG4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCVUlMRCBBREQgQk9MQ0sgQlROXG4gICAgICAgIGxldCBhZGRDaG9pY2VCdXR0b24gPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHtcImNsYXNzXCI6XCJidG4gYnRuLXN1Y2Nlc3MgZm9ybS1idWlsZGVyLWJ0blwiLCBcInR5cGVcIjpcImJ1dHRvblwifSk7ICBcbiAgICAgICAgYWRkQ2hvaWNlQnV0dG9uLmlubmVyVGV4dCA9ICcrJzsgIFxuICAgICAgICBhZGRDaG9pY2VCdXR0b24ub25jbGljayA9IChldikgPT4gXG4gICAgICAgIHsgICBcbiAgICAgICAgICAgIGxldCBidG5DaEFkZCA9IDxIVE1MRWxlbWVudD5ldi50YXJnZXQ7XG4gICAgICAgICAgICAvLyBBREQgTkVXIEJPTENLXG4gICAgICAgICAgICBsZXQgY2ggPSBuZXcgQ2hvaWNlKG51bGwpO1xuICAgICAgICAgICAgdGhpcy5jaG9pY2VzLnB1c2goY2gpO1xuICAgICAgICAgICAgbm9kZUNob2ljZXMucmVtb3ZlQ2hpbGQoYnRuQ2hBZGQpO1xuICAgICAgICAgICAgY2guYnVpbGQobm9kZUNob2ljZXMpO1xuICAgICAgICAgICAgLy8gQlVJTEQgREVMRVRFIEJPTENLIEJUTlxuICAgICAgICAgICAgbGV0IGJ0bkNoRGVsID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcImNsYXNzXCI6XCJidG4gYnRuLWRhbmdlciBmb3JtLWJ1aWxkZXItYnRuXCIsIFwidHlwZVwiOlwiYnV0dG9uXCJ9KTtcbiAgICAgICAgICAgIGJ0bkNoRGVsLmlubmVyVGV4dCA9ICctJzsgIFxuICAgICAgICAgICAgYnRuQ2hEZWwub25jbGljayA9IChldiA9PiB7XG4gICAgICAgICAgICAgICAgbm9kZUNob2ljZXMucmVtb3ZlQ2hpbGQoY2gubm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaG9pY2VzID0gdGhpcy5jaG9pY2VzLmZpbHRlcihmdW5jdGlvbihlbCkgeyByZXR1cm4gZWwuaWQgIT0gY2guaWQ7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjaC5ub2RlLmFwcGVuZENoaWxkKGJ0bkNoRGVsKTtcblxuICAgICAgICAgICAgbm9kZUNob2ljZXMuYXBwZW5kQ2hpbGQoYnRuQ2hBZGQpO1xuICAgICAgICB9OyAgXG4gICAgICAgIG5vZGVDaG9pY2VzLmFwcGVuZENoaWxkKGFkZENob2ljZUJ1dHRvbik7XG5cbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKG5vZGVDaG9pY2VzKTtcbiAgICAgICAgLy8gLS0tLSBcblxuICAgICAgICAvLyAtLS0tIEZpZWxkIGZvciBTbGlkZXIgYmxvY2tcbiAgICAgICAgbGV0IGJsa1NsaWRlclN0eWxlID0gXCJcIjtcbiAgICAgICAgaWYodGhpcy50eXBlICE9PSBCbG9ja1R5cGUuU0xJREVSKXtcbiAgICAgICAgICAgIGJsa1NsaWRlclN0eWxlID0gXCJkaXNwbGF5Om5vbmU7XCJcbiAgICAgICAgfVxuICAgICAgICBsZXQgbm9kZVNsaWRlciA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgICBcImlkXCI6IFwic2xpZGVyX2Jsb2NrX1wiK3RoaXMuaWQsXG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicm93IGNvbC1tZC0xMlwiLFxuICAgICAgICAgICAgXCJzdHlsZVwiOiBibGtTbGlkZXJTdHlsZVxuICAgICAgICB9KTtcbiAgICAgICAgQnVpbGRlci5hZGRCdWlsZGVySW5wdXRUZXh0KG5vZGVTbGlkZXIsIHRoaXMuaWQsIHRoaXMubWluLCBcIk1pblwiLCAodmFsKSA9PiB7dGhpcy5taW49dmFsO30sIFwiY29sLW1kLTRcIiApO1xuICAgICAgICBCdWlsZGVyLmFkZEJ1aWxkZXJJbnB1dFRleHQobm9kZVNsaWRlciwgdGhpcy5pZCwgdGhpcy5tYXgsIFwiTWF4XCIsICh2YWwpID0+IHt0aGlzLm1heD12YWw7fSwgXCJjb2wtbWQtNFwiICk7XG4gICAgICAgIEJ1aWxkZXIuYWRkQnVpbGRlcklucHV0VGV4dChub2RlU2xpZGVyLCB0aGlzLmlkLCB0aGlzLnN0ZXAsIFwiU3RlcFwiLCAodmFsKSA9PiB7dGhpcy5zdGVwPXZhbDt9LCBcImNvbC1tZC00XCIgKTtcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKG5vZGVTbGlkZXIpO1xuICAgICAgICAvLyAtLS0tXG5cbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKGhyKTtcbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpO1xuICAgIH1cblxuICAgIFxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBSdW4gdGhlIGZvcm1cbiAgICAgKi9cbiAgICBydW4obm9kZSl7XG4gICAgICAgIC8vIGFsZXJ0KFwiQ1wiKTtcbiAgICAgICAgbGV0IHRpdGxlTm9kZSA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcInBcIik7IC8vZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIHRpdGxlTm9kZS5pbm5lckhUTUwgPSB0aGlzLnRleHQ7XG4gICAgICAgIHRoaXMubm9kZSA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKHRpdGxlTm9kZSk7XG5cbiAgICAgICAgc3dpdGNoKHRoaXMudHlwZSl7XG4gICAgICAgICAgICBjYXNlIEJsb2NrVHlwZS5SQURJTzpcbiAgICAgICAgICAgICAgICBCbG9ja1JhZGlvLnJ1bih0aGlzLm5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEJsb2NrVHlwZS5DSEVDS0JPWDpcbiAgICAgICAgICAgICAgICBCbG9ja0NoZWNrYm94LnJ1bih0aGlzLm5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEJsb2NrVHlwZS5GUkVFVEVYVDpcbiAgICAgICAgICAgICAgICBCbG9ja0ZyZWV0ZXh0LnJ1bih0aGlzLm5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSBCbG9ja1R5cGUuTE9OR1RFWFQ6XG4gICAgICAgICAgICAgICAgQmxvY2tMb25ndGV4dC5ydW4odGhpcy5ub2RlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBCbG9ja1R5cGUuTk9BTlNXRVI6XG4gICAgICAgICAgICAgICAgLy8gQmxvY2tOb2Fuc3dlci5ydW4odGhpcy5ub2RlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBCbG9ja1R5cGUuU0xJREVSOlxuICAgICAgICAgICAgICAgIEJsb2NrU2xpZGVyLnJ1bih0aGlzLm5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIH1cblxuXG4gICAgICAgIGxldCBociA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImhyXCIsIHtcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJwaXhpdW0taHJcIlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKGhyKTtcblxuICAgICAgICBub2RlLmFwcGVuZENoaWxkKHRoaXMubm9kZSk7XG4gICAgfVxuXG5cbiAgICBkaXNwbGF5KCl7XG4gICAgfVxuXG5cblxuICAgIHRyaWdnZXJTdWJFbGVtZW50QmxvY2soKXtcbiAgICAgICAgbGV0IHNsaWRlckJsb2NrID0gbnVsbDtcbiAgICAgICAgaWYoc2xpZGVyQmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNsaWRlcl9ibG9ja19cIit0aGlzLmlkKSl7XG4gICAgICAgICAgICBpZih0aGlzLnR5cGUgPT09IEJsb2NrVHlwZS5TTElERVIpe1xuICAgICAgICAgICAgICAgIHNsaWRlckJsb2NrLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBzbGlkZXJCbG9jay5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgYWxlcnQoXCJOb2RlIFNpbGRlciBub3QgZm91bmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2hvaWNlQmxvY2sgPSBudWxsO1xuICAgICAgICBpZihjaG9pY2VCbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hvaWNlc19ibG9ja19cIit0aGlzLmlkKSl7XG4gICAgICAgICAgICBpZigodGhpcy50eXBlID09PSBCbG9ja1R5cGUuUkFESU8pIHx8ICh0aGlzLnR5cGUgPT09IEJsb2NrVHlwZS5DSEVDS0JPWCkpe1xuICAgICAgICAgICAgICAgIGNob2ljZUJsb2NrLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBjaG9pY2VCbG9jay5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgYWxlcnQoXCJOb2RlIENob2ljZSBub3QgZm91bmRcIik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGNvbXBpbGVKc29uKCl7XG4gICAgICAgIGxldCBhcnI6YW55W107XG4gICAgICAgIGFyciA9IFtdO1xuICAgICAgICB0aGlzLmNob2ljZXMuZm9yRWFjaCggKGNoOkNob2ljZSkgPT4ge1xuICAgICAgICAgICAgYXJyLnB1c2goY2guY29tcGlsZUpzb24oKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmpzb24gPSB7XG4gICAgICAgICAgICBcInR5cGVcIjp0aGlzLnR5cGUsXG4gICAgICAgICAgICBcInRleHRcIjp0aGlzLnRleHQsXG4gICAgICAgICAgICBcImFuc3dlclwiOnRoaXMuYW5zd2VyLFxuICAgICAgICAgICAgXCJuYW1lXCI6dGhpcy5uYW1lLFxuICAgICAgICAgICAgXCJtaW5cIjp0aGlzLm1pbixcbiAgICAgICAgICAgIFwibWF4XCI6dGhpcy5tYXgsXG4gICAgICAgICAgICBcInN0ZXBcIjp0aGlzLnN0ZXAsXG4gICAgICAgICAgICBcImNob2ljZXNcIjogYXJyXG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgcmV0dXJuIHRoaXMuanNvbjtcbiAgICB9XG59IiwiXG5leHBvcnQgY2xhc3MgQnVpbGRlcntcblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIGFuZCBzZXQgYWxsIHRoZSBhdHRyaWJ1dGUgb2YgYSBIVE1MIEVsZW1lbnQgbm9kZVxuICAgICAqIEBwYXJhbSB0eXBlIFRoZSB0eXBlIG9mIHRoZSBpbnB1dCB0byBjcmVhdGVcbiAgICAgKiBAcGFyYW0gX3BhcmFtcyBUaGUgYXR0cmlidXRlcyBsaXN0IHRvIHNldFxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVFbGVtZW50KHR5cGU6c3RyaW5nLCBfcGFyYW1zOmFueSA9IG51bGwpe1xuICAgICAgICBpZighdHlwZSl7XG4gICAgICAgICAgICBhbGVydChcIkNvdWxkIG5vdCBidWlsZCB0aGUgZWxlbWVudFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgaWYoX3BhcmFtcyl7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gX3BhcmFtcykge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9wYXJhbXNba2V5XTtcbiAgICAgICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB3aWxsIHNldCBhbGwgYXR0cmlidXRlIGludG8gYSBzcGVjaWZpYyBlbGVtZW50XG4gICAgICogQHBhcmFtIGVsZW0gRWxlbWVudCB0byBzZXQgdGUgYXR0cmlidXRlIG9mXG4gICAgICogQHBhcmFtIF9wYXJhbXMgVGhlIGF0dHJpYnV0ZXMgbGlzdCB0byBzZXRcbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0QXR0cmlidXRlcyhlbGVtOkhUTUxFbGVtZW50LCBfcGFyYW1zOmFueSA9IG51bGwpe1xuICAgICAgICBpZihfcGFyYW1zKXtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBfcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gX3BhcmFtc1trZXldO1xuICAgICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgYWRkQnVpbGRlcklucHV0VGV4dChub2RlLCBpZCwgdmFsdWUsIGxhYmVsLCBjYWxsYmFjaywgY2xhc3Nlcz1cImNvbC1tZC0xMlwiKXtcbiAgICAgICAgbGV0IGRpdiA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicGl4aXVtLXJvdy1ibG9jayBcIitjbGFzc2VzXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgbGFiID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgIGxhYi5pbm5lckhUTUwgPSBsYWJlbCtcIjogXCI7XG4gICAgICAgIGxldCBpbnB1dCA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJwaXhpdW0tdGV4dGJveFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidGV4dFwiLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBsYWJlbCtcIl9cIitpZCxcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJjb2xvcjpSZWRcIixcbiAgICAgICAgICAgIFwicGxhY2Vob2xkZXJcIjogbGFiZWxcbiAgICAgICAgfSk7XG4gICAgICAgIGlucHV0Lm9uYmx1ciA9IChldikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXYudGFyZ2V0KTtcbiAgICAgICAgICAgIGNhbGxiYWNrKCg8SFRNTElucHV0RWxlbWVudD5ldi50YXJnZXQpLnZhbHVlKTtcbiAgICAgICAgfTsgXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChsYWIpO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGRpdik7XG4gICAgfVxuXG4gICAgLypcbjxzZWxlY3QgbmFtZT1cImNhcnNcIiBpZD1cImNhcnNcIj5cbiAgPG9wdGlvbiB2YWx1ZT1cInZvbHZvXCI+Vm9sdm88L29wdGlvbj5cbiAgPG9wdGlvbiB2YWx1ZT1cInNhYWJcIj5TYWFiPC9vcHRpb24+XG4gIDxvcHRpb24gdmFsdWU9XCJtZXJjZWRlc1wiPk1lcmNlZGVzPC9vcHRpb24+XG4gIDxvcHRpb24gdmFsdWU9XCJhdWRpXCI+QXVkaTwvb3B0aW9uPlxuPC9zZWxlY3Q+XG4gICAgKi9cbiAgICBzdGF0aWMgYWRkQnVpbGRlcklucHV0RHJvcGRvd24obm9kZSwgaWQsIHZhbHVlLCBsYWJlbCwgY2FsbGJhY2ssIG9wdGlvbnMsIGNsYXNzZXM9XCJjb2wtbWQtMTJcIil7XG4gICAgICAgIGxldCBkaXYgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgXCJjbGFzc1wiOiBcInBpeGl1bS1yb3ctYmxvY2sgXCIrY2xhc3Nlc1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGxhYiA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICBsYWIuaW5uZXJIVE1MID0gbGFiZWwrXCI6IFwiO1xuICAgICAgICBsZXQgaW5wdXQgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiwge1xuICAgICAgICAgICAgXCJjbGFzc1wiOiBcInBpeGl1bS1kcm9wZG93blwiLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBsYWJlbCtcIl9cIitpZCxcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJkaXNwbGF5OmJsb2NrXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGlucHV0Lm9uY2hhbmdlID0gKGV2KSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjaygoPEhUTUxJbnB1dEVsZW1lbnQ+ZXYudGFyZ2V0KS52YWx1ZSk7XG4gICAgICAgIH07IFxuXG4gICAgICAgIG9wdGlvbnMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGxldCBvcHQgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiwge1xuICAgICAgICAgICAgICAgIFwidmFsdWVcIjogZWxlbWVudC52YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYodmFsdWU9PT1lbGVtZW50LnZhbHVlKXtcbiAgICAgICAgICAgICAgICBCdWlsZGVyLnNldEF0dHJpYnV0ZXMob3B0LCB7XG4gICAgICAgICAgICAgICAgICAgIFwic2VsZWN0ZWRcIjpcInNlbGVjdGVkXCJcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0LmlubmVySFRNTCA9IGVsZW1lbnQubmFtZTtcbiAgICAgICAgICAgIGlucHV0LmFwcGVuZENoaWxkKG9wdCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChsYWIpO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGRpdik7XG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiTGlicmFyeVwiXSA9IHJlcXVpcmUoXCItIS9Vc2Vycy9waXhpdW1kaWdpdGFsL1dvcmtzcGFjZS9mb3JtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL2Nob2ljZS50c1wiKTsiLCJcbmltcG9ydCB7QnVpbGRlcn0gZnJvbSBcIi4uL2J1aWxkZXJcIjtcblxuZXhwb3J0IGNsYXNzIENob2ljZXtcbiAgICBsYWJlbDpzdHJpbmc7XG4gICAgdmFsdWU6IHN0cmluZztcbiAgICBpZDpzdHJpbmc7XG4gICAganNvbjphbnk7XG4gICAgbm9kZTogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihfanNvbil7XG4gICAgICAgIHRoaXMuaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNyk7XG5cbiAgICAgICAgaWYoX2pzb24pe1xuICAgICAgICAgICAgaWYoX2pzb25bXCJsYWJlbFwiXSl7XG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbCA9IF9qc29uW1wibGFiZWxcIl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKF9qc29uW1widmFsdWVcIl0pe1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBfanNvbltcInZhbHVlXCJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBidWlsZCB0aGUgZm9ybVxuICAgICAqL1xuICAgIGJ1aWxkKG5vZGUpe1xuICAgICAgICB0aGlzLm5vZGUgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgXCJjbGFzc1wiOiBcInBpeGl1bS1yb3ctYmxvY2sgYmxvY2stY2hvaWNlcyBjb2wtbWQtMTJcIixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ1JFQVRFIFZBTFVFIElOUFVUXG4gICAgICAgIGxldCBsYWJWYWx1ZSA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHtcImZvclwiOlwiaW5wdXRfXCIrdGhpcy52YWx1ZStcIl9cIit0aGlzLmlkfSk7XG4gICAgICAgIGxhYlZhbHVlLmlubmVySFRNTCA9IFwiVmFsdWUgOiBcIjtcbiAgICAgICAgbGV0IGlucHV0VmFsdWUgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicGl4aXVtLXRleHRib3hcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInRleHRcIixcbiAgICAgICAgICAgIFwidmFsdWVcIjogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIFwiaWRcIjogXCJpbnB1dF9cIit0aGlzLnZhbHVlK1wiX1wiK3RoaXMuaWQsXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwiY29sb3I6UmVkO1wiXG4gICAgICAgIH0pO1xuICAgICAgICBpbnB1dFZhbHVlLm9uYmx1ciA9IChldikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXYudGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXMudmFsdWU9KDxIVE1MSW5wdXRFbGVtZW50PmV2LnRhcmdldCkudmFsdWU7XG4gICAgICAgIH07IFxuXG4gICAgICAgIC8vIENSRUFURSBMQUJFTCBJTlBVVFxuICAgICAgICBsZXQgbGFiTGFiZWwgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7XCJmb3JcIjpcImlucHV0X1wiK3RoaXMubGFiZWwrXCJfXCIrdGhpcy5pZCwgXCJzdHlsZVwiOlwibWluLXdpZHRoOiBhdXRvO1wifSk7XG4gICAgICAgIGxhYkxhYmVsLmlubmVySFRNTCA9IFwiTGFiZWwgOiBcIjtcbiAgICAgICAgbGV0IGlucHV0TGFiZWwgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicGl4aXVtLXRleHRib3hcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInRleHRcIixcbiAgICAgICAgICAgIFwidmFsdWVcIjogdGhpcy5sYWJlbCxcbiAgICAgICAgICAgIFwiaWRcIjpcImlucHV0X1wiK3RoaXMubGFiZWwrXCJfXCIrdGhpcy5pZCxcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJjb2xvcjpSZWQ7XCJcbiAgICAgICAgfSk7XG4gICAgICAgIGlucHV0TGFiZWwub25ibHVyID0gKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhldi50YXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5sYWJlbD0oPEhUTUxJbnB1dEVsZW1lbnQ+ZXYudGFyZ2V0KS52YWx1ZTtcbiAgICAgICAgfTsgXG5cbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKGxhYlZhbHVlKTtcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKGlucHV0VmFsdWUpO1xuICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQobGFiTGFiZWwpO1xuICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoaW5wdXRMYWJlbCk7XG5cbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpO1xuICAgIH1cblxuICAgIGNvbXBpbGVKc29uKCl7XG4gICAgICAgIHRoaXMuanNvbiA9IHtcbiAgICAgICAgICAgIFwibGFiZWxcIjp0aGlzLmxhYmVsLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOnRoaXMudmFsdWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5qc29uO1xuICAgIH1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFtcIkxpYnJhcnlcIl0gPSByZXF1aXJlKFwiLSEvVXNlcnMvcGl4aXVtZGlnaXRhbC9Xb3Jrc3BhY2UvZm9ybS1idWlsZGVyL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanMhLi9ibG9ja1NsaWRlci50c1wiKTsiLCJpbXBvcnQge0Jsb2NrfSBmcm9tIFwiLi9ibG9ja1wiO1xuaW1wb3J0IHtCdWlsZGVyfSBmcm9tIFwiLi4vYnVpbGRlclwiO1xuXG5leHBvcnQgY2xhc3MgQmxvY2tTbGlkZXJ7XG5cbiAgICBzdGF0aWMgcnVuKG5vZGUsIGJsb2NrOkJsb2NrKXtcbiAgICAgICAgbGV0IGhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGhvbGRlci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImVsZW1lbnQtZm9ybS1jb250YWluZXJcIik7XG4gICAgICAgIGxldCBmaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblxuICAgICAgICBsZXQgbWluID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6XCJfbGVmdFwiXG4gICAgICAgIH0pO1xuICAgICAgICBtaW4uaW5uZXJIVE1MID0gYmxvY2subWluO1xuICAgICAgICBsZXQgbWF4ID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6XCJfcmlnaHRcIlxuICAgICAgICB9KTs7XG4gICAgICAgIG1heC5pbm5lckhUTUwgPSBibG9jay5tYXg7XG5cbiAgICAgICAgLy8gPG91dHB1dCBmb3I9XCJmb29cIiBvbmZvcm1pbnB1dD1cInZhbHVlID0gZm9vLnZhbHVlQXNOdW1iZXI7XCI+PC9vdXRwdXQ+XG5cbiAgICAgICAgLy9Bc3NpZ24gZGlmZmVyZW50IGF0dHJpYnV0ZXMgdG8gdGhlIGVsZW1lbnQuIFxuICAgICAgICBjb25zb2xlLmxvZygnYmxvY2suYW5zd2VyJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGJsb2NrLmFuc3dlcik7XG4gICAgICAgIEJ1aWxkZXIuc2V0QXR0cmlidXRlcyhmaWVsZCwge1xuICAgICAgICAgICAgXCJjbGFzc1wiOiBcInBpeGl1bS1zbGlkZXJcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInJhbmdlXCIsXG4gICAgICAgICAgICBcInZhbHVlXCI6IGJsb2NrLmFuc3dlcixcbiAgICAgICAgICAgIFwibWluXCI6IGJsb2NrLm1pbixcbiAgICAgICAgICAgIFwibWF4XCI6IGJsb2NrLm1heCxcbiAgICAgICAgICAgIFwibmFtZVwiOiBibG9jay5uYW1lLFxuICAgICAgICAgICAgXCJpZFwiOiBcImlucHV0cmFuZ2VfXCIrYmxvY2submFtZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYoYmxvY2suc3RlcCl7XG4gICAgICAgICAgICBmaWVsZC5zZXRBdHRyaWJ1dGUoXCJzdGVwXCIsIGJsb2NrLnN0ZXApO1xuICAgICAgICB9XG4gICAgICAgIGZpZWxkLm9uY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgYmxvY2suYW5zd2VyID0gcGFyc2VGbG9hdCgoPEhUTUxJbnB1dEVsZW1lbnQ+ZmllbGQpLnZhbHVlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCg8SFRNTElucHV0RWxlbWVudD5maWVsZCkpO1xuICAgICAgICAgICAgbGV0IHRlbXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm91dHB1dF9cIitibG9jay5uYW1lKS5pbm5lckhUTUwgPSBibG9jay5hbnN3ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW5wdXREaXYgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGlucHV0RGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicGl4aXVtLWJsb2NrLXNsaWRlclwiKTtcbiAgICAgICAgLy9mb3JtLnNldEF0dHJpYnV0ZShcIm9uaW5wdXRcIiwgXCJvdXRwdXRfXCIrdGhpcy5uYW1lK1wiLmlubmVySFRNTCA9IFwiK3RoaXMubmFtZStcIi52YWx1ZVwiICk7XG4gICAgICAgIGxldCBvdXRwdXQgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJvdXRwdXRcIiwge1xuICAgICAgICAgICAgXCJpZFwiOiBcIm91dHB1dF9cIitibG9jay5uYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBvdXRwdXQuaW5uZXJIVE1MID0gYmxvY2suYW5zd2VyO1xuICAgICAgICBcbiAgICAgICAgaW5wdXREaXYuYXBwZW5kQ2hpbGQob3V0cHV0KTtcbiAgICAgICAgaW5wdXREaXYuYXBwZW5kQ2hpbGQoZmllbGQpO1xuICAgICAgICBpbnB1dERpdi5hcHBlbmRDaGlsZChtaW4pO1xuICAgICAgICBpbnB1dERpdi5hcHBlbmRDaGlsZChtYXgpOyBcbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKGlucHV0RGl2KTtcblxuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGhvbGRlcik7XG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiTGlicmFyeVwiXSA9IHJlcXVpcmUoXCItIS9Vc2Vycy9waXhpdW1kaWdpdGFsL1dvcmtzcGFjZS9mb3JtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL2Jsb2NrRnJlZXRleHQudHNcIik7IiwiaW1wb3J0IHtCdWlsZGVyfSBmcm9tIFwiLi4vYnVpbGRlclwiO1xuXG5leHBvcnQgY2xhc3MgQmxvY2tGcmVldGV4dHtcblxuICAgIHN0YXRpYyBydW4obm9kZSwgYmxvY2spe1xuICAgICAgICBcbiAgICAgICAgbGV0IGhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGhvbGRlci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImVsZW1lbnQtZm9ybS1jb250YWluZXJcIik7XG4gICAgICAgIGxldCBmaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblxuICAgICAgICAvL0Fzc2lnbiBkaWZmZXJlbnQgYXR0cmlidXRlcyB0byB0aGUgZWxlbWVudC4gXG4gICAgICAgIEJ1aWxkZXIuc2V0QXR0cmlidXRlcyhmaWVsZCwge1xuICAgICAgICAgICAgXCJjbGFzc1wiOiBcInBpeGl1bS10ZXh0Ym94XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCIsXG4gICAgICAgICAgICBcInZhbHVlXCI6IGJsb2NrLmFuc3dlcixcbiAgICAgICAgICAgIFwibmFtZVwiOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwiY29sb3I6UmVkXCJcbiAgICAgICAgfSk7IFxuICAgICAgICBmaWVsZC5vbmJsdXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBibG9jay5hbnN3ZXIgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+ZmllbGQpLnZhbHVlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYmxvY2suYW5zd2VyKTtcbiAgICAgICAgfTsgXG4gICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZChmaWVsZCk7IFxuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGhvbGRlcik7XG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiTGlicmFyeVwiXSA9IHJlcXVpcmUoXCItIS9Vc2Vycy9waXhpdW1kaWdpdGFsL1dvcmtzcGFjZS9mb3JtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL2Jsb2NrUmFkaW8udHNcIik7IiwiaW1wb3J0IHtCdWlsZGVyfSBmcm9tIFwiLi4vYnVpbGRlclwiO1xuXG5leHBvcnQgY2xhc3MgQmxvY2tSYWRpbyB7XG5cbiAgICBzdGF0aWMgcnVuKG5vZGUsIGJsb2NrKXtcbiAgICAgICAgbGV0IGhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGhvbGRlci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImVsZW1lbnQtZm9ybS1jb250YWluZXJcIik7XG5cbiAgICAgICAgYmxvY2suY2hvaWNlcy5mb3JFYWNoKCAoY2hvaWNlKSA9PiB7XG4gICAgICAgICAgICBsZXQgZiAgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwicmFkaW9cIixcbiAgICAgICAgICAgICAgICBcIm5hbWVcIjogIGJsb2NrLm5hbWUsXG4gICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiAgY2hvaWNlLnZhbHVlK1wiXCJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGNob2ljZS5sYWJlbDtcblxuICAgICAgICAgICAgbGV0IF9kaXYgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBfZGl2LmFwcGVuZENoaWxkKGYpO1xuICAgICAgICAgICAgX2Rpdi5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQoX2Rpdik7XG5cbiAgICAgICAgICAgIGYub25jbGljayA9IChldikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgYmxvY2suYW5zd2VyID0gKDxIVE1MSW5wdXRFbGVtZW50PmV2LnRhcmdldCkudmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYmxvY2suYW5zd2VyKTtcbiAgICAgICAgICAgIH07IFxuICAgICAgICB9KTtcbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChob2xkZXIpO1xuICAgIH1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFtcIkxpYnJhcnlcIl0gPSByZXF1aXJlKFwiLSEvVXNlcnMvcGl4aXVtZGlnaXRhbC9Xb3Jrc3BhY2UvZm9ybS1idWlsZGVyL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanMhLi9ibG9ja0NoZWNrYm94LnRzXCIpOyIsImltcG9ydCB7QnVpbGRlcn0gZnJvbSBcIi4uL2J1aWxkZXJcIjtcblxuZXhwb3J0IGNsYXNzIEJsb2NrQ2hlY2tib3gge1xuXG4gICAgc3RhdGljIHJ1bihub2RlLCBibG9jayl7XG4gICAgICAgIGxldCBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBob2xkZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGVtZW50LWZvcm0tY29udGFpbmVyXCIpO1xuXG4gICAgICAgIGJsb2NrLmNob2ljZXMuZm9yRWFjaCggKGNob2ljZSkgPT4ge1xuXG4gICAgICAgICAgICBsZXQgZiAgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBcIm5hbWVcIjogIGJsb2NrLm5hbWUsXG4gICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiAgY2hvaWNlLnZhbHVlK1wiXCIsXG4gICAgICAgICAgICAgICAgXCJpZFwiOiAgY2hvaWNlLnZhbHVlK1wiXCIsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9QcmVzZWxlY3QgYW5zd2VycyBpZiBzZXRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxvY2suYW5zd2VyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZigoY2hvaWNlLnZhbHVlK1wiXCIpPT09YmxvY2suYW5zd2VyW2ldKXtcbiAgICAgICAgICAgICAgICAgICAgQnVpbGRlci5zZXRBdHRyaWJ1dGVzKGYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IFxuXG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGNob2ljZS5sYWJlbDtcblxuICAgICAgICAgICAgbGV0IF9kaXYgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBfZGl2LmFwcGVuZENoaWxkKGYpO1xuICAgICAgICAgICAgX2Rpdi5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQoX2Rpdik7XG5cbiAgICAgICAgICAgIGYub25jbGljayA9IChldikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjaGVja2VkQm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPWNoZWNrYm94XVtuYW1lPVwiJytibG9jay5uYW1lKydcIl06Y2hlY2tlZCcpO1xuICAgICAgICAgICAgICAgIGxldCBpZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBjaGVja2VkQm94ZXMuZm9yRWFjaCggKGVsZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWRzLnB1c2goKDxIVE1MSW5wdXRFbGVtZW50PmVsZW0pLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBibG9jay5hbnN3ZXIgPSBpZHM7XG4gICAgICAgICAgICB9OyBcbiAgICAgICAgfSk7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoaG9sZGVyKTtcbiAgICB9XG59IiwibW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxbXCJMaWJyYXJ5XCJdID0gcmVxdWlyZShcIi0hL1VzZXJzL3BpeGl1bWRpZ2l0YWwvV29ya3NwYWNlL2Zvcm0tYnVpbGRlci9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzIS4vYmxvY2tMb25ndGV4dC50c1wiKTsiLCJpbXBvcnQge0J1aWxkZXJ9IGZyb20gXCIuLi9idWlsZGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBCbG9ja0xvbmd0ZXh0e1xuXG4gICAgc3RhdGljIHJ1bihub2RlLCBibG9jayl7XG4gICAgICAgIFxuICAgICAgICBsZXQgaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaG9sZGVyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZWxlbWVudC1mb3JtLWNvbnRhaW5lclwiKTtcbiAgICAgICAgbGV0IGZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuXG4gICAgICAgIC8vQXNzaWduIGRpZmZlcmVudCBhdHRyaWJ1dGVzIHRvIHRoZSBlbGVtZW50LiBcbiAgICAgICAgQnVpbGRlci5zZXRBdHRyaWJ1dGVzKGZpZWxkLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicGl4aXVtLXRleHRib3hcIixcbiAgICAgICAgICAgIFwicm93c1wiOiA1LFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBibG9jay5hbnN3ZXIsXG4gICAgICAgICAgICBcIm5hbWVcIjogdGhpcy5uYW1lLFxuICAgICAgICAgICAgXCJzdHlsZVwiOiBcImNvbG9yOlJlZFwiXG4gICAgICAgIH0pOyBcbiAgICAgICAgLy8gZmllbGQuaW5uZXJIVE1MID0gYmxvY2suYW5zd2VyO1xuICAgICAgICBmaWVsZC5vbmJsdXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBibG9jay5hbnN3ZXIgPSAoPEhUTUxUZXh0QXJlYUVsZW1lbnQ+ZmllbGQpLnZhbHVlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYmxvY2suYW5zd2VyKTtcbiAgICAgICAgfTsgXG4gICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZChmaWVsZCk7IFxuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGhvbGRlcik7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=