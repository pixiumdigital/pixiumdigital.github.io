!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./dist/",i(i.s=2)}([
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},
/*!********************************!*\
  !*** ./src/builder.ts-exposed ***!
  \********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./builder.ts */8)}).call(this,i(/*! ./../node_modules/webpack/buildin/global.js */0))},
/*!*****************************!*\
  !*** ./src/main.ts-exposed ***!
  \*****************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./main.ts */3)}).call(this,i(/*! ./../node_modules/webpack/buildin/global.js */0))},
/*!**********************************************!*\
  !*** ./node_modules/ts-loader!./src/main.ts ***!
  \**********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PixiumForm=t.Params=void 0;const n=i(/*! ./section */4),s=i(/*! ./builder */1),l=i(/*! ./data.json */23);function o(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]==t)return!0;return!1}function r(e,t){for(var i=document.querySelectorAll(t),n=e.parentNode;n&&!o(i,n);)n=n.parentNode;return n}class a{}t.Params=a;t.PixiumForm=class{constructor(e){if(this.sections=[],this.currentNode=0,this.params=new a,e.div){if(this.div=e.div,this.mainNode=document.getElementById(this.div),console.log(this.mainNode),this.mainNode.setAttribute("class","container form-container drop-targets"),e.data?this.json=e.data:this.json=l,e.singleSection?this.params.singleSection=e.singleSection:this.params.singleSection=!1,e.hideEditQuestion?this.params.hideEditQuestion=e.hideEditQuestion:this.params.hideEditQuestion=!1,e.hideQuestionType&&("string"==typeof e.hideQuestionType?this.params.hideQuestionType=JSON.parse(e.hideQuestionType):this.params.hideQuestionType=e.hideQuestionType),e.hideSectionHeader?this.params.hideSectionHeader=JSON.parse(e.hideSectionHeader):this.params.hideSectionHeader=!0,this.params.hideQuestionTypeSelection=e.hideQuestionTypeSelection,this.json&&this.json.sections){this.json.sections.forEach(e=>{let t=new n.Section(this.mainNode,e,this.params.singleSection?null:e=>this.moveSection(e));this.sections.push(t)})}else alert("Could not init the module."),console.log(this.json);e.debug?this.debug=e.debug:this.debug=!1,e.mode?this.mode=e.mode:this.mode="run","build"===this.mode?this.build():this.run()}else alert("Div not found. Cannot display the form")}getIndexFromSectionId(e){for(let t=0;t<this.sections.length;t++)if(this.sections[t].id==e)return t;return null}swapSections(e,t){console.log(this.sections);let i=this.sections[e];this.sections[e]=this.sections[t],this.sections[t]=i,console.log(this.sections)}dragStart(e){let t=r(e.target,".drop-target");e.dataTransfer.setData("text/plain",t.id),setTimeout(()=>{t||console.log(t)},0)}dragEnter(e){e.preventDefault();let t=r(e.target,".drop-target");t&&t.classList.add("drag-over")}dragOver(e){e.preventDefault();let t=r(e.target,".drop-target");t&&t.classList.add("drag-over")}dragLeave(e){let t=r(e.target,".drop-target");t&&t.classList.remove("drag-over")}dragEnd(e){let t=r(e.target,".drop-target");t&&t.children[0].classList.remove("hidden")}drop(e){e.target.classList.remove("drag-over");const t=e.dataTransfer.getData("text/plain");let i=document.getElementById(t),n=r(e.target,".drop-target");if(i&&i.classList.remove("hidden"),n.classList.remove("drag-over"),i.classList.remove("drag-over"),n){let e=this.getIndexFromSectionId(n.id),t=this.getIndexFromSectionId(i.id);e!=t&&(this.swapSections(e,t),l=i,o=(s=n).parentNode,a=l.parentNode,d=document.createElement("div"),c=document.createElement("div"),o.replaceChild(d,s),a.replaceChild(c,l),o.replaceChild(l,d),a.replaceChild(s,c))}else alert("not parent found");var s,l,o,a,d,c}build(){if(this.clear(),this.sections.forEach(e=>{if(e.build(this.mainNode,this.params),!this.params.singleSection&&!this.params.hideEditQuestion){let t=s.Builder.createElement("button",{class:"btn btn-danger form-builder-btn",type:"button",id:"btn-delete-section-"+e.id});t.innerHTML='<i class="fa fa-trash" aria-hidden="true"></i>',e.contentWrapper.appendChild(t),t.onclick=t=>{this.mainNode.removeChild(e.node),this.sections=this.sections.filter((function(t){return t.id!=e.id}))}}e.dragNode.ondragstart=e=>{this.dragStart(e)}}),document.querySelectorAll(".pixium-box").forEach(e=>{e.addEventListener("dragenter",this.dragEnter),e.addEventListener("dragover",this.dragOver),e.addEventListener("dragleave",this.dragLeave),e.addEventListener("dragend",this.dragEnd),e.addEventListener("drop",e=>this.drop(e))}),!this.params.singleSection){let t=s.Builder.createElement("button",{class:"btn btn-success form-builder-btn fullwidth",type:"button"});t.innerText="ADD SECTION",t.onclick=t=>{let i=t.target,l=new n.Section(this.mainNode,null,e=>this.moveSection(e));this.sections.push(l),this.mainNode.removeChild(i),this.debug&&this.mainNode.removeChild(e),l.build(this.mainNode,this.params);let o=s.Builder.createElement("button",{class:"btn btn-danger form-builder-btn",type:"button",id:"btn-delete-section-"+l.id});o.innerHTML='<i class="fa fa-trash" aria-hidden="true"></i>',o.onclick=e=>{this.mainNode.removeChild(l.node),this.sections=this.sections.filter((function(e){return e.id!=l.id}))},l.contentWrapper.appendChild(o),this.mainNode.appendChild(i),this.debug&&this.mainNode.appendChild(e)},this.mainNode.appendChild(t)}let e=s.Builder.createElement("button",{class:"btn btn-primary form-builder-btn",type:"button"});e.innerText="GO TO RUN",e.onclick=()=>{this.run()},this.debug&&this.mainNode.appendChild(e)}run(){this.clear(),this.sections.forEach(e=>{e.run(this.mainNode)}),this.saveBtn=s.Builder.createElement("button",{class:"btn btn-success form-builder-btn",type:"submit",id:"form-builder-save-final-btn"}),this.saveBtn.innerText="Save",this.saveBtn.onclick=e=>{this.sections[this.currentNode].isCompleted()?this.compileJson():(e.preventDefault(),alert("Please complete the form"))},this.currentNode!=this.sections.length-1||this.params.singleSection||(document.getElementById("btn-next-section-"+this.sections[this.currentNode].id).style.display="none",document.getElementById("btn-next-section-"+this.sections[this.currentNode].id).after(this.saveBtn)),this.params.singleSection&&this.sections[this.currentNode].node.appendChild(this.saveBtn);let e=s.Builder.createElement("button",{class:"btn btn-success form-builder-btn",type:"button",id:"form-builder-save-btn"});e.innerText="SAVE",e.onclick=()=>{this.compileJson()},this.debug&&this.mainNode.appendChild(e);let t=s.Builder.createElement("button",{class:"btn btn-primary form-builder-btn",type:"button"});t.innerText="GO TO BUILD MODE",t.onclick=()=>{this.build()},this.debug&&this.mainNode.appendChild(t),this.display()}result(){}clear(){this.mainNode&&(this.mainNode.innerHTML="",this.sections.forEach(e=>{e&&e.clear()}),this.currentNode=0)}display(){this.currentNode>=0&&this.currentNode<this.sections.length&&this.sections[this.currentNode].show()}compileJson(){let e;e=[],this.sections.forEach(t=>{e.push(t.compileJson())});let t=JSON.stringify({sections:e});return console.log("finalOutput"),console.log(t),t}moveSection(e){e?this.currentNode>=0&&this.currentNode<this.sections.length-1?(this.sections[this.currentNode].hide(),this.currentNode++,this.sections[this.currentNode].show(),document.getElementById("btn-previous-section-"+this.sections[this.currentNode].id).style.display="inline-block",this.currentNode==this.sections.length-1?(document.getElementById("btn-next-section-"+this.sections[this.currentNode].id).style.display="none",document.getElementById("btn-next-section-"+this.sections[this.currentNode].id).after(this.saveBtn)):document.getElementById("btn-next-section-"+this.sections[this.currentNode].id).style.display="inline-block"):alert("You already are on the next slide"):this.currentNode>=1&&this.currentNode<this.sections.length?(this.sections[this.currentNode].hide(),this.currentNode--,this.sections[this.currentNode].show(),document.getElementById("btn-next-section-"+this.sections[this.currentNode].id).style.display="inline-block",0==this.currentNode&&(document.getElementById("btn-previous-section-"+this.sections[this.currentNode].id).style.display="none")):alert("You already are on the first slide")}}},
/*!********************************!*\
  !*** ./src/section.ts-exposed ***!
  \********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./section.ts */5)}).call(this,i(/*! ./../node_modules/webpack/buildin/global.js */0))},
/*!*************************************************!*\
  !*** ./node_modules/ts-loader!./src/section.ts ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Section=void 0;const n=i(/*! ./block/block */6),s=i(/*! ./builder */1);t.Section=class{constructor(e,t,i){this.parent=e,this.blocks=[],this.callback=i,this.title="",this.id=Math.random().toString(36).substring(7),t&&(t.title&&(this.title=t.title),t.blocks&&t.blocks.forEach(e=>{let t=new n.Block(e);this.blocks.push(t)}))}build(e,t){if(this.contentWrapper=s.Builder.createElement("div",{class:"pixium-box-content drop-target",id:this.id}),this.node=s.Builder.createElement("div",{class:"row pixium-box",id:"holder-"+this.id}),this.dragNode=s.Builder.createElement("i",{class:"fa fa-th drag-cursor",draggable:!0,id:"dragNod-"+this.id}),!t.hideSectionHeader){let e=s.Builder.createElement("div",{class:"row pixium-block-build pixium-block-build-header"});s.Builder.addBuilderInputText(e,this.id,this.title,"Title Section",e=>{this.title=e},"col-md-12"),this.contentWrapper.appendChild(e),e.children[0].appendChild(this.dragNode)}if(this.blocks.forEach(e=>{let i=s.Builder.createElement("button",{class:"form-builder-btn button-delete",type:"button",style:"display:block"});i.innerHTML='<i class="fa fa-trash" aria-hidden="true"></i>',t.hideEditQuestion?i=s.Builder.createElement("span"):i.onclick=t=>{this.contentWrapper.removeChild(e.node),this.blocks=this.blocks.filter((function(t){return t.id!=e.id}))},e.build(this.contentWrapper,t,i)}),!t.hideEditQuestion){let e=s.Builder.createElement("button",{class:"btn btn-success form-builder-btn",type:"button"});e.innerHTML="+",e.onclick=e=>{let i,l=e.target,o=new n.Block(null);this.blocks.push(o),this.contentWrapper.removeChild(l),this.callback&&(i=document.getElementById("btn-delete-section-"+this.id),this.contentWrapper.removeChild(i)),o.build(this.contentWrapper,t,!1,"");let r=s.Builder.createElement("button",{class:"form-builder-btn button-delete float-right",type:"button",style:"display:block"});r.innerHTML='<i class="fa fa-trash" aria-hidden="true"></i>',r.onclick=e=>{this.contentWrapper.removeChild(o.node),this.blocks=this.blocks.filter((function(e){return e.id!=o.id}))},o.header.insertBefore(r,o.header.firstChild),this.contentWrapper.appendChild(l),this.callback&&this.contentWrapper.appendChild(i)},this.contentWrapper.appendChild(e)}this.node.appendChild(this.contentWrapper),e.appendChild(this.node)}run(e){this.node=s.Builder.createElement("div",{class:"row pixium-box"});let t=document.createElement("h1");if(t.innerHTML=this.title,this.node.appendChild(t),this.blocks.forEach(e=>{e.run(this.node)}),console.log("node.singleSection"),console.log(this.callback),this.callback){let e=s.Builder.createElement("button",{class:"btn btn-primary form-builder-btn",id:"btn-previous-section-"+this.id,type:"button"});e.innerText="Previous",e.style.display="none",e.onclick=()=>{this.callback&&this.callback(!1)},this.node.appendChild(e);let t=s.Builder.createElement("button",{class:"btn btn-primary form-builder-btn",id:"btn-next-section-"+this.id,type:"button"});t.innerText="Next",t.onclick=()=>{this.isCompleted()?this.callback&&this.callback(!0):alert("Please complete the form...")},this.node.appendChild(t)}this.node.style.display="none",e.appendChild(this.node)}clear(){this.node&&(this.node.innerHTML=""),this.blocks.forEach(e=>{e.clear()})}getNode(){return alert(this.node),this.node}show(){this.node.style.display="block"}hide(){this.node.style.display="none"}isCompleted(){let e=!0;return this.blocks.forEach(t=>{console.log(t.answer),t&&0==t.answer.length&&t.type!==n.BlockType.NOANSWER&&(e=!1)}),e}compileJson(){let e;return e=[],this.blocks.forEach(t=>{e.push(t.compileJson())}),{title:this.title,blocks:e}}}},
/*!************************************!*\
  !*** ./src/block/block.ts-exposed ***!
  \************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./block.ts */7)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!*****************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/block.ts ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=t.BlockType=void 0;const n=i(/*! ../builder */1),s=i(/*! ./choice */9),l=i(/*! ./blockSlider */11),o=i(/*! ./blockFreetext */13),r=i(/*! ./blockRadio */15),a=i(/*! ./blockCheckbox */17),d=i(/*! ./blockLongtext */19),c=i(/*! ./BlockTags */21);var h;!function(e){e[e.FREETEXT=1]="FREETEXT",e[e.RADIO=2]="RADIO",e[e.SLIDER=3]="SLIDER",e[e.CHECKBOX=4]="CHECKBOX",e[e.LONGTEXT=5]="LONGTEXT",e[e.NOANSWER=6]="NOANSWER",e[e.TAGS=7]="TAGS"}(h=t.BlockType||(t.BlockType={}));t.Block=class{constructor(e=null){this.json=e,this.text="",this.type=1,this.min="",this.max="",this.step="",this.answer="",this.choices=[],this.id=Math.random().toString(36).substring(7),e&&(e.text&&(this.text=e.text),e.type&&(this.type=e.type),this.answer="",e.answer&&(this.answer=e.answer),e.min&&(this.min=e.min),e.max&&(this.max=e.max),e.step&&(this.step=e.step),this.type!==h.RADIO&&this.type!==h.CHECKBOX||e.choices&&e.choices.forEach(e=>{let t=new s.Choice(e);this.choices.push(t)}))}clear(){this.node&&(this.node.innerHTML="")}updateTypeName(e,t){t==h.RADIO?e.name="SINGLE CHOICE":t==h.CHECKBOX&&(e.name="MULTIPLE CHOICE")}build(e,t,i=null,l=""){this.node=n.Builder.createElement("div",{class:"row pixium-block-build"});let o=n.Builder.createElement("div",{class:"col-md-12 "+l});this.header=n.Builder.addBoxHeader(this.node,this.id,o,i),n.Builder.addBuilderInputText(this.header,this.id,this.text,"Text",e=>{this.text=e},"col-md-10"),this.node.appendChild(o);let r=Object.keys(h).filter(e=>e.match(/^\D/)).map(e=>({name:e,value:h[e]})),a=[],d=!1;if(t.hideQuestionType)for(var c=0;c<r.length;c++){let e=r[c].name;e&&(t.hideQuestionType[e]||(this.updateTypeName(r[c],c+1),a.push(r[c]),1!==this.type||d||(this.type=r[c].value,console.log(r[c].value)),d=!0))}else a=r;console.log(r);let u="";(t.hideQuestionTypeSelection||a.length<2)&&(u="hidden"),n.Builder.addBuilderInputDropdown(o,this.id,this.type,"Type",e=>{this.type=Number(e),this.answer="",this.triggerSubElementBlock()},a,"col-md-4 "+u);let p="";this.type!==h.RADIO&&this.type!==h.CHECKBOX&&(p="display:none;");let m=n.Builder.createElement("div",{id:"choices_block_"+this.id,class:"col-md-12 custom_block_type",style:p}),b=n.Builder.createElement("label");b.innerHTML="Choices : ",m.appendChild(b),this.choices.length>0&&this.choices.forEach(e=>{e.build(m);let t=n.Builder.createElement("button",{class:"form-builder-btn button-delete form-builder-btn",type:"button"});t.innerHTML='<i class="fa fa-times" aria-hidden="true"></i>',t.onclick=t=>{m.removeChild(e.node),this.choices=this.choices.filter((function(t){return t.id!=e.id}))},e.node.appendChild(t)});let f=n.Builder.createElement("button",{class:"btn btn-success form-builder-btn",type:"button"});f.innerHTML="+",f.onclick=e=>{let t=e.target,i=new s.Choice(null);this.choices.push(i),m.removeChild(t),i.build(m);let l=n.Builder.createElement("button",{class:"btn btn-danger form-builder-btn",type:"button"});l.innerText="-",l.onclick=e=>{m.removeChild(i.node),this.choices=this.choices.filter((function(e){return e.id!=i.id}))},i.node.appendChild(l),m.appendChild(t)},m.appendChild(f),o.appendChild(m);let y="";this.type!==h.SLIDER&&(y="display:none;");let g=n.Builder.createElement("div",{id:"slider_block_"+this.id,class:"col-md-12 custom_block_type",style:y});n.Builder.addBuilderInputText(g,this.id,this.min,"Min",e=>{this.min=e},"col-md-4 hidden",!0),n.Builder.addBuilderInputText(g,this.id,this.max,"Max",e=>{this.max=e},"col-md-4",!0),n.Builder.addBuilderInputText(g,this.id,this.step,"Step",e=>{this.step=e},"col-md-4 hidden",!0),o.appendChild(g),e.appendChild(this.node)}run(e){let t=n.Builder.createElement("p");switch(t.innerHTML=this.text,this.node=n.Builder.createElement("div",{class:"pixium-block-run-question"}),this.node.appendChild(t),this.type){case h.RADIO:r.BlockRadio.run(this.node,this);break;case h.CHECKBOX:a.BlockCheckbox.run(this.node,this);break;case h.FREETEXT:o.BlockFreetext.run(this.node,this);break;case h.LONGTEXT:d.BlockLongtext.run(this.node,this);break;case h.NOANSWER:break;case h.SLIDER:l.BlockSlider.run(this.node,this);break;case h.TAGS:c.BlockTags.run(this.node,this)}e.appendChild(this.node)}display(){}triggerSubElementBlock(){let e=null;(e=document.getElementById("slider_block_"+this.id))?this.type===h.SLIDER?e.style.display="block":e.style.display="none":alert("Node Silder not found");let t=null;(t=document.getElementById("choices_block_"+this.id))?this.type===h.RADIO||this.type===h.CHECKBOX?t.style.display="block":t.style.display="none":alert("Node Choice not found")}compileJson(){let e;return e=[],this.choices.forEach(t=>{e.push(t.compileJson())}),this.json={type:this.type,text:this.text,answer:this.answer,min:this.min,max:this.max,step:this.step,choices:e},this.json}}},
/*!*************************************************!*\
  !*** ./node_modules/ts-loader!./src/builder.ts ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Builder=void 0;class n{static createElement(e,t=null){if(!e)return void alert("Could not build the element");let i=document.createElement(e);if(t)for(var n in t){var s=t[n];i.setAttribute(n,s)}return i}static setAttributes(e,t=null){if(t)for(var i in t){var n=t[i];e.setAttribute(i,n)}}static addBuilderInputText(e,t,i,s,l,o="col-md-12",r=!1){let a=n.createElement("div",{class:"pixium-row-block "+o}),d=n.createElement("input",{class:"pixium-textbox",type:"text",value:i,name:s+"_"+t,placeholder:s});if(d.onblur=e=>{console.log(e.target),l(e.target.value)},r){let e=n.createElement("label",{style:"float:left"});e.innerHTML=s+": ",a.appendChild(e)}a.appendChild(d),e.appendChild(a)}static addBoxHeader(e,t,i,s){let l=n.createElement("div",{class:"col-md-12 block-header block-header-"+t});s&&(s.className+=" float-right",l.appendChild(s));let o=n.createElement("i",{class:"fa fa-caret-left float-right hidden","aria-hidden":"false"});l.appendChild(o);let r=n.createElement("i",{class:"fa fa-caret-down float-right","aria-hidden":"false"});return l.appendChild(r),o.onclick=e=>{i.classList.toggle("collapse"),o.classList.toggle("hidden"),r.classList.toggle("hidden")},r.onclick=e=>{i.classList.toggle("collapse"),o.classList.toggle("hidden"),r.classList.toggle("hidden")},e.appendChild(l),l}static addBuilderInputDropdown(e,t,i,s,l,o,r="col-md-12"){let a=n.createElement("div",{class:"pixium-row-block "+r}),d=n.createElement("label");d.innerHTML=s+": ";let c=n.createElement("select",{class:"pixium-dropdown",value:i,name:s+"_"+t,style:"display:block"});c.onchange=e=>{l(e.target.value)},o.forEach(e=>{let t=n.createElement("option",{value:e.value});i===e.value&&n.setAttributes(t,{selected:"selected"}),t.innerHTML=e.name,c.appendChild(t)}),a.appendChild(d),a.appendChild(c),e.appendChild(a)}}t.Builder=n},
/*!*************************************!*\
  !*** ./src/block/choice.ts-exposed ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./choice.ts */10)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!******************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/choice.ts ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Choice=void 0;const n=i(/*! ../builder */1);t.Choice=class{constructor(e){this.id=Math.random().toString(36).substring(7),e&&(e.label&&(this.label=e.label),e.value&&(this.value=e.value))}build(e){this.node=n.Builder.createElement("div",{class:"pixium-row-block block-choices col-md-12"});let t=n.Builder.createElement("label",{for:"input_"+this.label+"_"+this.id,style:"min-width: auto;"});t.innerHTML="Answer : ";let i=n.Builder.createElement("input",{class:"pixium-textbox",type:"text",value:this.label?this.label:"",placeholder:"Label",id:"input_"+this.label+"_"+this.id});i.onblur=e=>{console.log(e.target),this.label=e.target.value},this.node.appendChild(t),this.node.appendChild(i),e.appendChild(this.node)}compileJson(){return this.json={label:this.label,value:this.label},this.json}}},
/*!******************************************!*\
  !*** ./src/block/blockSlider.ts-exposed ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./blockSlider.ts */12)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!***********************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/blockSlider.ts ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSlider=void 0;const n=i(/*! ../builder */1);t.BlockSlider=class{static run(e,t){let i=document.createElement("div");i.setAttribute("class","element-form-container");let s=n.Builder.createElement("input"),l=n.Builder.createElement("span",{class:"_left"});l.innerHTML=t.min?t.min:"0";let o=n.Builder.createElement("span",{class:"_right"});o.innerHTML=t.max?t.max:"100";let r=t.answer?t.answer:t.max&&t.min?Math.round((Number(t.max)+Number(t.min))/2):50;n.Builder.setAttributes(s,{class:"pixium-slider",type:"range",value:r,min:t.min?t.min:0,max:t.max?t.max:100,id:"inputrange_"+t.id}),t.step&&s.setAttribute("step",t.step),s.onchange=()=>{t.answer=parseFloat(s.value),console.log(t.answer),document.getElementById("output_"+t.id).innerHTML=t.answer};let a=n.Builder.createElement("div");a.setAttribute("class","pixium-block-slider");let d=n.Builder.createElement("output",{id:"output_"+t.id});d.innerHTML=r,t.answer=d.innerHTML,a.appendChild(d),a.appendChild(s),a.appendChild(l),a.appendChild(o),i.appendChild(a),e.appendChild(i)}}},
/*!********************************************!*\
  !*** ./src/block/blockFreetext.ts-exposed ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./blockFreetext.ts */14)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!*************************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/blockFreetext.ts ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockFreetext=void 0;const n=i(/*! ../builder */1);t.BlockFreetext=class{static run(e,t){let i=document.createElement("div");i.setAttribute("class","element-form-container");let s=n.Builder.createElement("input");n.Builder.setAttributes(s,{class:"pixium-textbox",type:"text",value:t.answer,id:"inputfreetext_"+t.id}),s.onblur=()=>{t.answer=s.value,console.log(t.answer)},i.appendChild(s),e.appendChild(i)}}},
/*!*****************************************!*\
  !*** ./src/block/blockRadio.ts-exposed ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./blockRadio.ts */16)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!**********************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/blockRadio.ts ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockRadio=void 0;const n=i(/*! ../builder */1);t.BlockRadio=class{static run(e,t){let i=document.createElement("div");i.setAttribute("class","element-form-container"),t.choices.forEach(e=>{let s=n.Builder.createElement("input",{type:"radio",id:"inputradio_"+t.id,value:e.value+"",name:"name_"+t.id}),l=n.Builder.createElement("label");l.innerHTML=e.label;let o=n.Builder.createElement("div");o.appendChild(s),o.appendChild(l),i.appendChild(o),s.onclick=e=>{console.log(e.target),t.answer=e.target.value,console.log(t.answer)}}),e.appendChild(i)}}},
/*!********************************************!*\
  !*** ./src/block/blockCheckbox.ts-exposed ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./blockCheckbox.ts */18)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!*************************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/blockCheckbox.ts ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockCheckbox=void 0;const n=i(/*! ../builder */1);t.BlockCheckbox=class{static run(e,t){let i=document.createElement("div");i.setAttribute("class","element-form-container"),t.choices.forEach(e=>{let s=n.Builder.createElement("input",{type:"checkbox",name:t.id,value:e.value+"",id:e.value+""});for(var l=0;l<t.answer.length;l++)e.value+""===t.answer[l]&&n.Builder.setAttributes(s,{checked:!0});let o=n.Builder.createElement("label");o.innerHTML=e.label;let r=n.Builder.createElement("div");r.appendChild(s),r.appendChild(o),i.appendChild(r),s.onclick=e=>{let i=document.querySelectorAll('input[type=checkbox][name="'+t.id+'"]:checked'),n=[];i.forEach(e=>{n.push(e.value)}),t.answer=n}}),e.appendChild(i)}}},
/*!********************************************!*\
  !*** ./src/block/blockLongtext.ts-exposed ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./blockLongtext.ts */20)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!*************************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/blockLongtext.ts ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockLongtext=void 0;const n=i(/*! ../builder */1);t.BlockLongtext=class{static run(e,t){let i=document.createElement("div");i.setAttribute("class","element-form-container");let s=document.createElement("textarea");n.Builder.setAttributes(s,{class:"pixium-textbox",rows:5,value:t.answer,id:"inputlongtext_"+t.id}),s.onblur=()=>{t.answer=s.value,console.log(t.answer)},i.appendChild(s),e.appendChild(i)}}},
/*!****************************************!*\
  !*** ./src/block/BlockTags.ts-exposed ***!
  \****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){(function(t){e.exports=t.Library=i(/*! -!./node_modules/ts-loader!./BlockTags.ts */22)}).call(this,i(/*! ./../../node_modules/webpack/buildin/global.js */0))},
/*!*********************************************************!*\
  !*** ./node_modules/ts-loader!./src/block/BlockTags.ts ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockTags=void 0;const n=i(/*! ../builder */1);class s{static run(e,t){0==t.answer.length&&(t.answer=[]);let i=document.createElement("div");i.setAttribute("class","element-form-container"),i.setAttribute("style","display:flex");let l=document.createElement("div");i.setAttribute("class","tags"),t.answer&&t.answer.forEach(e=>{if(e&&e.length>0){let i=document.createElement("span");i.setAttribute("id","tag-"+t.id+"-"+e),i.innerHTML=e;let s=n.Builder.createElement("button",{class:"btn btn-danger",type:"button"});s.innerText="-",s.onclick=e=>{l.removeChild(i),t.answer=t.answer.filter((function(e){return e+s.outerHTML!=i.innerHTML}))},i.appendChild(s),l.appendChild(i)}});let o=n.Builder.createElement("input",{class:"fff"});o.addEventListener("keypress",(function(e){s.processNewKeyword(e,o,t,l)})),o.onblur=()=>{s.processNewKeyword(event,o,t,l,!0)},i.appendChild(l),i.appendChild(o),e.appendChild(i)}static processNewKeyword(e,t,i,s,l=!1){if(l||"Enter"===e.key||","===e.key||188==e.keyCode){e.preventDefault();let l=t.value.trim();if(console.log(l),l&&l.length>0){t.value=null,i.answer.push(l);let e=document.createElement("span");e.innerHTML=l;let o=n.Builder.createElement("button",{class:"btn",type:"button"});o.innerHTML='<i class="fa fa-times" aria-hidden="true"></i>',o.onclick=t=>{s.removeChild(e),i.answer=i.answer.filter((function(t){return t+o.outerHTML!=e.innerHTML}))},e.appendChild(o),s.appendChild(e)}}}}t.BlockTags=s},
/*!***********************!*\
  !*** ./src/data.json ***!
  \***********************/
/*! exports provided: sections, default */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e){e.exports=JSON.parse('{"sections":[{"title":"Section 1","blocks":[{"text":"BLABLA: <br> <br> How BLALBAty to delegate?","name":"q3","type":7},{"text":"Test Ludo?","name":"q3bis","type":3,"min":"1","max":"10","step":"1","label":"Delegation"}]},{"title":"Block Test Checkbox","blocks":[{"type":2,"name":"q2","text":"How do you feel about meeting new people?","choices":[{"value":1,"label":"Extraverted"},{"value":2,"label":"Introverted"}]},{"type":4,"name":"q22","text":"How do you feel about meeting new people?","choices":[{"value":1,"label":"I love meeting new people!"},{"value":2,"label":"Sometimes I like to meet new people, if I\'m in the right mood."}]}]},{"name":"block 1","blocks":[{"text":"DDDDELEGATION: <br> <br> How skilled do you feel today about your ability to delegate?","name":"q1","type":1,"group":1,"label":"Delegation"},{"text":"TEST: <br> <br> How sity to delegate?","name":"q2","type":1,"group":1,"label":"Delegation"}]}]}')}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYnVpbGRlci50cy1leHBvc2VkIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzLWV4cG9zZWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlY3Rpb24udHMtZXhwb3NlZCIsIndlYnBhY2s6Ly8vLi9zcmMvc2VjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svYmxvY2sudHMtZXhwb3NlZCIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svYmxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2J1aWxkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Nob2ljZS50cy1leHBvc2VkIiwid2VicGFjazovLy8uL3NyYy9ibG9jay9jaG9pY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Jsb2NrU2xpZGVyLnRzLWV4cG9zZWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Jsb2NrU2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9ibG9jay9ibG9ja0ZyZWV0ZXh0LnRzLWV4cG9zZWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Jsb2NrRnJlZXRleHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Jsb2NrUmFkaW8udHMtZXhwb3NlZCIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svYmxvY2tSYWRpby50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svYmxvY2tDaGVja2JveC50cy1leHBvc2VkIiwid2VicGFjazovLy8uL3NyYy9ibG9jay9ibG9ja0NoZWNrYm94LnRzIiwid2VicGFjazovLy8uL3NyYy9ibG9jay9ibG9ja0xvbmd0ZXh0LnRzLWV4cG9zZWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Jsb2NrTG9uZ3RleHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL0Jsb2NrVGFncy50cy1leHBvc2VkIiwid2VicGFjazovLy8uL3NyYy9ibG9jay9CbG9ja1RhZ3MudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsImRhdGEiLCJjb2xsZWN0aW9uSGFzIiwiYSIsImIiLCJsZW4iLCJsZW5ndGgiLCJmaW5kUGFyZW50QnlTZWxlY3RvciIsImVsbSIsInNlbGVjdG9yIiwiYWxsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY3VyIiwicGFyZW50Tm9kZSIsIlBhcmFtcyIsInBhcmFtcyIsInNlY3Rpb25zIiwiY3VycmVudE5vZGUiLCJkaXYiLCJtYWluTm9kZSIsImdldEVsZW1lbnRCeUlkIiwiY29uc29sZSIsImxvZyIsInNldEF0dHJpYnV0ZSIsImpzb24iLCJzaW5nbGVTZWN0aW9uIiwiaGlkZUVkaXRRdWVzdGlvbiIsImhpZGVRdWVzdGlvblR5cGUiLCJKU09OIiwicGFyc2UiLCJoaWRlU2VjdGlvbkhlYWRlciIsImhpZGVRdWVzdGlvblR5cGVTZWxlY3Rpb24iLCJmb3JFYWNoIiwic2VjIiwic2VjdGlvbk1vZGVsIiwiU2VjdGlvbiIsIm5leHRTbGlkZSIsIm1vdmVTZWN0aW9uIiwicHVzaCIsImFsZXJ0IiwiZGVidWciLCJidWlsZCIsInJ1biIsIl9pZCIsImlkIiwiczFfaWQiLCJzMl9pZCIsInRlbXAiLCJ0aGVfcGFyZW50IiwidGFyZ2V0IiwiZGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsInNldFRpbWVvdXQiLCJwcmV2ZW50RGVmYXVsdCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImNoaWxkcmVuIiwiZ2V0RGF0YSIsImRyYWdnYWJsZSIsImlkMSIsImdldEluZGV4RnJvbVNlY3Rpb25JZCIsImlkMiIsInN3YXBTZWN0aW9ucyIsImFQYXJlbnQiLCJiUGFyZW50IiwiYUhvbGRlciIsImNyZWF0ZUVsZW1lbnQiLCJiSG9sZGVyIiwicmVwbGFjZUNoaWxkIiwiY2xlYXIiLCJkZWxCdG4iLCJCdWlsZGVyIiwiaW5uZXJIVE1MIiwiY29udGVudFdyYXBwZXIiLCJhcHBlbmRDaGlsZCIsIm9uY2xpY2siLCJldiIsInJlbW92ZUNoaWxkIiwibm9kZSIsImZpbHRlciIsImVsIiwiZHJhZ05vZGUiLCJvbmRyYWdzdGFydCIsImRyYWdTdGFydCIsImJveCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkcmFnRW50ZXIiLCJkcmFnT3ZlciIsImRyYWdMZWF2ZSIsImRyYWdFbmQiLCJkcm9wIiwiYWRkQnV0dG9uIiwiaW5uZXJUZXh0IiwiYnRuU2VjQWRkIiwic3dpdGNoQnV0dG9uIiwiYnRuU2VjRGVsIiwic2F2ZUJ0biIsImlzQ29tcGxldGVkIiwiY29tcGlsZUpzb24iLCJzdHlsZSIsImRpc3BsYXkiLCJhZnRlciIsInNhdmVCdXR0b24iLCJzaG93IiwiYXJyIiwiZmluYWxPdXRwdXQiLCJzdHJpbmdpZnkiLCJoaWRlIiwiX3BhcmVudCIsIl9qc29uIiwiX2NhbGxiYWNrIiwicGFyZW50IiwiYmxvY2tzIiwiY2FsbGJhY2siLCJ0aXRsZSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImJsb2NrTW9kZWwiLCJCbG9jayIsIl9ub2RlIiwiX3BhcmFtcyIsIm5vZGVIZWFkZXIiLCJhZGRCdWlsZGVySW5wdXRUZXh0IiwidmFsIiwiYmxrIiwiYnRuQmxrQWRkIiwiYnRuQmxrRGVsIiwiaGVhZGVyIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsIm5hbWVOb2RlIiwicHJldkJ1dHRvbiIsIm5leHRCdXR0b24iLCJhbnN3ZXIiLCJ0eXBlIiwiQmxvY2tUeXBlIiwiTk9BTlNXRVIiLCJ0ZXh0IiwibWluIiwibWF4Iiwic3RlcCIsImNob2ljZXMiLCJSQURJTyIsIkNIRUNLQk9YIiwiY2hvaWNlSnNvbiIsImNob2ljZSIsIkNob2ljZSIsImFyckVsZW0iLCJjbGFzc2VzIiwibm9kZUNvbnRlbnQiLCJhZGRCb3hIZWFkZXIiLCJlbnVtQXJyYXkiLCJrZXlzIiwibWF0Y2giLCJtYXAiLCJuZXdBcnJheSIsImZvdW5kb25lIiwiayIsInVwZGF0ZVR5cGVOYW1lIiwiY3NzQ2xhc3MiLCJhZGRCdWlsZGVySW5wdXREcm9wZG93biIsIk51bWJlciIsInRyaWdnZXJTdWJFbGVtZW50QmxvY2siLCJibGtDaG9pY2VzU3R5bGUiLCJub2RlQ2hvaWNlcyIsImxhYlRpdGxlIiwiY2giLCJhZGRDaG9pY2VCdXR0b24iLCJidG5DaEFkZCIsImJ0bkNoRGVsIiwiYmxrU2xpZGVyU3R5bGUiLCJTTElERVIiLCJub2RlU2xpZGVyIiwidGl0bGVOb2RlIiwiQmxvY2tSYWRpbyIsIkJsb2NrQ2hlY2tib3giLCJGUkVFVEVYVCIsIkJsb2NrRnJlZXRleHQiLCJMT05HVEVYVCIsIkJsb2NrTG9uZ3RleHQiLCJCbG9ja1NsaWRlciIsIlRBR1MiLCJCbG9ja1RhZ3MiLCJzbGlkZXJCbG9jayIsImNob2ljZUJsb2NrIiwiZWxlbSIsImxhYmVsIiwic2hvd0xhYmVsIiwiaW5wdXQiLCJvbmJsdXIiLCJsYWIiLCJzdWJFbGVtZW50IiwiY2xhc3NOYW1lIiwiZXllMSIsImV5ZTIiLCJ0b2dnbGUiLCJvcHRpb25zIiwib25jaGFuZ2UiLCJlbGVtZW50Iiwib3B0Iiwic2V0QXR0cmlidXRlcyIsImxhYkxhYmVsIiwiaW5wdXRMYWJlbCIsImJsb2NrIiwiaG9sZGVyIiwiZmllbGQiLCJkZWZhdWx0VmFsdWUiLCJyb3VuZCIsInBhcnNlRmxvYXQiLCJpbnB1dERpdiIsIm91dHB1dCIsImYiLCJfZGl2IiwiY2hlY2tlZEJveGVzIiwiaWRzIiwidGFncyIsInRhZyIsIm91dGVySFRNTCIsImV2ZW50IiwicHJvY2Vzc05ld0tleXdvcmQiLCJmb3JjZVByb2Nlc3MiLCJrZXlDb2RlIiwidHJpbSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFP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Q1RBLEdBQVNBLEVBQU15QixPQUFPLEVBQUUsQ0FDSjJNLEVBQU9wTyxNQUFRLEtBRWxDa08sRUFBTXRFLE9BQU9sRyxLQUFLMUQsR0FFbEIsSUFBSStPLEVBQU1qTixTQUFTeUQsY0FBYyxRQUNqQ3dKLEVBQUlsSixVQUFZN0YsRUFFaEIsSUFBSTJGLEVBQVMsRUFBQUMsUUFBUUwsY0FBYyxTQUFVLENBQUMsTUFBUSxNQUFPLEtBQU8sV0FDcEVJLEVBQU9FLFVBQVksaURBQ25CRixFQUFPSyxRQUFXQyxJQUNkNkksRUFBSzVJLFlBQVk2SSxHQUNqQmIsRUFBTXRFLE9BQVNzRSxFQUFNdEUsT0FBT3hELFFBQU8sU0FBU0MsR0FBTSxPQUFPQSxFQUFHVixFQUFPcUosV0FBYUQsRUFBSWxKLGNBRXhGa0osRUFBSWhKLFlBQVlKLEdBQ2hCbUosRUFBSy9JLFlBQVlnSixNQTVGakMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIuL2Rpc3QvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiTGlicmFyeVwiXSA9IHJlcXVpcmUoXCItIS9Vc2Vycy9yZW1pdGFjaGUvV29ya3NwYWNlL2Zvcm0tYnVpbGRlci9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzIS4vYnVpbGRlci50c1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFtcIkxpYnJhcnlcIl0gPSByZXF1aXJlKFwiLSEvVXNlcnMvcmVtaXRhY2hlL1dvcmtzcGFjZS9mb3JtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL21haW4udHNcIik7IiwiXG5pbXBvcnQge1NlY3Rpb259IGZyb20gJy4vc2VjdGlvbic7XG5pbXBvcnQge0J1aWxkZXJ9IGZyb20gJy4vYnVpbGRlcic7XG4vLyBpbXBvcnQgKiBhcyBkYXRhIGZyb20gJy4vZGF0YS5qc29uJztcbi8vIGltcG9ydCBDaGFydCBmcm9tICdjaGFydGpzJztcbi8vIGltcG9ydCBmb250YXdlc29tZSBmcm9tICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZSc7XG5cbmNvbnN0IGRhdGEgPSByZXF1aXJlKCcuL2RhdGEuanNvbicpO1xuLy8gY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5cblxuZnVuY3Rpb24gY29sbGVjdGlvbkhhcyhhLCBiKSB7IC8vaGVscGVyIGZ1bmN0aW9uIChzZWUgYmVsb3cpXG4gICAgZm9yKHZhciBpID0gMCwgbGVuID0gYS5sZW5ndGg7IGkgPCBsZW47IGkgKyspIHtcbiAgICAgICAgaWYoYVtpXSA9PSBiKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZmluZFBhcmVudEJ5U2VsZWN0b3IoZWxtLCBzZWxlY3Rvcikge1xuICAgIHZhciBhbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICB2YXIgY3VyID0gZWxtLnBhcmVudE5vZGU7XG4gICAgd2hpbGUoY3VyICYmICFjb2xsZWN0aW9uSGFzKGFsbCwgY3VyKSkgeyAvL2tlZXAgZ29pbmcgdXAgdW50aWwgeW91IGZpbmQgYSBtYXRjaFxuICAgICAgICBjdXIgPSBjdXIucGFyZW50Tm9kZTsgLy9nbyB1cFxuICAgIH1cbiAgICByZXR1cm4gY3VyOyAvL3dpbGwgcmV0dXJuIG51bGwgaWYgbm90IGZvdW5kXG59XG5mdW5jdGlvbiBzd2FwRG9tKGEsYikgXG57XG4gICAgdmFyIGFQYXJlbnQgPSBhLnBhcmVudE5vZGU7XG4gICAgdmFyIGJQYXJlbnQgPSBiLnBhcmVudE5vZGU7XG5cbiAgICB2YXIgYUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdmFyIGJIb2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgYVBhcmVudC5yZXBsYWNlQ2hpbGQoYUhvbGRlcixhKTtcbiAgICBiUGFyZW50LnJlcGxhY2VDaGlsZChiSG9sZGVyLGIpO1xuXG4gICAgYVBhcmVudC5yZXBsYWNlQ2hpbGQoYixhSG9sZGVyKTtcbiAgICBiUGFyZW50LnJlcGxhY2VDaGlsZChhLGJIb2xkZXIpOyAgICBcbn1cblxuXG5leHBvcnQgY2xhc3MgUGFyYW1ze1xuICAgIHNpbmdsZVNlY3Rpb246Ym9vbGVhbjtcbiAgICBoaWRlRWRpdFF1ZXN0aW9uOmJvb2xlYW47XG4gICAgaGlkZVF1ZXN0aW9uVHlwZTp7fTtcbiAgICBoaWRlUXVlc3Rpb25UeXBlU2VsZWN0aW9uOmJvb2xlYW47XG4gICAgaGlkZVNlY3Rpb25IZWFkZXI6Ym9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIFBpeGl1bUZvcm0ge1xuICAgIGpzb246Rm9ybURhdGE7XG4gICAgZGl2OnN0cmluZztcbiAgICBzZWN0aW9uczpTZWN0aW9uW107XG4gICAgb3V0cHV0OiBzdHJpbmc7XG4gICAgbWFpbk5vZGU6IEhUTUxFbGVtZW50O1xuICAgIHRpdGxlTm9kZTogSFRNTEVsZW1lbnQ7XG4gICAgY3VycmVudE5vZGU6IG51bWJlcjtcbiAgICBtb2RlOnN0cmluZztcbiAgICBkZWJ1Zzpib29sZWFuO1xuICAgIHBhcmFtczogUGFyYW1zO1xuICAgIHNhdmVCdG46IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IocGFyYW1zOkZvcm1EYXRhKSB7XG4gICAgICAgIHRoaXMuc2VjdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IDA7XG4gICAgICAgIHRoaXMucGFyYW1zID0gbmV3IFBhcmFtcygpO1xuXG4gICAgICAgIGlmKCFwYXJhbXNbXCJkaXZcIl0pe1xuICAgICAgICAgICAgYWxlcnQoJ0RpdiBub3QgZm91bmQuIENhbm5vdCBkaXNwbGF5IHRoZSBmb3JtJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXYgPSBwYXJhbXNbXCJkaXZcIl07XG4gICAgICAgIHRoaXMubWFpbk5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdik7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMubWFpbk5vZGUpO1xuICAgICAgICB0aGlzLm1haW5Ob2RlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY29udGFpbmVyIGZvcm0tY29udGFpbmVyIGRyb3AtdGFyZ2V0c1wiKTtcblxuICAgICAgICBpZihwYXJhbXNbXCJkYXRhXCJdKXtcbiAgICAgICAgICAgIHRoaXMuanNvbiA9IHBhcmFtc1tcImRhdGFcIl07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmpzb24gPSBkYXRhOy8vSlNPTi5wYXJzZSggZGF0YSApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gIC0tLS0tLS0tLS0tLSAgICBPTkxZIEFMTE9XIE9ORSBTRUNUSU9OIEZPUk1cbiAgICAgICAgaWYocGFyYW1zW1wic2luZ2xlU2VjdGlvblwiXSl7XG4gICAgICAgICAgICB0aGlzLnBhcmFtcy5zaW5nbGVTZWN0aW9uID0gcGFyYW1zW1wic2luZ2xlU2VjdGlvblwiXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zLnNpbmdsZVNlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgfSBcblxuICAgICAgICBpZihwYXJhbXNbXCJoaWRlRWRpdFF1ZXN0aW9uXCJdKXtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zLmhpZGVFZGl0UXVlc3Rpb24gPSBwYXJhbXNbXCJoaWRlRWRpdFF1ZXN0aW9uXCJdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYXJhbXMuaGlkZUVkaXRRdWVzdGlvbiA9IGZhbHNlO1xuICAgICAgICB9IFxuXG4gICAgICAgIGlmKHBhcmFtc1snaGlkZVF1ZXN0aW9uVHlwZSddKXtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBwYXJhbXNbJ2hpZGVRdWVzdGlvblR5cGUnXSA9PT0gXCJzdHJpbmdcIil7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuaGlkZVF1ZXN0aW9uVHlwZSA9IEpTT04ucGFyc2UocGFyYW1zWydoaWRlUXVlc3Rpb25UeXBlJ10pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuaGlkZVF1ZXN0aW9uVHlwZSA9IHBhcmFtc1snaGlkZVF1ZXN0aW9uVHlwZSddO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYocGFyYW1zWydoaWRlU2VjdGlvbkhlYWRlciddKXtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zLmhpZGVTZWN0aW9uSGVhZGVyID0gSlNPTi5wYXJzZShwYXJhbXNbJ2hpZGVTZWN0aW9uSGVhZGVyJ10pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zLmhpZGVTZWN0aW9uSGVhZGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucGFyYW1zLmhpZGVRdWVzdGlvblR5cGUpO1xuICAgICAgICB0aGlzLnBhcmFtcy5oaWRlUXVlc3Rpb25UeXBlU2VsZWN0aW9uID0gcGFyYW1zWydoaWRlUXVlc3Rpb25UeXBlU2VsZWN0aW9uJ107XG5cbiAgICAgICAgLy8gQlVJTEQgdGhlIHNlY3Rpb24gc3ViIGVsZW1lbnQgKG5vIGdlbmVyYXRlZCBIVE1MIGF0IHRoaXMgc3RhZ2UgeWV0KVxuICAgICAgICBpZih0aGlzLmpzb24gJiYgdGhpcy5qc29uW1wic2VjdGlvbnNcIl0pe1xuICAgICAgICAgICAgbGV0IHNlY3MgPSB0aGlzLmpzb25bXCJzZWN0aW9uc1wiXTtcbiAgICAgICAgICAgIHNlY3MuZm9yRWFjaCggKHNlYykgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBzZWN0aW9uTW9kZWwgPSBuZXcgU2VjdGlvbih0aGlzLm1haW5Ob2RlLCBzZWMsICgoIXRoaXMucGFyYW1zLnNpbmdsZVNlY3Rpb24pID8gKG5leHRTbGlkZTpib29sZWFuKSA9PnRoaXMubW92ZVNlY3Rpb24obmV4dFNsaWRlKSA6IG51bGwgKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWN0aW9ucy5wdXNoKHNlY3Rpb25Nb2RlbCk7XG5cbiAgICAgICAgICAgICAgICAvLyBsZXQgaXRlbSA9IHNlY3Rpb25Nb2RlbC5ub2RlO1xuICAgICAgICAgICAgICAgIC8vIGl0ZW0ub25kcmFnc3RhcnQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmRyYWdTdGFydChlKTtcbiAgICAgICAgICAgICAgICAvLyB9O1xuICAgICAgICAgICAgICAgIC8vaXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmRyYWdTdGFydCk7XG4gICAgICAgICAgICB9KTsgXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIGFsZXJ0KFwiQ291bGQgbm90IGluaXQgdGhlIG1vZHVsZS5cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmpzb24pO1xuICAgICAgICB9ICAgICBcbiAgICAgICAgXG4gICAgXG5cbiAgICAgICAgLy8gIC0tLS0tLS0tLS0tLSAgICBTVEFSVCBUSEUgQVBQTElDQVRJT04gSU4gZGVidWdcbiAgICAgICAgIGlmKHBhcmFtc1tcImRlYnVnXCJdKXtcbiAgICAgICAgICAgIHRoaXMuZGVidWcgPSBwYXJhbXNbXCJkZWJ1Z1wiXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcbiAgICAgICAgfSAgICAgICBcblxuICAgICAgICAvLyAgLS0tLS0tLS0tLS0tICAgIFNUQVJUIFRIRSBBUFBMSUNBVElPTiBJTiBidWlsZCBPUiBydW4gTU9ERVxuICAgICAgICBpZihwYXJhbXNbXCJtb2RlXCJdKXtcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IHBhcmFtc1tcIm1vZGVcIl07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vZGUgPSAncnVuJztcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLm1vZGUgPT09ICdidWlsZCcpe1xuICAgICAgICAgICAgdGhpcy5idWlsZCgpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMucnVuKCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldCBJbmRleCBmcm9tIElEIFxuICAgICAqL1xuICAgIGdldEluZGV4RnJvbVNlY3Rpb25JZChfaWQ6c3RyaW5nKXtcbiAgICAgICAgZm9yKGxldCBpPTAgOyBpPHRoaXMuc2VjdGlvbnMubGVuZ3RoIDsgaSsrKXtcbiAgICAgICAgICAgIGlmKHRoaXMuc2VjdGlvbnNbaV0uaWQgPT0gX2lkKSByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTd2FwIHRvIHNlY3Rpb24gZWxlbWVudCBmcm9tIHRoZSB0YWJsZVxuICAgICAqIEBwYXJhbSBzMSBcbiAgICAgKiBAcGFyYW0gczIgXG4gICAgICovXG4gICAgc3dhcFNlY3Rpb25zKHMxX2lkOm51bWJlciwgczJfaWQ6bnVtYmVyKXtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWN0aW9ucyk7XG4gICAgICAgIGxldCB0ZW1wID0gdGhpcy5zZWN0aW9uc1tzMV9pZF07XG4gICAgICAgIHRoaXMuc2VjdGlvbnNbczFfaWRdID0gdGhpcy5zZWN0aW9uc1tzMl9pZF07XG4gICAgICAgIHRoaXMuc2VjdGlvbnNbczJfaWRdID0gdGVtcDtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWN0aW9ucyk7XG4gICAgfVxuXG4gICAgXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBXaGVuIGEgZWxlbWVudCBpcyBzZWxlY3RlZCB0byBiZSBkcmFnZ2VkXG4gICAgICovXG4gICAgZHJhZ1N0YXJ0KGUpe1xuICAgICAgICBsZXQgdGhlX3BhcmVudCA9IGZpbmRQYXJlbnRCeVNlbGVjdG9yKGUudGFyZ2V0LCBcIi5kcm9wLXRhcmdldFwiKTtcbiAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIHRoZV9wYXJlbnQuaWQpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIC8vIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaWYodGhlX3BhcmVudCl7IFxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwicGFyZW50IGZvdW5kXCIpO1xuICAgICAgICAgICAgICAgIC8vIHRoZV9wYXJlbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAvLyBhbGVydChcIm5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGVfcGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfVxuICAgIGRyYWdFbnRlcihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IHRoZV9wYXJlbnQgPSBmaW5kUGFyZW50QnlTZWxlY3RvcihlLnRhcmdldCwgXCIuZHJvcC10YXJnZXRcIik7XG4gICAgICAgIGlmKHRoZV9wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoZV9wYXJlbnQuY2xhc3NMaXN0LmFkZCgnZHJhZy1vdmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZHJhZ092ZXIoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCB0aGVfcGFyZW50ID0gZmluZFBhcmVudEJ5U2VsZWN0b3IoZS50YXJnZXQsIFwiLmRyb3AtdGFyZ2V0XCIpO1xuICAgICAgICBpZih0aGVfcGFyZW50KSB7XG4gICAgICAgICAgICB0aGVfcGFyZW50LmNsYXNzTGlzdC5hZGQoJ2RyYWctb3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGRyYWdMZWF2ZShlKSB7XG4gICAgICAgIGxldCB0aGVfcGFyZW50ID0gZmluZFBhcmVudEJ5U2VsZWN0b3IoZS50YXJnZXQsIFwiLmRyb3AtdGFyZ2V0XCIpO1xuICAgICAgICBpZih0aGVfcGFyZW50KSB7XG4gICAgICAgICAgICB0aGVfcGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWctb3ZlcicpO1xuICAgICAgICAgICAgLy8gdGhlX3BhcmVudC5jaGlsZHJlblswXS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYWdFbmQoZSkge1xuICAgICAgICBsZXQgdGhlX3BhcmVudCA9IGZpbmRQYXJlbnRCeVNlbGVjdG9yKGUudGFyZ2V0LCBcIi5kcm9wLXRhcmdldFwiKTtcbiAgICAgICAgaWYodGhlX3BhcmVudCkge1xuICAgICAgICAgICAgdGhlX3BhcmVudC5jaGlsZHJlblswXS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBXaGVuIGFuIGVsZW1lbnQgaXMgZHJhZ2dlZCBvdmVyXG4gICAgICovXG4gICAgZHJvcChlKSB7XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWctb3ZlcicpO1xuXG4gICAgICAgIC8vIGdldCB0aGUgZHJhZ2dhYmxlIGVsZW1lbnRcbiAgICAgICAgY29uc3QgaWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgICAgIGxldCBkcmFnZ2FibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG5cbiAgICAgICAgbGV0IHRoZV9wYXJlbnQgPSBmaW5kUGFyZW50QnlTZWxlY3RvcihlLnRhcmdldCwgXCIuZHJvcC10YXJnZXRcIik7XG4gICAgICAgIFxuICAgICAgICBpZihkcmFnZ2FibGUpe1xuICAgICAgICAgICAgZHJhZ2dhYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGVfcGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWctb3ZlcicpO1xuICAgICAgICBkcmFnZ2FibGUuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZy1vdmVyJyk7XG5cbiAgICAgICAgaWYoIXRoZV9wYXJlbnQpe1xuICAgICAgICAgICAgYWxlcnQoXCJub3QgcGFyZW50IGZvdW5kXCIpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGxldCBpZDEgPSB0aGlzLmdldEluZGV4RnJvbVNlY3Rpb25JZCh0aGVfcGFyZW50LmlkKTtcbiAgICAgICAgICAgIGxldCBpZDIgPSB0aGlzLmdldEluZGV4RnJvbVNlY3Rpb25JZChkcmFnZ2FibGUuaWQpO1xuICAgIFxuICAgICAgICAgICAgaWYoaWQxICE9IGlkMil7XG4gICAgICAgICAgICAgICAgdGhpcy5zd2FwU2VjdGlvbnMoaWQxLCBpZDIpO1xuICAgICAgICAgICAgICAgIHN3YXBEb20odGhlX3BhcmVudCwgZHJhZ2dhYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgXG5cbiAgICAgICAgLy8gc3dpdGNoIHRoZSAyIGVsZW1lbnQgaW4gdGhlIFNFQ1RJT04gTElTVFxuICAgICAgICAvLyB0aGlzLnNlY3Rpb25zXG4gICAgXG4gICAgICAgIC8vIGxldCB0YXJnZXRFbGVtID0gZS50YXJnZXQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAvLyBsZXQgZGVzdEVsZW0gPSBkcmFnZ2FibGUuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgIC8vIGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZGVzdEVsZW0sIGUudGFyZ2V0LnBhcmVudE5vZGUpOyAgLy8gcmVtb3ZlIGNoaWxkcmVuXG4gICAgICAgIC8vIGRyYWdnYWJsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRhcmdldEVsZW0sIGRyYWdnYWJsZS5wYXJlbnROb2RlKTtcbiAgICBcbiAgICAgICAgLy8gLy8gZGlzcGxheSB0aGUgZHJhZ2dhYmxlIGVsZW1lbnRcbiAgICAgICAgLy8gZHJhZ2dhYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIH1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcblxuXG4gICAgLyoqXG4gICAgICogRW50ZXIgQlVJTEQgTU9ERSBmb3IgdXNlciB0byBlZGl0IHRoZSBmb3JtXG4gICAgICovXG4gICAgYnVpbGQoKXtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuc2VjdGlvbnMuZm9yRWFjaCggKHNlYzpTZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBzZWMuYnVpbGQodGhpcy5tYWluTm9kZSwgdGhpcy5wYXJhbXMpO1xuICAgICAgICAgICAgaWYoIXRoaXMucGFyYW1zLnNpbmdsZVNlY3Rpb24pe1xuICAgICAgICAgICAgICAgIGlmKCF0aGlzLnBhcmFtcy5oaWRlRWRpdFF1ZXN0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gQlVJTEQgREVMRVRFIFNFQ1RJT04gQlROXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWxCdG4gPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1wiY2xhc3NcIjpcImJ0biBidG4tZGFuZ2VyIGZvcm0tYnVpbGRlci1idG5cIiwgXCJ0eXBlXCI6XCJidXR0b25cIiwgXCJpZFwiOlwiYnRuLWRlbGV0ZS1zZWN0aW9uLVwiK3NlYy5pZH0pO1xuICAgICAgICAgICAgICAgICAgICBkZWxCdG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+JzsgIFxuXG4gICAgICAgICAgICAgICAgICAgIHNlYy5jb250ZW50V3JhcHBlci5hcHBlbmRDaGlsZChkZWxCdG4pO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlbEJ0bi5vbmNsaWNrID0gKGV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbk5vZGUucmVtb3ZlQ2hpbGQoc2VjLm5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWN0aW9ucyA9IHRoaXMuc2VjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbC5pZCAhPSBzZWMuaWQ7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9ICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBpdGVtID0gc2VjLmRyYWdOb2RlO1xuICAgICAgICAgICAgaXRlbS5vbmRyYWdzdGFydCA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnU3RhcnQoZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vIGdldCBhbGwgdGhlIERJViB0YWdnZXMgcGl4aXVtLWJveCBhbmQgY29ubmVjdCBsaXN0ZW5lciBmb3IgZHJhZyAvIGRyb3AgZXZlbnRzXG4gICAgICAgIGxldCBib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucGl4aXVtLWJveFwiKTtcbiAgICAgICAgYm94ZXMuZm9yRWFjaChib3ggPT4ge1xuICAgICAgICAgICAgYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIHRoaXMuZHJhZ0VudGVyKVxuICAgICAgICAgICAgYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5kcmFnT3Zlcik7XG4gICAgICAgICAgICBib3guYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgdGhpcy5kcmFnTGVhdmUpO1xuICAgICAgICAgICAgYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCB0aGlzLmRyYWdFbmQpO1xuICAgICAgICAgICAgYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4gdGhpcy5kcm9wKGUpKTtcbiAgICAgICAgfSk7XG5cblxuXG4gICAgICAgIGlmKCF0aGlzLnBhcmFtcy5zaW5nbGVTZWN0aW9uKXtcbiAgICAgICAgICAgIC8vIEJVSUxEIEFERCBTRUNUSU9OIEJUTlxuICAgICAgICAgICAgbGV0IGFkZEJ1dHRvbiA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywge1wiY2xhc3NcIjpcImJ0biBidG4tc3VjY2VzcyBmb3JtLWJ1aWxkZXItYnRuIGZ1bGx3aWR0aFwiLCBcInR5cGVcIjpcImJ1dHRvblwifSk7ICBcbiAgICAgICAgICAgIGFkZEJ1dHRvbi5pbm5lclRleHQgPSAnQUREIFNFQ1RJT04nOyAgXG4gICAgICAgICAgICBhZGRCdXR0b24ub25jbGljayA9IChldikgPT4gXG4gICAgICAgICAgICB7ICAgXG4gICAgICAgICAgICAgICAgbGV0IGJ0blNlY0FkZCA9IDxIVE1MRWxlbWVudD5ldi50YXJnZXQ7XG4gICAgICAgICAgICAgICAgbGV0IHNlYyA9IG5ldyBTZWN0aW9uKHRoaXMubWFpbk5vZGUsIG51bGwsICggKG5leHRTbGlkZTpib29sZWFuKSA9PnRoaXMubW92ZVNlY3Rpb24obmV4dFNsaWRlKSApKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25zLnB1c2goc2VjKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW5Ob2RlLnJlbW92ZUNoaWxkKGJ0blNlY0FkZCk7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5kZWJ1Zyl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbk5vZGUucmVtb3ZlQ2hpbGQoc3dpdGNoQnV0dG9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VjLmJ1aWxkKHRoaXMubWFpbk5vZGUsIHRoaXMucGFyYW1zKTtcbiAgICAgICAgICAgICAgICAvLyBCVUlMRCBERUxFVEUgU0VDVElPTiBCVE5cbiAgICAgICAgICAgICAgICBsZXQgYnRuU2VjRGVsID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcImNsYXNzXCI6XCJidG4gYnRuLWRhbmdlciBmb3JtLWJ1aWxkZXItYnRuXCIsIFwidHlwZVwiOlwiYnV0dG9uXCIsIFwiaWRcIjpcImJ0bi1kZWxldGUtc2VjdGlvbi1cIitzZWMuaWR9KTtcbiAgICAgICAgICAgICAgICBidG5TZWNEZWwuaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+YDsgIFxuICAgICAgICAgICAgICAgIGJ0blNlY0RlbC5vbmNsaWNrID0gKGV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluTm9kZS5yZW1vdmVDaGlsZChzZWMubm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VjdGlvbnMgPSB0aGlzLnNlY3Rpb25zLmZpbHRlcihmdW5jdGlvbihlbCkgeyByZXR1cm4gZWwuaWQgIT0gc2VjLmlkOyB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZWMuY29udGVudFdyYXBwZXIuYXBwZW5kQ2hpbGQoYnRuU2VjRGVsKTtcblxuICAgICAgICAgICAgICAgIHRoaXMubWFpbk5vZGUuYXBwZW5kQ2hpbGQoYnRuU2VjQWRkKTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmRlYnVnKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluTm9kZS5hcHBlbmRDaGlsZChzd2l0Y2hCdXR0b24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07ICBcbiAgICAgICAgICAgIHRoaXMubWFpbk5vZGUuYXBwZW5kQ2hpbGQoYWRkQnV0dG9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJVSUxEIFRIRSBTV0lUQ0ggVUkgQlVUVE9OIFRPIERPIFRPIFJVTiBNT0RFIElGIERFQlVHLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgbGV0IHN3aXRjaEJ1dHRvbiA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywge1wiY2xhc3NcIjpcImJ0biBidG4tcHJpbWFyeSBmb3JtLWJ1aWxkZXItYnRuXCIsIFwidHlwZVwiOlwiYnV0dG9uXCJ9KTsgIFxuICAgICAgICBzd2l0Y2hCdXR0b24uaW5uZXJUZXh0ID0gXCJHTyBUTyBSVU5cIjsgIFxuICAgICAgICBzd2l0Y2hCdXR0b24ub25jbGljayA9ICgpID0+IFxuICAgICAgICB7ICAgXG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9OyAgXG4gICAgICAgIGlmKHRoaXMuZGVidWcpe1xuICAgICAgICAgICAgdGhpcy5tYWluTm9kZS5hcHBlbmRDaGlsZChzd2l0Y2hCdXR0b24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG5cblxuXG4gICAgLyoqXG4gICAgICogUnVuIGZvciB1c2VyIHRvIGFuc3dlciB0aGUgcXVlc3Rpb25zXG4gICAgICovXG4gICAgcnVuKCl7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLnNlY3Rpb25zLmZvckVhY2goIChzZWMpID0+IHtcbiAgICAgICAgICAgIHNlYy5ydW4odGhpcy5tYWluTm9kZSk7XG4gICAgICAgIH0pOyBcblxuICAgICAgICAvL0NyZWF0ZSBTYXZlIGJ0blxuICAgICAgICB0aGlzLnNhdmVCdG4gPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHtcImNsYXNzXCI6XCJidG4gYnRuLXN1Y2Nlc3MgZm9ybS1idWlsZGVyLWJ0blwiLCBcInR5cGVcIjpcInN1Ym1pdFwiLCBcImlkXCI6XCJmb3JtLWJ1aWxkZXItc2F2ZS1maW5hbC1idG5cIn0pOyAgXG4gICAgICAgIHRoaXMuc2F2ZUJ0bi5pbm5lclRleHQgPSBcIlNhdmVcIjsgIFxuICAgICAgICB0aGlzLnNhdmVCdG4ub25jbGljayA9IChlKSA9PiBcbiAgICAgICAgeyAgIFxuICAgICAgICAgICAgaWYodGhpcy5zZWN0aW9uc1t0aGlzLmN1cnJlbnROb2RlXS5pc0NvbXBsZXRlZCgpKXtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBpbGVKc29uKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBhbGVydChcIlBsZWFzZSBjb21wbGV0ZSB0aGUgZm9ybVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTsgIFxuICAgICAgICBpZigodGhpcy5jdXJyZW50Tm9kZSA9PSB0aGlzLnNlY3Rpb25zLmxlbmd0aC0xKSAmJiAhdGhpcy5wYXJhbXMuc2luZ2xlU2VjdGlvbil7XG4gICAgICAgICAgICAvL1JlbW92ZSBOZXh0IGJ0blxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1uZXh0LXNlY3Rpb24tJyt0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudE5vZGVdLmlkKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1uZXh0LXNlY3Rpb24tJyt0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudE5vZGVdLmlkKS5hZnRlcih0aGlzLnNhdmVCdG4pO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMucGFyYW1zLnNpbmdsZVNlY3Rpb24pe1xuICAgICAgICAgICAgLy9EaXNwbGF5IHNhdmVCdG5cbiAgICAgICAgICAgIHRoaXMuc2VjdGlvbnNbdGhpcy5jdXJyZW50Tm9kZV0ubm9kZS5hcHBlbmRDaGlsZCh0aGlzLnNhdmVCdG4pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tIERFQlVHIFNBVkUgQlVUVE9OIC0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGxldCBzYXZlQnV0dG9uID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XCJjbGFzc1wiOlwiYnRuIGJ0bi1zdWNjZXNzIGZvcm0tYnVpbGRlci1idG5cIiwgXCJ0eXBlXCI6XCJidXR0b25cIiwgXCJpZFwiOlwiZm9ybS1idWlsZGVyLXNhdmUtYnRuXCJ9KTsgIFxuICAgICAgICBzYXZlQnV0dG9uLmlubmVyVGV4dCA9IFwiU0FWRVwiOyAgXG4gICAgICAgIHNhdmVCdXR0b24ub25jbGljayA9ICgpID0+IFxuICAgICAgICB7ICAgXG4gICAgICAgICAgICB0aGlzLmNvbXBpbGVKc29uKCk7XG4gICAgICAgIH07ICBcbiAgICAgICAgaWYodGhpcy5kZWJ1Zyl7XG4gICAgICAgICAgICB0aGlzLm1haW5Ob2RlLmFwcGVuZENoaWxkKHNhdmVCdXR0b24pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBCVUlMRCBUSEUgU1dJVENIIFVJIEJVVFRPTiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBsZXQgc3dpdGNoQnV0dG9uID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XCJjbGFzc1wiOlwiYnRuIGJ0bi1wcmltYXJ5IGZvcm0tYnVpbGRlci1idG5cIiwgXCJ0eXBlXCI6XCJidXR0b25cIn0pOyAgXG4gICAgICAgIHN3aXRjaEJ1dHRvbi5pbm5lclRleHQgPSBcIkdPIFRPIEJVSUxEIE1PREVcIjsgICBcbiAgICAgICAgc3dpdGNoQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiBcbiAgICAgICAgeyAgIFxuICAgICAgICAgICAgdGhpcy5idWlsZCgpO1xuICAgICAgICB9OyAgXG4gICAgICAgIGlmKHRoaXMuZGVidWcpe1xuICAgICAgICAgICAgdGhpcy5tYWluTm9kZS5hcHBlbmRDaGlsZChzd2l0Y2hCdXR0b24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNwbGF5KCk7XG4gICAgfVxuXG4gICAgcmVzdWx0KCl7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBBTEwgdGhlIG5vZGVzXG4gICAgICovXG4gICAgY2xlYXIoKXtcbiAgICAgICAgaWYodGhpcy5tYWluTm9kZSl7XG4gICAgICAgICAgICB0aGlzLm1haW5Ob2RlLmlubmVySFRNTCA9ICcnOyAgLy8gY2xlYXIgYWxsIHRoZSBzdWIgbm9kZXNcbiAgICAgICAgICAgIHRoaXMuc2VjdGlvbnMuZm9yRWFjaCggKHNlYykgPT4ge1xuICAgICAgICAgICAgICAgIGlmKHNlYyl7XG4gICAgICAgICAgICAgICAgICAgIHNlYy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIGRpc3BsYXkgYWxsIHRoZSBxdWVzdGlvblxuICAgICAqL1xuICAgIGRpc3BsYXkoKXtcbiAgICAgICBpZih0aGlzLmN1cnJlbnROb2RlPj0wICYmIHRoaXMuY3VycmVudE5vZGU8dGhpcy5zZWN0aW9ucy5sZW5ndGgpe1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9uc1t0aGlzLmN1cnJlbnROb2RlXS5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZSBhIEJJRyBKU09OIHRvIHNlcmlhbGl6ZSB0aGUgd2hvbGUgZm9ybVxuICAgICAqL1xuICAgIGNvbXBpbGVKc29uKCl7XG4gICAgICAgIGxldCBhcnI6IGFueVtdO1xuICAgICAgICBhcnIgPSBbXTtcbiAgICAgICAgdGhpcy5zZWN0aW9ucy5mb3JFYWNoKCAoc2VjOlNlY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGFyci5wdXNoKHNlYy5jb21waWxlSnNvbigpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dCA9IEpTT04uc3RyaW5naWZ5KCB7XCJzZWN0aW9uc1wiOmFycn0gKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2ZpbmFsT3V0cHV0Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGZpbmFsT3V0cHV0KTtcbiAgICAgICAgcmV0dXJuIGZpbmFsT3V0cHV0O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTW92ZSB0aGUgc2xpZGVyIG9yIGRpc3BsYXkgdG8gdGhlIG5leHQgc2VjdGlvblxuICAgICAqL1xuICAgIG1vdmVTZWN0aW9uKG5leHRTbGlkZTpib29sZWFuKXtcbiAgICAgICAgLy8gaWYgbW92ZSBmb3J3YXJkXG4gICAgICAgIGlmKG5leHRTbGlkZSl7XG4gICAgICAgICAgICAvLyBtYWtpbmcgc3VyZSBJIGFtIGFsbG93ZWQgdG8gbW92ZSB0byB0aGUgbmV4dCBzbGlkZSBpZiB0aGVyZSBpcyBvbmVcbiAgICAgICAgICAgIGlmKHRoaXMuY3VycmVudE5vZGU+PTAgJiYgdGhpcy5jdXJyZW50Tm9kZTx0aGlzLnNlY3Rpb25zLmxlbmd0aC0xKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudE5vZGVdLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlKys7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWN0aW9uc1t0aGlzLmN1cnJlbnROb2RlXS5zaG93KCk7XG4gICAgICAgICAgICAgICAgLy9EaXNwbGF5IFByZXZpb3VzIGJ0blxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tcHJldmlvdXMtc2VjdGlvbi0nK3RoaXMuc2VjdGlvbnNbdGhpcy5jdXJyZW50Tm9kZV0uaWQpLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgICAgICAgICBpZih0aGlzLmN1cnJlbnROb2RlID09IHRoaXMuc2VjdGlvbnMubGVuZ3RoLTEpe1xuICAgICAgICAgICAgICAgICAgICAvL1JlbW92ZSBOZXh0IGJ0blxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLW5leHQtc2VjdGlvbi0nK3RoaXMuc2VjdGlvbnNbdGhpcy5jdXJyZW50Tm9kZV0uaWQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1uZXh0LXNlY3Rpb24tJyt0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudE5vZGVdLmlkKS5hZnRlcih0aGlzLnNhdmVCdG4pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vRGlzcGxheSBOZXh0IGJ0blxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLW5leHQtc2VjdGlvbi0nK3RoaXMuc2VjdGlvbnNbdGhpcy5jdXJyZW50Tm9kZV0uaWQpLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJZb3UgYWxyZWFkeSBhcmUgb24gdGhlIG5leHQgc2xpZGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy8gbWFraW5nIHN1cmUgSSBhbSBhbGxvd2VkIHRvIG1vdmUgdG8gdGhlIHByZXZpb3VzIHNsaWRlIGlmIHRoZXJlIGlzIG9uZVxuICAgICAgICAgICAgaWYodGhpcy5jdXJyZW50Tm9kZT49MSAmJiB0aGlzLmN1cnJlbnROb2RlPHRoaXMuc2VjdGlvbnMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudE5vZGVdLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLS07XG4gICAgICAgICAgICAgICAgdGhpcy5zZWN0aW9uc1t0aGlzLmN1cnJlbnROb2RlXS5zaG93KCk7XG4gICAgICAgICAgICAgICAgLy9EaXNwbGF5IE5leHQgYnRuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1uZXh0LXNlY3Rpb24tJyt0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudE5vZGVdLmlkKS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5jdXJyZW50Tm9kZT09MCkge1xuICAgICAgICAgICAgICAgICAgICAvL1JlbW92ZSBQcmV2aW91cyBidG5cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1wcmV2aW91cy1zZWN0aW9uLScrdGhpcy5zZWN0aW9uc1t0aGlzLmN1cnJlbnROb2RlXS5pZCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJZb3UgYWxyZWFkeSBhcmUgb24gdGhlIGZpcnN0IHNsaWRlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFtcIkxpYnJhcnlcIl0gPSByZXF1aXJlKFwiLSEvVXNlcnMvcmVtaXRhY2hlL1dvcmtzcGFjZS9mb3JtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL3NlY3Rpb24udHNcIik7IiwiaW1wb3J0IHtCbG9jaywgQmxvY2tUeXBlfSBmcm9tIFwiLi9ibG9jay9ibG9ja1wiO1xuaW1wb3J0IHtCdWlsZGVyfSBmcm9tIFwiLi9idWlsZGVyXCI7XG5cbmltcG9ydCB7UGFyYW1zfSBmcm9tICcuL21haW4nO1xuXG4vKipcbiAqIFNFQ1RJT04gY2xhc3MgY29udGFpbnMgYSBwb3RlbnRpYWwgbGlzdCBvZiBxdWVzdGlvbiB0aGF0IGlzIGRpc3BsYXllZCBvbiB0aGUgc2FtZSBwYWdlIFxuICovXG5leHBvcnQgY2xhc3MgU2VjdGlvbntcbiAgICBibG9ja3M6QmxvY2tbXTsgXG4gICAgdGl0bGU6IHN0cmluZzsgICBcbiAgICAvLyBuYW1lOiBzdHJpbmc7XG4gICAgb3V0cHV0OiBzdHJpbmc7XG4gICAgaWQ6c3RyaW5nO1xuICAgIHBhcmVudDogSFRNTEVsZW1lbnQ7XG4gICAgbm9kZTogSFRNTEVsZW1lbnQ7XG4gICAgY2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgIGNvbnRlbnRXcmFwcGVyOiBIVE1MRWxlbWVudDtcbiAgICBkcmFnTm9kZTogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihfcGFyZW50OkhUTUxFbGVtZW50LCBfanNvbjpGb3JtRGF0YSwgX2NhbGxiYWNrOkZ1bmN0aW9uKXtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICB0aGlzLmJsb2NrcyA9IFtdO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gX2NhbGxiYWNrO1xuICAgICAgICB0aGlzLnRpdGxlID0gJyc7XG4gICAgICAgIC8vIHRoaXMubmFtZSA9IFwiZGVmYXVsdF9uYW1lXCI7XG4gICAgICAgIHRoaXMuaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNyk7XG5cbiAgICAgICAgaWYoX2pzb24pe1xuICAgICAgICAgICAgaWYoX2pzb25bXCJ0aXRsZVwiXSl7XG4gICAgICAgICAgICAgICAgdGhpcy50aXRsZSA9IF9qc29uW1widGl0bGVcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZihfanNvbltcIm5hbWVcIl0pe1xuICAgICAgICAgICAgLy8gICAgIHRoaXMubmFtZSA9IF9qc29uW1wibmFtZVwiXTtcbiAgICAgICAgICAgIC8vIH1cbiAgICBcbiAgICAgICAgICAgIGlmKF9qc29uW1wiYmxvY2tzXCJdKXtcbiAgICAgICAgICAgICAgICBfanNvbltcImJsb2Nrc1wiXS5mb3JFYWNoKCAoYikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYmxvY2tNb2RlbCA9IG5ldyBCbG9jayhiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibG9ja3MucHVzaChibG9ja01vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgLy9ibG9ja01vZGVsLnJ1bih0aGlzLm5vZGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBEaXNwbGF5IHRoZSBmb3JtIGluIEJVSUxERVIgTU9ERSBmb3IgdGhlIHVzZXIgdG8gZWRpdCB0aGUgZm9ybSBpdHNlbGZcbiAgICAgKiBAcGFyYW0gbm9kZSBcbiAgICAgKi9cbiAgICBidWlsZChfbm9kZSwgX3BhcmFtczpQYXJhbXMpe1xuICAgICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJwaXhpdW0tYm94LWNvbnRlbnQgZHJvcC10YXJnZXRcIixcbiAgICAgICAgICAgIC8vIFwiZHJhZ2dhYmxlXCI6IHRydWUsXG4gICAgICAgICAgICBcImlkXCI6IHRoaXMuaWRcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIF9ub2RlLmFwcGVuZENoaWxkKHRoaXMuY29udGVudFdyYXBwZXIpO1xuXG4gICAgICAgIHRoaXMubm9kZSA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicm93IHBpeGl1bS1ib3hcIixcbiAgICAgICAgICAgIFwiaWRcIjpcImhvbGRlci1cIit0aGlzLmlkXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHRoaXMubm9kZS5vbmRyYWdzdGFydCA9IChldmVudCkgPT4ge1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJkcmFnIHN0YXJ0XCIpO1xuICAgICAgICAvLyAgICAgKEhUTUxFbGVtZW50KGV2ZW50LnRhcmdldCkpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAvLyB9O1xuXG4gICAgICAgIHRoaXMuZHJhZ05vZGUgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJpXCIsIHtcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJmYSBmYS10aCBkcmFnLWN1cnNvclwiLFxuICAgICAgICAgICAgXCJkcmFnZ2FibGVcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaWRcIjpcImRyYWdOb2QtXCIrdGhpcy5pZFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gdGhpcy5kcmFnTm9kZS5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYSBmYS1iYXJzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPic7XG4gICAgICAgIC8vIHRoaXMuY29udGVudFdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5kcmFnTm9kZSk7XG5cblxuXG4gICAgICAgIGlmKCFfcGFyYW1zLmhpZGVTZWN0aW9uSGVhZGVyKXtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBzZWN0aW9uIGhlYWRlciBkaXYgd2l0aCB0aXRsZSBhbmQgbmFtZSBpbnB1dFxuICAgICAgICAgICAgbGV0IG5vZGVIZWFkZXIgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1wiY2xhc3NcIjogXCJyb3cgcGl4aXVtLWJsb2NrLWJ1aWxkIHBpeGl1bS1ibG9jay1idWlsZC1oZWFkZXJcIn0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEJ1aWxkZXIuYWRkQnVpbGRlcklucHV0VGV4dChub2RlSGVhZGVyLCB0aGlzLmlkLCB0aGlzLnRpdGxlLCBcIlRpdGxlIFNlY3Rpb25cIiwgKHZhbCkgPT4ge3RoaXMudGl0bGU9dmFsO30sIFwiY29sLW1kLTEyXCIgKTtcbiAgICAgICAgICAgIHRoaXMuY29udGVudFdyYXBwZXIuYXBwZW5kQ2hpbGQobm9kZUhlYWRlcik7XG4gICAgICAgICAgICBub2RlSGVhZGVyLmNoaWxkcmVuWzBdLmFwcGVuZENoaWxkKHRoaXMuZHJhZ05vZGUpO1xuICAgICAgICAgICAgLy9ub2RlSGVhZGVyLmluc2VydEJlZm9yZSh0aGlzLmRyYWdOb2RlLCBub2RlSGVhZGVyLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgXG5cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gR08gVEhST1VHSCBFQUNIIEJMT0NLIFdJVEhJTiBUSEUgU0VDVElPTlxuICAgICAgICAvLyBXZSBhcmUgZ29pbmcgdG8gYnVpbGQgdGhlIHZhcmlvdXMgYmxvY2tzICFcbiAgICAgICAgdGhpcy5ibG9ja3MuZm9yRWFjaCggKGJsazpCbG9jaykgPT4ge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgZGVsQnRuID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcImNsYXNzXCI6XCJmb3JtLWJ1aWxkZXItYnRuIGJ1dHRvbi1kZWxldGVcIiwgXCJ0eXBlXCI6XCJidXR0b25cIiwgXCJzdHlsZVwiOlwiZGlzcGxheTpibG9ja1wifSk7XG4gICAgICAgICAgICBkZWxCdG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+JzsgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGJsay5ub2RlLmFwcGVuZENoaWxkKGRlbEJ0bik7XG4gICAgICAgICAgICBpZihfcGFyYW1zLmhpZGVFZGl0UXVlc3Rpb24pe1xuICAgICAgICAgICAgICAgIGRlbEJ0biA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgLy8gQlVJTEQgREVMRVRFIEJPTENLIEJUTiBBQ1RJT05cbiAgICAgICAgICAgICAgICBkZWxCdG4ub25jbGljayA9IChldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFdyYXBwZXIucmVtb3ZlQ2hpbGQoYmxrLm5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsb2NrcyA9IHRoaXMuYmxvY2tzLmZpbHRlcihmdW5jdGlvbihlbCkgeyByZXR1cm4gZWwuaWQgIT0gYmxrLmlkOyB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJsay5idWlsZCh0aGlzLmNvbnRlbnRXcmFwcGVyLCBfcGFyYW1zLCBkZWxCdG4pOyAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gQlVJTEQgQUREIEJPTENLIEJUTlxuICAgICAgICBpZighX3BhcmFtcy5oaWRlRWRpdFF1ZXN0aW9uKXtcbiAgICAgICAgICAgIGxldCBhZGRCdXR0b24gPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHtcImNsYXNzXCI6XCJidG4gYnRuLXN1Y2Nlc3MgZm9ybS1idWlsZGVyLWJ0blwiLCBcInR5cGVcIjpcImJ1dHRvblwifSk7ICBcbiAgICAgICAgICAgIGFkZEJ1dHRvbi5pbm5lckhUTUwgPSAnKyc7ICBcbiAgICAgICAgICAgIGFkZEJ1dHRvbi5vbmNsaWNrID0gKGV2KSA9PiBcbiAgICAgICAgICAgIHsgICBcbiAgICAgICAgICAgICAgICBsZXQgYnRuQmxrQWRkID0gPEhUTUxFbGVtZW50PmV2LnRhcmdldDtcbiAgICAgICAgICAgICAgICAvLyBBREQgTkVXIEJPTENLXG4gICAgICAgICAgICAgICAgbGV0IGJsayA9IG5ldyBCbG9jayhudWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJsb2Nrcy5wdXNoKGJsayk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50V3JhcHBlci5yZW1vdmVDaGlsZChidG5CbGtBZGQpO1xuICAgICAgICAgICAgICAgIGxldCBidG5TZWNEZWw7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5jYWxsYmFjayl7XG4gICAgICAgICAgICAgICAgICAgIGJ0blNlY0RlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuLWRlbGV0ZS1zZWN0aW9uLVwiK3RoaXMuaWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyLnJlbW92ZUNoaWxkKGJ0blNlY0RlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJsay5idWlsZCh0aGlzLmNvbnRlbnRXcmFwcGVyLCBfcGFyYW1zLCBmYWxzZSwgXCJcIik7XG4gICAgICAgICAgICAgICAgLy8gQlVJTEQgREVMRVRFIEJPTENLIEJUTlxuICAgICAgICAgICAgICAgIGxldCBidG5CbGtEZWwgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1wiY2xhc3NcIjpcImZvcm0tYnVpbGRlci1idG4gYnV0dG9uLWRlbGV0ZSBmbG9hdC1yaWdodFwiLCBcInR5cGVcIjpcImJ1dHRvblwiLCBcInN0eWxlXCI6XCJkaXNwbGF5OmJsb2NrXCJ9KTtcbiAgICAgICAgICAgICAgICBidG5CbGtEZWwuaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+JzsgIFxuICAgICAgICAgICAgICAgIGJ0bkJsa0RlbC5vbmNsaWNrID0gKGV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50V3JhcHBlci5yZW1vdmVDaGlsZChibGsubm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tzID0gdGhpcy5ibG9ja3MuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbC5pZCAhPSBibGsuaWQ7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJsay5oZWFkZXIuaW5zZXJ0QmVmb3JlKGJ0bkJsa0RlbCwgYmxrLmhlYWRlci5maXJzdENoaWxkKTtcbiAgICBcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyLmFwcGVuZENoaWxkKGJ0bkJsa0FkZCk7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5jYWxsYmFjayl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFdyYXBwZXIuYXBwZW5kQ2hpbGQoYnRuU2VjRGVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9OyAgXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyLmFwcGVuZENoaWxkKGFkZEJ1dHRvbik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRXcmFwcGVyKTtcblxuICAgICAgICBfbm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBSdW4gdGhlIGZvcm0gZm9yIHVzZXIgdG8gYW5zd2VyXG4gICAgICogQHBhcmFtIG5vZGUgXG4gICAgICovXG4gICAgcnVuKG5vZGUpe1xuXG4gICAgICAgIHRoaXMubm9kZSA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicm93IHBpeGl1bS1ib3hcIlxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IG5hbWVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xuICAgICAgICBuYW1lTm9kZS5pbm5lckhUTUwgPSB0aGlzLnRpdGxlO1xuICAgICAgICAvLyBsZXQgaHJOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImhyXCIpO1xuICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQobmFtZU5vZGUpO1xuICAgICAgICAvLyB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoaHJOYW1lKTtcblxuICAgICAgICB0aGlzLmJsb2Nrcy5mb3JFYWNoKCAoYikgPT4ge1xuICAgICAgICAgICAgYi5ydW4odGhpcy5ub2RlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ25vZGUuc2luZ2xlU2VjdGlvbicpO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNhbGxiYWNrKTtcbiAgICAgICAgaWYodGhpcy5jYWxsYmFjayl7XG4gICAgICAgICAgICAvLyBCVUlMRCBUSEUgQlVUVE9OLiBQUkVWSU9VUyBCVVRUT04gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIGxldCBwcmV2QnV0dG9uID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XCJjbGFzc1wiOlwiYnRuIGJ0bi1wcmltYXJ5IGZvcm0tYnVpbGRlci1idG5cIiwgXCJpZFwiOiBcImJ0bi1wcmV2aW91cy1zZWN0aW9uLVwiK3RoaXMuaWQsIFwidHlwZVwiOlwiYnV0dG9uXCJ9KTsgIFxuICAgICAgICAgICAgcHJldkJ1dHRvbi5pbm5lclRleHQgPSBcIlByZXZpb3VzXCI7XG4gICAgICAgICAgICBwcmV2QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7ICBcbiAgICAgICAgICAgIHByZXZCdXR0b24ub25jbGljayA9ICgpID0+IFxuICAgICAgICAgICAgeyAgIFxuICAgICAgICAgICAgICAgIGlmKHRoaXMuY2FsbGJhY2spe1xuICAgICAgICAgICAgICAgICAgICAvLyBUUlVFIEZPUiBORVhUIFNMSURFXG4gICAgICAgICAgICAgICAgICAgIC8vIEZBTFNFIEZPUiBQUkVWIFNMSURFXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07ICBcbiAgICAgICAgICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChwcmV2QnV0dG9uKTtcblxuICAgICAgICAgICAgLy8gQlVJTEQgVEhFIEJVVFRPTi4gTkVYVCBCVVRUT04gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIGxldCBuZXh0QnV0dG9uID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XCJjbGFzc1wiOlwiYnRuIGJ0bi1wcmltYXJ5IGZvcm0tYnVpbGRlci1idG5cIiwgXCJpZFwiOiBcImJ0bi1uZXh0LXNlY3Rpb24tXCIrdGhpcy5pZCwgXCJ0eXBlXCI6XCJidXR0b25cIn0pOyAgXG4gICAgICAgICAgICBuZXh0QnV0dG9uLmlubmVyVGV4dCA9IFwiTmV4dFwiOyAgXG4gICAgICAgICAgICBuZXh0QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiBcbiAgICAgICAgICAgIHsgICBcbiAgICAgICAgICAgICAgICBpZih0aGlzLmlzQ29tcGxldGVkKCkpe1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmNhbGxiYWNrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRSVUUgRk9SIE5FWFQgU0xJREVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZBTFNFIEZPUiBQUkVWIFNMSURFXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtLi4uXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07ICBcbiAgICAgICAgICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChuZXh0QnV0dG9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpO1xuICAgIH1cblxuXG4gICAgY2xlYXIoKXtcbiAgICAgICAgaWYodGhpcy5ub2RlKXtcbiAgICAgICAgICAgIHRoaXMubm9kZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJsb2Nrcy5mb3JFYWNoKCAoYmxrKSA9PiB7XG4gICAgICAgICAgICBibGsuY2xlYXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0Tm9kZSgpe1xuICAgICAgICBhbGVydCh0aGlzLm5vZGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGUgdGhlIGN1cnJlbnQgc2VjdGlvblxuICAgICAqL1xuICAgIHNob3coKXtcbiAgICAgICAgdGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcGxheSB0aGUgY3VycmVudCBzZWN0aW9uIG9uIHNjcmVlblxuICAgICAqL1xuICAgIGhpZGUoKXtcbiAgICAgICAgdGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBGT1JNIGhhcyBiZWVuIGZ1bGx5IGNvbXBsZXRlZCAtIEFsbCBibG9ja3MgaGF2ZSBhIHZhbGlkIGFuc3dlclxuICAgICAqL1xuICAgIGlzQ29tcGxldGVkKCl7XG4gICAgICAgIGxldCBpc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYmxvY2tzLmZvckVhY2goIChibGs6QmxvY2spPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhibGsuYW5zd2VyKTtcbiAgICAgICAgICAgIGlmKGJsayAmJiAoYmxrLmFuc3dlci5sZW5ndGg9PTApICYmIChibGsudHlwZSAhPT0gQmxvY2tUeXBlLk5PQU5TV0VSKSl7XG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpc0NvbXBsZXRlZDtcbiAgICB9XG5cblxuICAgIGNvbXBpbGVKc29uKCl7XG4gICAgICAgIGxldCBhcnI6YW55W107XG4gICAgICAgIGFyciA9IFtdO1xuICAgICAgICB0aGlzLmJsb2Nrcy5mb3JFYWNoKCAoYmxrOkJsb2NrKSA9PiB7XG4gICAgICAgICAgICBhcnIucHVzaChibGsuY29tcGlsZUpzb24oKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgc2VjID0ge1xuICAgICAgICAgICAgXCJ0aXRsZVwiOiB0aGlzLnRpdGxlLFxuICAgICAgICAgICAgXCJibG9ja3NcIjphcnJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VjO1xuICAgIH1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFtcIkxpYnJhcnlcIl0gPSByZXF1aXJlKFwiLSEvVXNlcnMvcmVtaXRhY2hlL1dvcmtzcGFjZS9mb3JtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL2Jsb2NrLnRzXCIpOyIsImltcG9ydCB7QnVpbGRlcn0gZnJvbSBcIi4uL2J1aWxkZXJcIjtcbmltcG9ydCB7Q2hvaWNlfSBmcm9tIFwiLi9jaG9pY2VcIjtcblxuaW1wb3J0IHtCbG9ja1NsaWRlcn0gZnJvbSBcIi4vYmxvY2tTbGlkZXJcIjtcbmltcG9ydCB7QmxvY2tGcmVldGV4dH0gZnJvbSBcIi4vYmxvY2tGcmVldGV4dFwiO1xuaW1wb3J0IHtCbG9ja1JhZGlvfSBmcm9tIFwiLi9ibG9ja1JhZGlvXCI7XG5pbXBvcnQgeyBCbG9ja0NoZWNrYm94IH0gZnJvbSBcIi4vYmxvY2tDaGVja2JveFwiO1xuaW1wb3J0IHtCbG9ja0xvbmd0ZXh0fSBmcm9tIFwiLi9ibG9ja0xvbmd0ZXh0XCI7XG5pbXBvcnQge0Jsb2NrVGFnc30gZnJvbSBcIi4vQmxvY2tUYWdzXCI7XG5pbXBvcnQgeyBQYXJhbXMgfSBmcm9tIFwiLi4vbWFpblwiO1xuLy8gaW1wb3J0IHtCbG9ja05vYW5zd2VyfSBmcm9tIFwiLi9ibG9ja05vYW5zd2VyXCI7XG5cbmV4cG9ydCBlbnVtIEJsb2NrVHlwZSB7XG4gICAgRlJFRVRFWFQgPSAxLFxuICAgIFJBRElPID0gMixcbiAgICBTTElERVIgPSAzLFxuICAgIENIRUNLQk9YID0gNCxcbiAgICBMT05HVEVYVCA9IDUsXG4gICAgTk9BTlNXRVIgPSA2LFxuICAgIFRBR1MgPSA3XG59XG5cblxuLyoqXG4gKiBBIEJsb2NrIGlzIGEgbGlzdCBcbiAqL1xuZXhwb3J0IGNsYXNzIEJsb2Nre1xuICAgIHR5cGU6bnVtYmVyO1xuICAgIHRleHQ6c3RyaW5nO1xuICAgIGFuc3dlcjphbnk7XG4gICAgbWluOnN0cmluZztcbiAgICBtYXg6c3RyaW5nO1xuICAgIHN0ZXA6c3RyaW5nO1xuICAgIGNob2ljZXM6Q2hvaWNlW107XG5cbiAgICBoZWFkZXI6SFRNTEVsZW1lbnQ7XG5cbiAgICBvdXRwdXQ6c3RyaW5nO1xuICAgIGlkOnN0cmluZztcbiAgICBqc29uOmFueTtcblxuICAgIG5vZGU6IEhUTUxFbGVtZW50O1xuXG4gICAgLypcbiAgICBcInRpdGxlXCI6IFwiREVMRUdBVElPTjogPGJyPiA8YnI+IEhvdyBza2lsbGVkIGRvIHlvdSBmZWVsIHRvZGF5IGFib3V0IHlvdXIgYWJpbGl0eSB0byBkZWxlZ2F0ZT9cIixcbiAgICBcInR5cGVcIjogNCxcbiAgICBcImdyb3VwXCI6IDEsXG4gICAgXCJsYWJlbFwiOiBcbiAgICAqL1xuXG4gICAgY29uc3RydWN0b3IoX2pzb246Rm9ybURhdGEgPSBudWxsKXtcbiAgICAgICAgdGhpcy5qc29uID0gX2pzb247XG4gICAgICAgIHRoaXMudGV4dCA9IFwiXCI7XG4gICAgICAgIHRoaXMudHlwZSA9IDE7XG4gICAgICAgIHRoaXMubWluID0gXCJcIjtcbiAgICAgICAgdGhpcy5tYXggPSBcIlwiO1xuICAgICAgICB0aGlzLnN0ZXAgPSBcIlwiO1xuICAgICAgICB0aGlzLmFuc3dlciA9IFwiXCI7XG4gICAgICAgIHRoaXMuY2hvaWNlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMuaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNyk7XG5cbiAgICAgICAgaWYoX2pzb24pe1xuICAgICAgICAgICAgaWYoX2pzb25bXCJ0ZXh0XCJdKXtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSBfanNvbltcInRleHRcIl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKF9qc29uW1widHlwZVwiXSl7XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gX2pzb25bXCJ0eXBlXCJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFuc3dlciA9IFwiXCI7XG4gICAgICAgICAgICBpZihfanNvbltcImFuc3dlclwiXSl7XG4gICAgICAgICAgICAgICAgdGhpcy5hbnN3ZXIgPSBfanNvbltcImFuc3dlclwiXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoX2pzb25bXCJtaW5cIl0pe1xuICAgICAgICAgICAgICAgIHRoaXMubWluID0gX2pzb25bXCJtaW5cIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihfanNvbltcIm1heFwiXSl7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXggPSBfanNvbltcIm1heFwiXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKF9qc29uW1wic3RlcFwiXSl7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGVwID0gX2pzb25bXCJzdGVwXCJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLnR5cGUgPT09IEJsb2NrVHlwZS5SQURJTyB8fCB0aGlzLnR5cGUgPT09IEJsb2NrVHlwZS5DSEVDS0JPWCl7XG4gICAgICAgICAgICAgICAgLy8gbG9hZCBhZGRpdGlvbmFsIGRhdGFcbiAgICAgICAgICAgICAgICBpZihfanNvbltcImNob2ljZXNcIl0pe1xuICAgICAgICAgICAgICAgICAgICBfanNvbltcImNob2ljZXNcIl0uZm9yRWFjaChjaG9pY2VKc29uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaG9pY2UgPSBuZXcgQ2hvaWNlKGNob2ljZUpzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaG9pY2VzLnB1c2goY2hvaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vdGhpcy5jaG9pY2VzID0gX2pzb25bXCJjaG9pY2VzXCJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBhbmQgcmVtb3ZlIGFsbCB0aGUgSFRNTCBOb2RlXG4gICAgICovXG4gICAgY2xlYXIoKXtcbiAgICAgICAgaWYodGhpcy5ub2RlKXtcbiAgICAgICAgICAgIHRoaXMubm9kZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRoZSBuYW1lIGluc3RlYWQgb2YgdXNpbmcgdGhlIFZhcmlhYmxlIG9uZSBcbiAgICAgKi9cbiAgICB1cGRhdGVUeXBlTmFtZShhcnJFbGVtOmFueSwgaWQ6bnVtYmVyKXtcbiAgICAgICAgaWYoaWQgPT0gQmxvY2tUeXBlLlJBRElPKXtcbiAgICAgICAgICAgIC8vIGNoYW5nZSB0aGUgbmFtZVxuICAgICAgICAgICAgYXJyRWxlbVtcIm5hbWVcIl0gPSBcIlNJTkdMRSBDSE9JQ0VcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGlkID09IEJsb2NrVHlwZS5DSEVDS0JPWCl7XG4gICAgICAgICAgICAvLyBjaGFuZ2UgdGhlIG5hbWVcbiAgICAgICAgICAgIGFyckVsZW1bXCJuYW1lXCJdID0gXCJNVUxUSVBMRSBDSE9JQ0VcIjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBidWlsZCB0aGUgZm9ybVxuICAgICAqL1xuICAgIGJ1aWxkKG5vZGUsIHBhcmFtczpQYXJhbXMsIGRlbEJ0biA9IG51bGwsIGNsYXNzZXM6c3RyaW5nID0gXCJcIil7XG4gICAgICAgIHRoaXMubm9kZSA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCIgOiBcInJvdyBwaXhpdW0tYmxvY2stYnVpbGRcIlxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBsZXQgaHIgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJoclwiLCB7XG4gICAgICAgIC8vICAgICBcImNsYXNzXCI6IFwicGl4aXVtLWhyIGNvbC1tZC0xMlwiXG4gICAgICAgIC8vIH0pO1xuXG4gICAgICAgIC8vIGxldCBoZWFkZXJCb3ggPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAvLyAgICAgXCJpZFwiOiBcImhlYWRlcl9ib3hcIit0aGlzLmlkLFxuICAgICAgICAvLyAgICAgXCJjbGFzc1wiOiBcImNvbGxhcHNlXCJcbiAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgbGV0IG5vZGVDb250ZW50ID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICAgICdjbGFzcyc6ICdjb2wtbWQtMTIgJytjbGFzc2VzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuaGVhZGVyID0gQnVpbGRlci5hZGRCb3hIZWFkZXIodGhpcy5ub2RlLCB0aGlzLmlkLCBub2RlQ29udGVudCwgZGVsQnRuKTtcbiAgICAgICAgQnVpbGRlci5hZGRCdWlsZGVySW5wdXRUZXh0KHRoaXMuaGVhZGVyLCB0aGlzLmlkLCB0aGlzLnRleHQsIFwiVGV4dFwiLCAodmFsKSA9PiB7dGhpcy50ZXh0PXZhbDt9LCBcImNvbC1tZC0xMFwiICk7XG5cbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKG5vZGVDb250ZW50KTtcblxuICAgICAgICAvLyBDUkVBVEUgVEhFIExJU1QgRk9SIFRIRSBfX0RST1BET1dOX19cbiAgICAgICAgbGV0IGVudW1BcnJheSA9IE9iamVjdC5rZXlzKEJsb2NrVHlwZSkuZmlsdGVyKGE9PmEubWF0Y2goL15cXEQvKSkubWFwKG5hbWU9Pih7bmFtZSwgdmFsdWU6IEJsb2NrVHlwZVtuYW1lXSBhcyBudW1iZXJ9KSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgbmV3QXJyYXkgPSBbXTtcbiAgICAgICAgbGV0IGZvdW5kb25lID0gZmFsc2U7XG4gICAgICAgIGlmKHBhcmFtcy5oaWRlUXVlc3Rpb25UeXBlKXtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwic3RhcnQgZmlsdGVyaW5nIDpcIik7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwYXJhbXMuaGlkZVF1ZXN0aW9uVHlwZSk7XG4gICAgICAgICAgICBmb3IodmFyIGk9MCA7IGk8ZW51bUFycmF5Lmxlbmd0aCA7IGkrKyl7XG4gICAgICAgICAgICAgICAgbGV0IGsgPSBlbnVtQXJyYXlbaV1bJ25hbWUnXTtcbiAgICAgICAgICAgICAgICBpZihrKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocGFyYW1zLmhpZGVRdWVzdGlvblR5cGVba10pO1xuICAgICAgICAgICAgICAgICAgICBpZighcGFyYW1zLmhpZGVRdWVzdGlvblR5cGVba10pe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUeXBlTmFtZSggZW51bUFycmF5W2ldLCBpKzEgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0FycmF5LnB1c2goZW51bUFycmF5W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMudHlwZT09PTEgJiYgIWZvdW5kb25lKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdHlwZSBpcyB0aGUgZGVmYXVsdCBvbmUgYW5kIGEgbmV3IG9uZSBpcyBmb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IGVudW1BcnJheVtpXS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlbnVtQXJyYXlbaV0udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTk8gZmlsdGVyaW5nICFcIik7XG4gICAgICAgICAgICBuZXdBcnJheSA9IGVudW1BcnJheTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKGVudW1BcnJheSk7XG5cblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdBcnJheSlcbiAgICAgICAgXG4gICAgICAgIC8vIGVudW1BcnJheS5tYXAoKGVsZW0pID0+IChcbiAgICAgICAgLy8gICAgIGlmKHBhcmFtc1tcInF1ZXN0aW9uVHlwZVwiXSAmJiBwYXJhbXNbXCJxdWVzdGlvblR5cGVcIl1bZWxlbVsnJ11dKVxuICAgICAgICAvLyApKTtcblxuICAgICAgICBsZXQgY3NzQ2xhc3M9XCJcIjtcbiAgICAgICAgaWYocGFyYW1zLmhpZGVRdWVzdGlvblR5cGVTZWxlY3Rpb24gfHwgbmV3QXJyYXkubGVuZ3RoIDwgMil7XG4gICAgICAgICAgICBjc3NDbGFzcyA9IFwiaGlkZGVuXCI7XG4gICAgICAgIH1cbiAgICAgICAgQnVpbGRlci5hZGRCdWlsZGVySW5wdXREcm9wZG93bihub2RlQ29udGVudCwgdGhpcy5pZCwgdGhpcy50eXBlLCBcIlR5cGVcIiwgKHZhbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50eXBlPU51bWJlcih2YWwpO1xuICAgICAgICAgICAgdGhpcy5hbnN3ZXI9Jyc7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJTdWJFbGVtZW50QmxvY2soKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9LCBuZXdBcnJheSwgXCJjb2wtbWQtNCBcIitjc3NDbGFzcyApO1xuXG4gICAgICAgIC8vIC0tLS0gRmllbGQgZm9yIENob2ljZXMgYmxvY2tcbiAgICAgICAgbGV0IGJsa0Nob2ljZXNTdHlsZSA9IFwiXCI7XG4gICAgICAgIGlmKCh0aGlzLnR5cGUgIT09IEJsb2NrVHlwZS5SQURJTykgJiYgKHRoaXMudHlwZSAhPT0gQmxvY2tUeXBlLkNIRUNLQk9YKSl7XG4gICAgICAgICAgICBibGtDaG9pY2VzU3R5bGUgPSBcImRpc3BsYXk6bm9uZTtcIlxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsZXQgbm9kZUNob2ljZXMgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgXCJpZFwiOiBcImNob2ljZXNfYmxvY2tfXCIrdGhpcy5pZCxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJjb2wtbWQtMTIgY3VzdG9tX2Jsb2NrX3R5cGVcIixcbiAgICAgICAgICAgIFwic3R5bGVcIjogYmxrQ2hvaWNlc1N0eWxlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBsYWJUaXRsZSA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICBsYWJUaXRsZS5pbm5lckhUTUwgPSBcIkNob2ljZXMgOiBcIjtcbiAgICAgICAgbm9kZUNob2ljZXMuYXBwZW5kQ2hpbGQobGFiVGl0bGUpO1xuICAgICAgICBpZih0aGlzLmNob2ljZXMubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICB0aGlzLmNob2ljZXMuZm9yRWFjaCggKGNoOkNob2ljZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNoLmJ1aWxkKG5vZGVDaG9pY2VzKTtcbiAgICAgICAgICAgICAgICAvLyBCVUlMRCBERUxFVEUgQk9MQ0sgQlROXG4gICAgICAgICAgICAgICAgbGV0IGRlbEJ0biA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XCJjbGFzc1wiOlwiZm9ybS1idWlsZGVyLWJ0biBidXR0b24tZGVsZXRlIGZvcm0tYnVpbGRlci1idG5cIiwgXCJ0eXBlXCI6XCJidXR0b25cIn0pO1xuICAgICAgICAgICAgICAgIGRlbEJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYSBmYS10aW1lc1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nOyAgXG4gICAgICAgICAgICAgICAgZGVsQnRuLm9uY2xpY2sgPSAoZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICBub2RlQ2hvaWNlcy5yZW1vdmVDaGlsZChjaC5ub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaG9pY2VzID0gdGhpcy5jaG9pY2VzLmZpbHRlcihmdW5jdGlvbihlbCkgeyByZXR1cm4gZWwuaWQgIT0gY2guaWQ7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNoLm5vZGUuYXBwZW5kQ2hpbGQoZGVsQnRuKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQlVJTEQgQUREIEJPTENLIEJUTlxuICAgICAgICBsZXQgYWRkQ2hvaWNlQnV0dG9uID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XCJjbGFzc1wiOlwiYnRuIGJ0bi1zdWNjZXNzIGZvcm0tYnVpbGRlci1idG5cIiwgXCJ0eXBlXCI6XCJidXR0b25cIn0pOyAgXG4gICAgICAgIGFkZENob2ljZUJ1dHRvbi5pbm5lckhUTUwgPSAnKyc7ICBcbiAgICAgICAgYWRkQ2hvaWNlQnV0dG9uLm9uY2xpY2sgPSAoZXYpID0+IFxuICAgICAgICB7ICAgXG4gICAgICAgICAgICBsZXQgYnRuQ2hBZGQgPSA8SFRNTEVsZW1lbnQ+ZXYudGFyZ2V0O1xuICAgICAgICAgICAgLy8gQUREIE5FVyBCT0xDS1xuICAgICAgICAgICAgbGV0IGNoID0gbmV3IENob2ljZShudWxsKTtcbiAgICAgICAgICAgIHRoaXMuY2hvaWNlcy5wdXNoKGNoKTtcbiAgICAgICAgICAgIG5vZGVDaG9pY2VzLnJlbW92ZUNoaWxkKGJ0bkNoQWRkKTtcbiAgICAgICAgICAgIGNoLmJ1aWxkKG5vZGVDaG9pY2VzKTtcbiAgICAgICAgICAgIC8vIEJVSUxEIERFTEVURSBCT0xDSyBCVE5cbiAgICAgICAgICAgIGxldCBidG5DaERlbCA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XCJjbGFzc1wiOlwiYnRuIGJ0bi1kYW5nZXIgZm9ybS1idWlsZGVyLWJ0blwiLCBcInR5cGVcIjpcImJ1dHRvblwifSk7XG4gICAgICAgICAgICBidG5DaERlbC5pbm5lclRleHQgPSAnLSc7ICBcbiAgICAgICAgICAgIGJ0bkNoRGVsLm9uY2xpY2sgPSAoZXYgPT4ge1xuICAgICAgICAgICAgICAgIG5vZGVDaG9pY2VzLnJlbW92ZUNoaWxkKGNoLm5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hvaWNlcyA9IHRoaXMuY2hvaWNlcy5maWx0ZXIoZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLmlkICE9IGNoLmlkOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2gubm9kZS5hcHBlbmRDaGlsZChidG5DaERlbCk7XG5cbiAgICAgICAgICAgIG5vZGVDaG9pY2VzLmFwcGVuZENoaWxkKGJ0bkNoQWRkKTtcbiAgICAgICAgfTsgIFxuICAgICAgICBub2RlQ2hvaWNlcy5hcHBlbmRDaGlsZChhZGRDaG9pY2VCdXR0b24pO1xuXG4gICAgICAgIG5vZGVDb250ZW50LmFwcGVuZENoaWxkKG5vZGVDaG9pY2VzKTtcbiAgICAgICAgLy8gLS0tLSBcblxuICAgICAgICAvLyAtLS0tIEZpZWxkIGZvciBTbGlkZXIgYmxvY2tcbiAgICAgICAgbGV0IGJsa1NsaWRlclN0eWxlID0gXCJcIjtcbiAgICAgICAgaWYodGhpcy50eXBlICE9PSBCbG9ja1R5cGUuU0xJREVSKXtcbiAgICAgICAgICAgIGJsa1NsaWRlclN0eWxlID0gXCJkaXNwbGF5Om5vbmU7XCJcbiAgICAgICAgfVxuICAgICAgICBsZXQgbm9kZVNsaWRlciA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgICBcImlkXCI6IFwic2xpZGVyX2Jsb2NrX1wiK3RoaXMuaWQsXG4gICAgICAgICAgICBcImNsYXNzXCI6IFwiY29sLW1kLTEyIGN1c3RvbV9ibG9ja190eXBlXCIsXG4gICAgICAgICAgICBcInN0eWxlXCI6IGJsa1NsaWRlclN0eWxlXG4gICAgICAgIH0pO1xuICAgICAgICBCdWlsZGVyLmFkZEJ1aWxkZXJJbnB1dFRleHQobm9kZVNsaWRlciwgdGhpcy5pZCwgdGhpcy5taW4sIFwiTWluXCIsICh2YWwpID0+IHt0aGlzLm1pbj12YWw7fSwgXCJjb2wtbWQtNCBoaWRkZW5cIiwgdHJ1ZSApO1xuICAgICAgICBCdWlsZGVyLmFkZEJ1aWxkZXJJbnB1dFRleHQobm9kZVNsaWRlciwgdGhpcy5pZCwgdGhpcy5tYXgsIFwiTWF4XCIsICh2YWwpID0+IHt0aGlzLm1heD12YWw7fSwgXCJjb2wtbWQtNFwiLCB0cnVlICk7XG4gICAgICAgIEJ1aWxkZXIuYWRkQnVpbGRlcklucHV0VGV4dChub2RlU2xpZGVyLCB0aGlzLmlkLCB0aGlzLnN0ZXAsIFwiU3RlcFwiLCAodmFsKSA9PiB7dGhpcy5zdGVwPXZhbDt9LCBcImNvbC1tZC00IGhpZGRlblwiLCB0cnVlICk7XG4gICAgICAgIG5vZGVDb250ZW50LmFwcGVuZENoaWxkKG5vZGVTbGlkZXIpO1xuICAgICAgICAvLyAtLS0tXG5cbiAgICAgICAgLy8gdGhpcy5ub2RlLmFwcGVuZENoaWxkKGhyKTtcbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpO1xuICAgIH1cblxuICAgIFxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBSdW4gdGhlIGZvcm1cbiAgICAgKi9cbiAgICBydW4obm9kZSl7XG4gICAgICAgIC8vIGFsZXJ0KFwiQ1wiKTtcbiAgICAgICAgbGV0IHRpdGxlTm9kZSA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcInBcIik7IC8vZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIHRpdGxlTm9kZS5pbm5lckhUTUwgPSB0aGlzLnRleHQ7XG4gICAgICAgIHRoaXMubm9kZSA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicGl4aXVtLWJsb2NrLXJ1bi1xdWVzdGlvblwiXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGl0bGVOb2RlKTtcblxuICAgICAgICBzd2l0Y2godGhpcy50eXBlKXtcbiAgICAgICAgICAgIGNhc2UgQmxvY2tUeXBlLlJBRElPOlxuICAgICAgICAgICAgICAgIEJsb2NrUmFkaW8ucnVuKHRoaXMubm9kZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQmxvY2tUeXBlLkNIRUNLQk9YOlxuICAgICAgICAgICAgICAgIEJsb2NrQ2hlY2tib3gucnVuKHRoaXMubm9kZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQmxvY2tUeXBlLkZSRUVURVhUOlxuICAgICAgICAgICAgICAgIEJsb2NrRnJlZXRleHQucnVuKHRoaXMubm9kZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBjYXNlIEJsb2NrVHlwZS5MT05HVEVYVDpcbiAgICAgICAgICAgICAgICBCbG9ja0xvbmd0ZXh0LnJ1bih0aGlzLm5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEJsb2NrVHlwZS5OT0FOU1dFUjpcbiAgICAgICAgICAgICAgICAvLyBCbG9ja05vYW5zd2VyLnJ1bih0aGlzLm5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEJsb2NrVHlwZS5TTElERVI6XG4gICAgICAgICAgICAgICAgQmxvY2tTbGlkZXIucnVuKHRoaXMubm9kZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQmxvY2tUeXBlLlRBR1M6XG4gICAgICAgICAgICAgICAgQmxvY2tUYWdzLnJ1bih0aGlzLm5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBsZXQgaHIgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJoclwiLCB7XG4gICAgICAgIC8vICAgICBcImNsYXNzXCI6IFwicGl4aXVtLWhyXCJcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIC8vIHRoaXMubm9kZS5hcHBlbmRDaGlsZChocik7XG5cbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpO1xuICAgIH1cblxuXG4gICAgZGlzcGxheSgpe1xuICAgIH1cblxuXG5cbiAgICB0cmlnZ2VyU3ViRWxlbWVudEJsb2NrKCl7XG4gICAgICAgIGxldCBzbGlkZXJCbG9jayA9IG51bGw7XG4gICAgICAgIGlmKHNsaWRlckJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzbGlkZXJfYmxvY2tfXCIrdGhpcy5pZCkpe1xuICAgICAgICAgICAgaWYodGhpcy50eXBlID09PSBCbG9ja1R5cGUuU0xJREVSKXtcbiAgICAgICAgICAgICAgICBzbGlkZXJCbG9jay5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgc2xpZGVyQmxvY2suc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGFsZXJ0KFwiTm9kZSBTaWxkZXIgbm90IGZvdW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNob2ljZUJsb2NrID0gbnVsbDtcbiAgICAgICAgaWYoY2hvaWNlQmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNob2ljZXNfYmxvY2tfXCIrdGhpcy5pZCkpe1xuICAgICAgICAgICAgaWYoKHRoaXMudHlwZSA9PT0gQmxvY2tUeXBlLlJBRElPKSB8fCAodGhpcy50eXBlID09PSBCbG9ja1R5cGUuQ0hFQ0tCT1gpKXtcbiAgICAgICAgICAgICAgICBjaG9pY2VCbG9jay5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgY2hvaWNlQmxvY2suc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGFsZXJ0KFwiTm9kZSBDaG9pY2Ugbm90IGZvdW5kXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBjb21waWxlSnNvbigpe1xuICAgICAgICBsZXQgYXJyOmFueVtdO1xuICAgICAgICBhcnIgPSBbXTtcbiAgICAgICAgdGhpcy5jaG9pY2VzLmZvckVhY2goIChjaDpDaG9pY2UpID0+IHtcbiAgICAgICAgICAgIGFyci5wdXNoKGNoLmNvbXBpbGVKc29uKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5qc29uID0ge1xuICAgICAgICAgICAgXCJ0eXBlXCI6dGhpcy50eXBlLFxuICAgICAgICAgICAgXCJ0ZXh0XCI6dGhpcy50ZXh0LFxuICAgICAgICAgICAgXCJhbnN3ZXJcIjp0aGlzLmFuc3dlcixcbiAgICAgICAgICAgIFwibWluXCI6dGhpcy5taW4sXG4gICAgICAgICAgICBcIm1heFwiOnRoaXMubWF4LFxuICAgICAgICAgICAgXCJzdGVwXCI6dGhpcy5zdGVwLFxuICAgICAgICAgICAgXCJjaG9pY2VzXCI6IGFyclxuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiB0aGlzLmpzb247XG4gICAgfVxufSIsIlxuZXhwb3J0IGNsYXNzIEJ1aWxkZXJ7XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBhbmQgc2V0IGFsbCB0aGUgYXR0cmlidXRlIG9mIGEgSFRNTCBFbGVtZW50IG5vZGVcbiAgICAgKiBAcGFyYW0gdHlwZSBUaGUgdHlwZSBvZiB0aGUgaW5wdXQgdG8gY3JlYXRlXG4gICAgICogQHBhcmFtIF9wYXJhbXMgVGhlIGF0dHJpYnV0ZXMgbGlzdCB0byBzZXRcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlRWxlbWVudCh0eXBlOnN0cmluZywgX3BhcmFtczphbnkgPSBudWxsKXtcbiAgICAgICAgaWYoIXR5cGUpe1xuICAgICAgICAgICAgYWxlcnQoXCJDb3VsZCBub3QgYnVpbGQgdGhlIGVsZW1lbnRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgIGlmKF9wYXJhbXMpe1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIF9wYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBfcGFyYW1zW2tleV07XG4gICAgICAgICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gd2lsbCBzZXQgYWxsIGF0dHJpYnV0ZSBpbnRvIGEgc3BlY2lmaWMgZWxlbWVudFxuICAgICAqIEBwYXJhbSBlbGVtIEVsZW1lbnQgdG8gc2V0IHRlIGF0dHJpYnV0ZSBvZlxuICAgICAqIEBwYXJhbSBfcGFyYW1zIFRoZSBhdHRyaWJ1dGVzIGxpc3QgdG8gc2V0XG4gICAgICovXG4gICAgc3RhdGljIHNldEF0dHJpYnV0ZXMoZWxlbTpIVE1MRWxlbWVudCwgX3BhcmFtczphbnkgPSBudWxsKXtcbiAgICAgICAgaWYoX3BhcmFtcyl7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gX3BhcmFtcykge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9wYXJhbXNba2V5XTtcbiAgICAgICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgc3RhdGljIGFkZEJ1aWxkZXJJbnB1dFRleHQobm9kZSwgaWQsIHZhbHVlLCBsYWJlbCwgY2FsbGJhY2ssIGNsYXNzZXM9XCJjb2wtbWQtMTJcIiwgc2hvd0xhYmVsID0gZmFsc2Upe1xuICAgICAgICBsZXQgZGl2ID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJwaXhpdW0tcm93LWJsb2NrIFwiK2NsYXNzZXNcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgaW5wdXQgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicGl4aXVtLXRleHRib3hcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInRleHRcIixcbiAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUsXG4gICAgICAgICAgICBcIm5hbWVcIjogbGFiZWwrXCJfXCIraWQsXG4gICAgICAgICAgICBcInBsYWNlaG9sZGVyXCI6IGxhYmVsXG4gICAgICAgIH0pO1xuICAgICAgICBpbnB1dC5vbmJsdXIgPSAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2LnRhcmdldCk7XG4gICAgICAgICAgICBjYWxsYmFjaygoPEhUTUxJbnB1dEVsZW1lbnQ+ZXYudGFyZ2V0KS52YWx1ZSk7XG4gICAgICAgIH07IFxuXG4gICAgICAgIGlmKHNob3dMYWJlbCl7XG4gICAgICAgICAgICBsZXQgbGFiID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge1xuICAgICAgICAgICAgICAgICdzdHlsZSc6ICdmbG9hdDpsZWZ0J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsYWIuaW5uZXJIVE1MID0gbGFiZWwrXCI6IFwiO1xuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGxhYik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBhZGRCb3hIZWFkZXIobm9kZSwgaWQsIHN1YkVsZW1lbnQsIGRlbEJ0bil7XG4gICAgICAgIGxldCBkaXYgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgXCJjbGFzc1wiOiBcImNvbC1tZC0xMiBibG9jay1oZWFkZXIgYmxvY2staGVhZGVyLVwiK2lkIFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhZGQgdGhlIGRlbGV0ZSBidXR0b24gaW4gdGhlIGhlYWRlciBkaXJlY3RseVxuICAgICAgICBpZihkZWxCdG4pe1xuICAgICAgICAgICAgZGVsQnRuLmNsYXNzTmFtZSArPSBcIiBmbG9hdC1yaWdodFwiO1xuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGRlbEJ0bik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZXllMSA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImlcIiwge1wiY2xhc3NcIjpcImZhIGZhLWNhcmV0LWxlZnQgZmxvYXQtcmlnaHQgaGlkZGVuXCIsIFwiYXJpYS1oaWRkZW5cIjpcImZhbHNlXCJ9KTtcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGV5ZTEpO1xuICAgICAgICBsZXQgZXllMiA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImlcIiwge1wiY2xhc3NcIjpcImZhIGZhLWNhcmV0LWRvd24gZmxvYXQtcmlnaHRcIiwgXCJhcmlhLWhpZGRlblwiOlwiZmFsc2VcIn0pO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoZXllMik7XG5cbiAgICAgICAgXG4gICAgICAgIFxuXG5cbiAgICAgICAgZXllMS5vbmNsaWNrID0gKGV2KSA9PiB7XG4gICAgICAgICAgICBzdWJFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJjb2xsYXBzZVwiKTtcbiAgICAgICAgICAgIGV5ZTEuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcbiAgICAgICAgICAgIGV5ZTIuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgZXllMi5vbmNsaWNrID0gKGV2KSA9PiB7XG4gICAgICAgICAgICBzdWJFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJjb2xsYXBzZVwiKTtcbiAgICAgICAgICAgIGV5ZTEuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcbiAgICAgICAgICAgIGV5ZTIuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcbiAgICAgICAgfTtcblxuICAgICAgICBcblxuICAgICAgICAvLyBsZXQgbGFiID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgIC8vIGxhYi5pbm5lckhUTUwgPSBsYWJlbDtcbiAgICAgICAgLy8gZGl2LmFwcGVuZENoaWxkKGxhYik7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG5cbiAgICAvKlxuPHNlbGVjdCBuYW1lPVwiY2Fyc1wiIGlkPVwiY2Fyc1wiPlxuICA8b3B0aW9uIHZhbHVlPVwidm9sdm9cIj5Wb2x2bzwvb3B0aW9uPlxuICA8b3B0aW9uIHZhbHVlPVwic2FhYlwiPlNhYWI8L29wdGlvbj5cbiAgPG9wdGlvbiB2YWx1ZT1cIm1lcmNlZGVzXCI+TWVyY2VkZXM8L29wdGlvbj5cbiAgPG9wdGlvbiB2YWx1ZT1cImF1ZGlcIj5BdWRpPC9vcHRpb24+XG48L3NlbGVjdD5cbiAgICAqL1xuICAgIHN0YXRpYyBhZGRCdWlsZGVySW5wdXREcm9wZG93bihub2RlLCBpZCwgdmFsdWUsIGxhYmVsLCBjYWxsYmFjaywgb3B0aW9ucywgY2xhc3Nlcz1cImNvbC1tZC0xMlwiKXtcbiAgICAgICAgbGV0IGRpdiA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicGl4aXVtLXJvdy1ibG9jayBcIitjbGFzc2VzXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgbGFiID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgIGxhYi5pbm5lckhUTUwgPSBsYWJlbCtcIjogXCI7XG4gICAgICAgIGxldCBpbnB1dCA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicGl4aXVtLWRyb3Bkb3duXCIsXG4gICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLFxuICAgICAgICAgICAgXCJuYW1lXCI6IGxhYmVsK1wiX1wiK2lkLFxuICAgICAgICAgICAgXCJzdHlsZVwiOiBcImRpc3BsYXk6YmxvY2tcIlxuICAgICAgICB9KTtcbiAgICAgICAgaW5wdXQub25jaGFuZ2UgPSAoZXYpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCg8SFRNTElucHV0RWxlbWVudD5ldi50YXJnZXQpLnZhbHVlKTtcbiAgICAgICAgfTsgXG5cbiAgICAgICAgb3B0aW9ucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgbGV0IG9wdCA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCB7XG4gICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBlbGVtZW50LnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZih2YWx1ZT09PWVsZW1lbnQudmFsdWUpe1xuICAgICAgICAgICAgICAgIEJ1aWxkZXIuc2V0QXR0cmlidXRlcyhvcHQsIHtcbiAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RlZFwiOlwic2VsZWN0ZWRcIlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHQuaW5uZXJIVE1MID0gZWxlbWVudC5uYW1lO1xuICAgICAgICAgICAgaW5wdXQuYXBwZW5kQ2hpbGQob3B0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGxhYik7XG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB9XG59IiwibW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxbXCJMaWJyYXJ5XCJdID0gcmVxdWlyZShcIi0hL1VzZXJzL3JlbWl0YWNoZS9Xb3Jrc3BhY2UvZm9ybS1idWlsZGVyL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanMhLi9jaG9pY2UudHNcIik7IiwiXG5pbXBvcnQge0J1aWxkZXJ9IGZyb20gXCIuLi9idWlsZGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBDaG9pY2V7XG4gICAgbGFiZWw6c3RyaW5nO1xuICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgaWQ6c3RyaW5nO1xuICAgIGpzb246YW55O1xuICAgIG5vZGU6IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoX2pzb24pe1xuICAgICAgICB0aGlzLmlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpO1xuXG4gICAgICAgIGlmKF9qc29uKXtcbiAgICAgICAgICAgIGlmKF9qc29uW1wibGFiZWxcIl0pe1xuICAgICAgICAgICAgICAgIHRoaXMubGFiZWwgPSBfanNvbltcImxhYmVsXCJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihfanNvbltcInZhbHVlXCJdKXtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gX2pzb25bXCJ2YWx1ZVwiXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gYnVpbGQgdGhlIGZvcm1cbiAgICAgKi9cbiAgICBidWlsZChub2RlKXtcbiAgICAgICAgdGhpcy5ub2RlID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJwaXhpdW0tcm93LWJsb2NrIGJsb2NrLWNob2ljZXMgY29sLW1kLTEyXCIsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDUkVBVEUgVkFMVUUgSU5QVVRcbiAgICAgICAgLy8gbGV0IGxhYlZhbHVlID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge1wiZm9yXCI6XCJpbnB1dF9cIit0aGlzLnZhbHVlK1wiX1wiK3RoaXMuaWR9KTtcbiAgICAgICAgLy8gbGFiVmFsdWUuaW5uZXJIVE1MID0gXCJWYWx1ZSA6IFwiO1xuICAgICAgICAvLyBsZXQgaW5wdXRWYWx1ZSA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgLy8gICAgIFwiY2xhc3NcIjogXCJwaXhpdW0tdGV4dGJveFwiLFxuICAgICAgICAvLyAgICAgXCJ0eXBlXCI6IFwidGV4dFwiLFxuICAgICAgICAvLyAgICAgXCJ2YWx1ZVwiOiAodGhpcy52YWx1ZSkgPyB0aGlzLnZhbHVlIDogJycsXG4gICAgICAgIC8vICAgICBcInBsYWNlaG9sZGVyXCI6ICdWYWx1ZScsXG4gICAgICAgIC8vICAgICBcImlkXCI6IFwiaW5wdXRfXCIrdGhpcy52YWx1ZStcIl9cIit0aGlzLmlkXG4gICAgICAgIC8vIH0pO1xuICAgICAgICAvLyBpbnB1dFZhbHVlLm9uYmx1ciA9IChldikgPT4ge1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coZXYudGFyZ2V0KTtcbiAgICAgICAgLy8gICAgIHRoaXMudmFsdWU9KDxIVE1MSW5wdXRFbGVtZW50PmV2LnRhcmdldCkudmFsdWU7XG4gICAgICAgIC8vIH07IFxuXG4gICAgICAgIC8vIENSRUFURSBMQUJFTCBJTlBVVFxuICAgICAgICBsZXQgbGFiTGFiZWwgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7XCJmb3JcIjpcImlucHV0X1wiK3RoaXMubGFiZWwrXCJfXCIrdGhpcy5pZCwgXCJzdHlsZVwiOlwibWluLXdpZHRoOiBhdXRvO1wifSk7XG4gICAgICAgIGxhYkxhYmVsLmlubmVySFRNTCA9IFwiQW5zd2VyIDogXCI7XG4gICAgICAgIGxldCBpbnB1dExhYmVsID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgXCJjbGFzc1wiOiBcInBpeGl1bS10ZXh0Ym94XCIsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCIsXG4gICAgICAgICAgICBcInZhbHVlXCI6ICh0aGlzLmxhYmVsKSA/IHRoaXMubGFiZWwgOiAnJyxcbiAgICAgICAgICAgIFwicGxhY2Vob2xkZXJcIjogJ0xhYmVsJyxcbiAgICAgICAgICAgIFwiaWRcIjpcImlucHV0X1wiK3RoaXMubGFiZWwrXCJfXCIrdGhpcy5pZFxuICAgICAgICB9KTtcbiAgICAgICAgaW5wdXRMYWJlbC5vbmJsdXIgPSAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2LnRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLmxhYmVsPSg8SFRNTElucHV0RWxlbWVudD5ldi50YXJnZXQpLnZhbHVlO1xuICAgICAgICB9OyBcblxuICAgICAgICAvLyB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQobGFiVmFsdWUpO1xuICAgICAgICAvLyB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoaW5wdXRWYWx1ZSk7XG4gICAgICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChsYWJMYWJlbCk7XG4gICAgICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChpbnB1dExhYmVsKTtcblxuICAgICAgICBub2RlLmFwcGVuZENoaWxkKHRoaXMubm9kZSk7XG4gICAgfVxuXG4gICAgY29tcGlsZUpzb24oKXtcbiAgICAgICAgdGhpcy5qc29uID0ge1xuICAgICAgICAgICAgXCJsYWJlbFwiOnRoaXMubGFiZWwsXG4gICAgICAgICAgICBcInZhbHVlXCI6dGhpcy5sYWJlbFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmpzb247XG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiTGlicmFyeVwiXSA9IHJlcXVpcmUoXCItIS9Vc2Vycy9yZW1pdGFjaGUvV29ya3NwYWNlL2Zvcm0tYnVpbGRlci9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzIS4vYmxvY2tTbGlkZXIudHNcIik7IiwiaW1wb3J0IHtCbG9ja30gZnJvbSBcIi4vYmxvY2tcIjtcbmltcG9ydCB7QnVpbGRlcn0gZnJvbSBcIi4uL2J1aWxkZXJcIjtcblxuZXhwb3J0IGNsYXNzIEJsb2NrU2xpZGVye1xuXG4gICAgc3RhdGljIHJ1bihub2RlLCBibG9jazpCbG9jayl7XG4gICAgICAgIGxldCBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBob2xkZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGVtZW50LWZvcm0tY29udGFpbmVyXCIpO1xuICAgICAgICBsZXQgZmllbGQgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblxuICAgICAgICBsZXQgbWluID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6XCJfbGVmdFwiXG4gICAgICAgIH0pO1xuICAgICAgICBtaW4uaW5uZXJIVE1MID0gKGJsb2NrLm1pbikgPyBibG9jay5taW4gOiAnMCc7XG5cbiAgICAgICAgbGV0IG1heCA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICAgICAgXCJjbGFzc1wiOlwiX3JpZ2h0XCJcbiAgICAgICAgfSk7O1xuICAgICAgICBtYXguaW5uZXJIVE1MID0gKGJsb2NrLm1heCkgPyBibG9jay5tYXggOiAnMTAwJztcbiAgICAgICAgXG4gICAgICAgIGxldCBkZWZhdWx0VmFsdWUgPSAoYmxvY2suYW5zd2VyKSA/IGJsb2NrLmFuc3dlciA6ICgoYmxvY2subWF4ICYmIGJsb2NrLm1pbikgPyBNYXRoLnJvdW5kKChOdW1iZXIoYmxvY2subWF4KSsgTnVtYmVyKGJsb2NrLm1pbikpLzIpIDogNTApO1xuICAgICAgICAvLyA8b3V0cHV0IGZvcj1cImZvb1wiIG9uZm9ybWlucHV0PVwidmFsdWUgPSBmb28udmFsdWVBc051bWJlcjtcIj48L291dHB1dD5cblxuICAgICAgICAvL0Fzc2lnbiBkaWZmZXJlbnQgYXR0cmlidXRlcyB0byB0aGUgZWxlbWVudC4gXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdibG9jay5hbnN3ZXInKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coYmxvY2suYW5zd2VyKTtcbiAgICAgICAgQnVpbGRlci5zZXRBdHRyaWJ1dGVzKGZpZWxkLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicGl4aXVtLXNsaWRlclwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwicmFuZ2VcIixcbiAgICAgICAgICAgIFwidmFsdWVcIjogZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgXCJtaW5cIjogKGJsb2NrLm1pbikgPyBibG9jay5taW4gOiAwLFxuICAgICAgICAgICAgXCJtYXhcIjogKGJsb2NrLm1heCkgPyBibG9jay5tYXggOiAxMDAsXG4gICAgICAgICAgICBcImlkXCI6IFwiaW5wdXRyYW5nZV9cIitibG9jay5pZFxuICAgICAgICB9KTtcbiAgICAgICAgaWYoYmxvY2suc3RlcCl7XG4gICAgICAgICAgICBmaWVsZC5zZXRBdHRyaWJ1dGUoXCJzdGVwXCIsIGJsb2NrLnN0ZXApO1xuICAgICAgICB9XG4gICAgICAgIGZpZWxkLm9uY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgYmxvY2suYW5zd2VyID0gcGFyc2VGbG9hdCgoPEhUTUxJbnB1dEVsZW1lbnQ+ZmllbGQpLnZhbHVlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGJsb2NrLmFuc3dlcik7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm91dHB1dF9cIitibG9jay5pZCkuaW5uZXJIVE1MID0gYmxvY2suYW5zd2VyO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGlucHV0RGl2ID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBpbnB1dERpdi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInBpeGl1bS1ibG9jay1zbGlkZXJcIik7XG4gICAgICAgIGxldCBvdXRwdXQgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJvdXRwdXRcIiwge1xuICAgICAgICAgICAgXCJpZFwiOiBcIm91dHB1dF9cIitibG9jay5pZFxuICAgICAgICB9KTtcbiAgICAgICAgb3V0cHV0LmlubmVySFRNTCA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgYmxvY2suYW5zd2VyID0gb3V0cHV0LmlubmVySFRNTDtcbiAgICAgICAgXG4gICAgICAgIGlucHV0RGl2LmFwcGVuZENoaWxkKG91dHB1dCk7XG4gICAgICAgIGlucHV0RGl2LmFwcGVuZENoaWxkKGZpZWxkKTtcbiAgICAgICAgaW5wdXREaXYuYXBwZW5kQ2hpbGQobWluKTtcbiAgICAgICAgaW5wdXREaXYuYXBwZW5kQ2hpbGQobWF4KTsgXG4gICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZChpbnB1dERpdik7XG5cbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChob2xkZXIpO1xuICAgIH1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFtcIkxpYnJhcnlcIl0gPSByZXF1aXJlKFwiLSEvVXNlcnMvcmVtaXRhY2hlL1dvcmtzcGFjZS9mb3JtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL2Jsb2NrRnJlZXRleHQudHNcIik7IiwiaW1wb3J0IHtCdWlsZGVyfSBmcm9tIFwiLi4vYnVpbGRlclwiO1xuXG5leHBvcnQgY2xhc3MgQmxvY2tGcmVldGV4dHtcblxuICAgIHN0YXRpYyBydW4obm9kZSwgYmxvY2spe1xuICAgICAgICBcbiAgICAgICAgbGV0IGhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGhvbGRlci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImVsZW1lbnQtZm9ybS1jb250YWluZXJcIik7XG5cbiAgICAgICAgbGV0IGZpZWxkID0gQnVpbGRlci5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cbiAgICAgICAgLy9Bc3NpZ24gZGlmZmVyZW50IGF0dHJpYnV0ZXMgdG8gdGhlIGVsZW1lbnQuIFxuICAgICAgICBCdWlsZGVyLnNldEF0dHJpYnV0ZXMoZmllbGQsIHtcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJwaXhpdW0tdGV4dGJveFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidGV4dFwiLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBibG9jay5hbnN3ZXIsXG4gICAgICAgICAgICBcImlkXCI6IFwiaW5wdXRmcmVldGV4dF9cIitibG9jay5pZFxuICAgICAgICB9KTsgXG4gICAgICAgIGZpZWxkLm9uYmx1ciA9ICgpID0+IHtcbiAgICAgICAgICAgIGJsb2NrLmFuc3dlciA9ICg8SFRNTElucHV0RWxlbWVudD5maWVsZCkudmFsdWU7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhibG9jay5hbnN3ZXIpO1xuICAgICAgICB9OyBcbiAgICAgICAgXG4gICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZChmaWVsZCk7IFxuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGhvbGRlcik7XG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiTGlicmFyeVwiXSA9IHJlcXVpcmUoXCItIS9Vc2Vycy9yZW1pdGFjaGUvV29ya3NwYWNlL2Zvcm0tYnVpbGRlci9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzIS4vYmxvY2tSYWRpby50c1wiKTsiLCJpbXBvcnQge0J1aWxkZXJ9IGZyb20gXCIuLi9idWlsZGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBCbG9ja1JhZGlvIHtcblxuICAgIHN0YXRpYyBydW4obm9kZSwgYmxvY2spe1xuICAgICAgICBsZXQgaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaG9sZGVyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZWxlbWVudC1mb3JtLWNvbnRhaW5lclwiKTtcblxuICAgICAgICBibG9jay5jaG9pY2VzLmZvckVhY2goIChjaG9pY2UpID0+IHtcbiAgICAgICAgICAgIGxldCBmICA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJyYWRpb1wiLFxuICAgICAgICAgICAgICAgIFwiaWRcIjogXCJpbnB1dHJhZGlvX1wiK2Jsb2NrLmlkLFxuICAgICAgICAgICAgICAgIFwidmFsdWVcIjogIGNob2ljZS52YWx1ZStcIlwiLFxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIm5hbWVfXCIrYmxvY2suaWRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGNob2ljZS5sYWJlbDtcblxuICAgICAgICAgICAgbGV0IF9kaXYgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBfZGl2LmFwcGVuZENoaWxkKGYpO1xuICAgICAgICAgICAgX2Rpdi5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQoX2Rpdik7XG5cbiAgICAgICAgICAgIGYub25jbGljayA9IChldikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgYmxvY2suYW5zd2VyID0gKDxIVE1MSW5wdXRFbGVtZW50PmV2LnRhcmdldCkudmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYmxvY2suYW5zd2VyKTtcbiAgICAgICAgICAgIH07IFxuICAgICAgICB9KTtcbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChob2xkZXIpO1xuICAgIH1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFtcIkxpYnJhcnlcIl0gPSByZXF1aXJlKFwiLSEvVXNlcnMvcmVtaXRhY2hlL1dvcmtzcGFjZS9mb3JtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL2Jsb2NrQ2hlY2tib3gudHNcIik7IiwiaW1wb3J0IHtCdWlsZGVyfSBmcm9tIFwiLi4vYnVpbGRlclwiO1xuXG5leHBvcnQgY2xhc3MgQmxvY2tDaGVja2JveCB7XG5cbiAgICBzdGF0aWMgcnVuKG5vZGUsIGJsb2NrKXtcbiAgICAgICAgbGV0IGhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGhvbGRlci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImVsZW1lbnQtZm9ybS1jb250YWluZXJcIik7XG5cbiAgICAgICAgYmxvY2suY2hvaWNlcy5mb3JFYWNoKCAoY2hvaWNlKSA9PiB7XG5cbiAgICAgICAgICAgIGxldCBmICA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiAgYmxvY2suaWQsXG4gICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiAgY2hvaWNlLnZhbHVlK1wiXCIsXG4gICAgICAgICAgICAgICAgXCJpZFwiOiAgY2hvaWNlLnZhbHVlK1wiXCIsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9QcmVzZWxlY3QgYW5zd2VycyBpZiBzZXRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxvY2suYW5zd2VyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZigoY2hvaWNlLnZhbHVlK1wiXCIpPT09YmxvY2suYW5zd2VyW2ldKXtcbiAgICAgICAgICAgICAgICAgICAgQnVpbGRlci5zZXRBdHRyaWJ1dGVzKGYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IFxuXG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGNob2ljZS5sYWJlbDtcblxuICAgICAgICAgICAgbGV0IF9kaXYgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBfZGl2LmFwcGVuZENoaWxkKGYpO1xuICAgICAgICAgICAgX2Rpdi5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQoX2Rpdik7XG5cbiAgICAgICAgICAgIGYub25jbGljayA9IChldikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjaGVja2VkQm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPWNoZWNrYm94XVtuYW1lPVwiJytibG9jay5pZCsnXCJdOmNoZWNrZWQnKTtcbiAgICAgICAgICAgICAgICBsZXQgaWRzID0gW107XG4gICAgICAgICAgICAgICAgY2hlY2tlZEJveGVzLmZvckVhY2goIChlbGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlkcy5wdXNoKCg8SFRNTElucHV0RWxlbWVudD5lbGVtKS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYmxvY2suYW5zd2VyID0gaWRzO1xuICAgICAgICAgICAgfTsgXG4gICAgICAgIH0pO1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGhvbGRlcik7XG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiTGlicmFyeVwiXSA9IHJlcXVpcmUoXCItIS9Vc2Vycy9yZW1pdGFjaGUvV29ya3NwYWNlL2Zvcm0tYnVpbGRlci9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzIS4vYmxvY2tMb25ndGV4dC50c1wiKTsiLCJpbXBvcnQge0J1aWxkZXJ9IGZyb20gXCIuLi9idWlsZGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBCbG9ja0xvbmd0ZXh0e1xuXG4gICAgc3RhdGljIHJ1bihub2RlLCBibG9jayl7XG4gICAgICAgIFxuICAgICAgICBsZXQgaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaG9sZGVyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZWxlbWVudC1mb3JtLWNvbnRhaW5lclwiKTtcbiAgICAgICAgbGV0IGZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuXG4gICAgICAgIC8vQXNzaWduIGRpZmZlcmVudCBhdHRyaWJ1dGVzIHRvIHRoZSBlbGVtZW50LiBcbiAgICAgICAgQnVpbGRlci5zZXRBdHRyaWJ1dGVzKGZpZWxkLCB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwicGl4aXVtLXRleHRib3hcIixcbiAgICAgICAgICAgIFwicm93c1wiOiA1LFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBibG9jay5hbnN3ZXIsXG4gICAgICAgICAgICBcImlkXCI6IFwiaW5wdXRsb25ndGV4dF9cIitibG9jay5pZFxuICAgICAgICB9KTsgXG4gICAgICAgIC8vIGZpZWxkLmlubmVySFRNTCA9IGJsb2NrLmFuc3dlcjtcbiAgICAgICAgZmllbGQub25ibHVyID0gKCkgPT4ge1xuICAgICAgICAgICAgYmxvY2suYW5zd2VyID0gKDxIVE1MVGV4dEFyZWFFbGVtZW50PmZpZWxkKS52YWx1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGJsb2NrLmFuc3dlcik7XG4gICAgICAgIH07IFxuICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQoZmllbGQpOyBcbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChob2xkZXIpO1xuICAgIH1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFtcIkxpYnJhcnlcIl0gPSByZXF1aXJlKFwiLSEvVXNlcnMvcmVtaXRhY2hlL1dvcmtzcGFjZS9mb3JtLWJ1aWxkZXIvbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL0Jsb2NrVGFncy50c1wiKTsiLCJpbXBvcnQge0J1aWxkZXJ9IGZyb20gXCIuLi9idWlsZGVyXCI7XG5pbXBvcnQgeyBCbG9ja1R5cGUgfSBmcm9tIFwiLi9ibG9ja1wiO1xuXG5leHBvcnQgY2xhc3MgQmxvY2tUYWdzIHtcbiAgICAvLyA8ZGl2IGlkPVwiaG9sZGVyXCI+XG4gICAgLy8gICAgIDxkaXYgaWQ9XCJ0YWdzXCI+XG4gICAgLy8gICAgICAgICAgPHNwYW4+XG4gICAgLy8gICAgICAgICAgICAgIHZhbHVlXG4gICAgLy8gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tZGFuZ2VyXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPi08L2J1dHRvbj5cbiAgICAvLyAgICAgICAgICA8L3NwYW4+XG4gICAgLy8gICAgIDwvZGl2PlxuICAgIC8vICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT1cIlwiIC8+XG4gICAgLy8gPC9kaXY+XG4gICAgXG4gICAgc3RhdGljIHJ1bihub2RlLCBibG9jayl7XG4gICAgICAgIC8vIHBhcnNlIGJsb2NrLmFuc3dlciBmb3IgYXJyYXkgdG8gc3RyaW5ncyBcbiAgICAgICAgaWYoYmxvY2suYW5zd2VyLmxlbmd0aD09MCl7XG4gICAgICAgICAgICBibG9jay5hbnN3ZXIgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBob2xkZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGVtZW50LWZvcm0tY29udGFpbmVyXCIpO1xuICAgICAgICBob2xkZXIuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJkaXNwbGF5OmZsZXhcIik7XG5cbiAgICAgICAgLy8gZGl2IGFuc3dlclxuICAgICAgICBsZXQgdGFncyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGhvbGRlci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInRhZ3NcIik7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGJsb2NrLmFuc3dlcik7XG5cbiAgICAgICAgaWYoYmxvY2suYW5zd2VyKXtcbiAgICAgICAgICAgIGJsb2NrLmFuc3dlci5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICBpZih2YWx1ZSAmJiB2YWx1ZS5sZW5ndGg+MCl7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGFnLnNldEF0dHJpYnV0ZShcImlkXCIsIFwidGFnLVwiK2Jsb2NrLmlkK1wiLVwiK3ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGFnLmlubmVySFRNTCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBCVUlMRCBERUxFVEUgVEFHXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWxCdG4gPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1wiY2xhc3NcIjpcImJ0biBidG4tZGFuZ2VyXCIsIFwidHlwZVwiOlwiYnV0dG9uXCJ9KTtcbiAgICAgICAgICAgICAgICAgICAgZGVsQnRuLmlubmVyVGV4dCA9ICctJzsgIFxuICAgICAgICAgICAgICAgICAgICBkZWxCdG4ub25jbGljayA9IChldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdzLnJlbW92ZUNoaWxkKHRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5hbnN3ZXIgPSBibG9jay5hbnN3ZXIuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbCtkZWxCdG4ub3V0ZXJIVE1MICE9IHRhZy5pbm5lckhUTUw7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGFnLmFwcGVuZENoaWxkKGRlbEJ0bik7IFxuICAgICAgICAgICAgICAgICAgICB0YWdzLmFwcGVuZENoaWxkKHRhZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZmllbGQgPSBCdWlsZGVyLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICAnY2xhc3MnOiBcImZmZlwiXG4gICAgICAgIH0pO1xuICAgICAgICAvL0Fzc2lnbiBkaWZmZXJlbnQgYXR0cmlidXRlcyB0byB0aGUgZWxlbWVudC4gXG5cbiAgICAgICAgZmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBCbG9ja1RhZ3MucHJvY2Vzc05ld0tleXdvcmQoZXZlbnQsIGZpZWxkLCBibG9jaywgdGFncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZpZWxkLm9uYmx1ciA9ICgpID0+IHtcbiAgICAgICAgICAgIEJsb2NrVGFncy5wcm9jZXNzTmV3S2V5d29yZChldmVudCwgZmllbGQsIGJsb2NrLCB0YWdzLCB0cnVlKTtcbiAgICAgICAgfTsgXG5cbiAgICAgICAgLy8gYWRkIG9uYmx1ciBzYXZlXG4gICAgICAgIC8vIGZpZWxkLm9uYmx1ciA9ICgpID0+IHtcbiAgICAgICAgLy8gICAgIGJsb2NrLmFuc3dlci5wdXNoKCg8SFRNTElucHV0RWxlbWVudD5maWVsZCkudmFsdWUpO1xuICAgICAgICAvLyAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmZpZWxkKS52YWx1ZSA9IG51bGw7XG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhibG9jay5hbnN3ZXIpO1xuICAgICAgICAvLyB9OyBcblxuICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQodGFncyk7IFxuICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQoZmllbGQpOyBcbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChob2xkZXIpO1xuICAgIH1cblxuXG4gICAgc3RhdGljIHByb2Nlc3NOZXdLZXl3b3JkKGV2ZW50LCBmaWVsZCwgYmxvY2ssIHRhZ3MsIGZvcmNlUHJvY2Vzczpib29sZWFuID0gZmFsc2Upe1xuICAgICAgICAvLyBcIkVudGVyXCIga2V5IG9uIHRoZSBrZXlib2FyZFxuICAgICAgICBpZiAoZm9yY2VQcm9jZXNzIHx8IGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcsJyB8fCBldmVudC5rZXlDb2RlID09IDE4OCkgeyAvLyB8fCBldmVudC5rZXkgPT09ICcgJyB8fCBldmVudC5jb2RlID09PSAnU3BhY2UnIHx8IGV2ZW50LmtleSA9PT0gJ1NwYWNlYmFyJ1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9ICg8SFRNTElucHV0RWxlbWVudD5maWVsZCkudmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAgICAgICAgaWYodmFsdWUgJiYgdmFsdWUubGVuZ3RoPjApe1xuICAgICAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5maWVsZCkudmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vYWRkIHRvIGFuc3dlclxuICAgICAgICAgICAgICAgIGJsb2NrLmFuc3dlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAvL2FkZCB0byBkaXNwbGF5XG4gICAgICAgICAgICAgICAgbGV0IHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgICAgIHRhZy5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAvLyBCVUlMRCBERUxFVEUgVEFHXG4gICAgICAgICAgICAgICAgbGV0IGRlbEJ0biA9IEJ1aWxkZXIuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XCJjbGFzc1wiOlwiYnRuXCIsIFwidHlwZVwiOlwiYnV0dG9uXCJ9KTtcbiAgICAgICAgICAgICAgICBkZWxCdG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+JzsgIFxuICAgICAgICAgICAgICAgIGRlbEJ0bi5vbmNsaWNrID0gKGV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGFncy5yZW1vdmVDaGlsZCh0YWcpO1xuICAgICAgICAgICAgICAgICAgICBibG9jay5hbnN3ZXIgPSBibG9jay5hbnN3ZXIuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbCtkZWxCdG4ub3V0ZXJIVE1MICE9IHRhZy5pbm5lckhUTUw7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRhZy5hcHBlbmRDaGlsZChkZWxCdG4pOyBcbiAgICAgICAgICAgICAgICB0YWdzLmFwcGVuZENoaWxkKHRhZyk7IFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=